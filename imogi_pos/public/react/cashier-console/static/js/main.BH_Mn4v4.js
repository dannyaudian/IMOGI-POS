function og(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var If={exports:{}},Ti={},Ff={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ws=Symbol.for("react.element"),ig=Symbol.for("react.portal"),ag=Symbol.for("react.fragment"),lg=Symbol.for("react.strict_mode"),ug=Symbol.for("react.profiler"),cg=Symbol.for("react.provider"),dg=Symbol.for("react.context"),fg=Symbol.for("react.forward_ref"),pg=Symbol.for("react.suspense"),hg=Symbol.for("react.memo"),mg=Symbol.for("react.lazy"),Vc=Symbol.iterator;function gg(e){return e===null||typeof e!="object"?null:(e=Vc&&e[Vc]||e["@@iterator"],typeof e=="function"?e:null)}var Mf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Df=Object.assign,Uf={};function Kr(e,t,n){this.props=e,this.context=t,this.refs=Uf,this.updater=n||Mf}Kr.prototype.isReactComponent={};Kr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zf(){}zf.prototype=Kr.prototype;function lu(e,t,n){this.props=e,this.context=t,this.refs=Uf,this.updater=n||Mf}var uu=lu.prototype=new zf;uu.constructor=lu;Df(uu,Kr.prototype);uu.isPureReactComponent=!0;var Hc=Array.isArray,Bf=Object.prototype.hasOwnProperty,cu={current:null},$f={key:!0,ref:!0,__self:!0,__source:!0};function Vf(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Bf.call(t,r)&&!$f.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ws,type:e,key:o,ref:i,props:s,_owner:cu.current}}function yg(e,t){return{$$typeof:Ws,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function du(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ws}function vg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var qc=/\/+/g;function ma(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vg(""+e.key):t.toString(36)}function Bo(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ws:case ig:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+ma(i,0):r,Hc(s)?(n="",e!=null&&(n=e.replace(qc,"$&/")+"/"),Bo(s,t,n,"",function(c){return c})):s!=null&&(du(s)&&(s=yg(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(qc,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Hc(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+ma(o,l);i+=Bo(o,t,n,a,s)}else if(a=gg(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+ma(o,l++),i+=Bo(o,t,n,a,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function vo(e,t,n){if(e==null)return e;var r=[],s=0;return Bo(e,r,"","",function(o){return t.call(n,o,s++)}),r}function wg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},$o={transition:null},xg={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:$o,ReactCurrentOwner:cu};function Hf(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:vo,forEach:function(e,t,n){vo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vo(e,function(){t++}),t},toArray:function(e){return vo(e,function(t){return t})||[]},only:function(e){if(!du(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=Kr;ue.Fragment=ag;ue.Profiler=ug;ue.PureComponent=lu;ue.StrictMode=lg;ue.Suspense=pg;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xg;ue.act=Hf;ue.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Df({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=cu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Bf.call(t,a)&&!$f.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ws,type:e.type,key:s,ref:o,props:r,_owner:i}};ue.createContext=function(e){return e={$$typeof:dg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cg,_context:e},e.Consumer=e};ue.createElement=Vf;ue.createFactory=function(e){var t=Vf.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:fg,render:e}};ue.isValidElement=du;ue.lazy=function(e){return{$$typeof:mg,_payload:{_status:-1,_result:e},_init:wg}};ue.memo=function(e,t){return{$$typeof:hg,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=$o.transition;$o.transition={};try{e()}finally{$o.transition=t}};ue.unstable_act=Hf;ue.useCallback=function(e,t){return st.current.useCallback(e,t)};ue.useContext=function(e){return st.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return st.current.useDeferredValue(e)};ue.useEffect=function(e,t){return st.current.useEffect(e,t)};ue.useId=function(){return st.current.useId()};ue.useImperativeHandle=function(e,t,n){return st.current.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return st.current.useMemo(e,t)};ue.useReducer=function(e,t,n){return st.current.useReducer(e,t,n)};ue.useRef=function(e){return st.current.useRef(e)};ue.useState=function(e){return st.current.useState(e)};ue.useSyncExternalStore=function(e,t,n){return st.current.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return st.current.useTransition()};ue.version="18.3.1";Ff.exports=ue;var O=Ff.exports;const Qr=og(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g=O,Sg=Symbol.for("react.element"),kg=Symbol.for("react.fragment"),Cg=Object.prototype.hasOwnProperty,Eg=_g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jg={key:!0,ref:!0,__self:!0,__source:!0};function qf(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Cg.call(t,r)&&!jg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Sg,type:e,key:o,ref:i,props:s,_owner:Eg.current}}Ti.Fragment=kg;Ti.jsx=qf;Ti.jsxs=qf;If.exports=Ti;var u=If.exports,ri={},Wf={exports:{}},gt={},Kf={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,q){var X=I.length;I.push(q);e:for(;0<X;){var te=X-1>>>1,fe=I[te];if(0<s(fe,q))I[te]=q,I[X]=fe,X=te;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var q=I[0],X=I.pop();if(X!==q){I[0]=X;e:for(var te=0,fe=I.length,le=fe>>>1;te<le;){var Me=2*(te+1)-1,Re=I[Me],He=Me+1,Ge=I[He];if(0>s(Re,X))He<fe&&0>s(Ge,Re)?(I[te]=Ge,I[He]=X,te=He):(I[te]=Re,I[Me]=X,te=Me);else if(He<fe&&0>s(Ge,X))I[te]=Ge,I[He]=X,te=He;else break e}}return q}function s(I,q){var X=I.sortIndex-q.sortIndex;return X!==0?X:I.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var a=[],c=[],p=1,m=null,y=3,v=!1,k=!1,C=!1,F=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=I)r(c),q.sortIndex=q.expirationTime,t(a,q);else break;q=n(c)}}function S(I){if(C=!1,_(I),!k)if(n(a)!==null)k=!0,Z(b);else{var q=n(c);q!==null&&U(S,q.startTime-I)}}function b(I,q){k=!1,C&&(C=!1,g(R),R=-1),v=!0;var X=y;try{for(_(q),m=n(a);m!==null&&(!(m.expirationTime>q)||I&&!re());){var te=m.callback;if(typeof te=="function"){m.callback=null,y=m.priorityLevel;var fe=te(m.expirationTime<=q);q=e.unstable_now(),typeof fe=="function"?m.callback=fe:m===n(a)&&r(a),_(q)}else r(a);m=n(a)}if(m!==null)var le=!0;else{var Me=n(c);Me!==null&&U(S,Me.startTime-q),le=!1}return le}finally{m=null,y=X,v=!1}}var A=!1,L=null,R=-1,K=5,B=-1;function re(){return!(e.unstable_now()-B<K)}function Y(){if(L!==null){var I=e.unstable_now();B=I;var q=!0;try{q=L(!0,I)}finally{q?J():(A=!1,L=null)}}else A=!1}var J;if(typeof w=="function")J=function(){w(Y)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,P=ee.port2;ee.port1.onmessage=Y,J=function(){P.postMessage(null)}}else J=function(){F(Y,0)};function Z(I){L=I,A||(A=!0,J())}function U(I,q){R=F(function(){I(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,Z(b))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(I){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var X=y;y=q;try{return I()}finally{y=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,q){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var X=y;y=I;try{return q()}finally{y=X}},e.unstable_scheduleCallback=function(I,q,X){var te=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?te+X:te):X=te,I){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=X+fe,I={id:p++,callback:q,priorityLevel:I,startTime:X,expirationTime:fe,sortIndex:-1},X>te?(I.sortIndex=X,t(c,I),n(a)===null&&I===n(c)&&(C?(g(R),R=-1):C=!0,U(S,X-te))):(I.sortIndex=fe,t(a,I),k||v||(k=!0,Z(b))),I},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(I){var q=y;return function(){var X=y;y=q;try{return I.apply(this,arguments)}finally{y=X}}}})(Qf);Kf.exports=Qf;var Ng=Kf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg=O,mt=Ng;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gf=new Set,bs={};function ar(e,t){Ur(e,t),Ur(e+"Capture",t)}function Ur(e,t){for(bs[e]=t,e=0;e<t.length;e++)Gf.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tl=Object.prototype.hasOwnProperty,Og=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wc={},Kc={};function Tg(e){return tl.call(Kc,e)?!0:tl.call(Wc,e)?!1:Og.test(e)?Kc[e]=!0:(Wc[e]=!0,!1)}function Rg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pg(e,t,n,r){if(t===null||typeof t>"u"||Rg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var fu=/[\-:]([a-z])/g;function pu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fu,pu);Qe[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fu,pu);Qe[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fu,pu);Qe[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function hu(e,t,n,r){var s=Qe.hasOwnProperty(t)?Qe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pg(t,n,s,r)&&(n=null),r||s===null?Tg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gn=bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wo=Symbol.for("react.element"),xr=Symbol.for("react.portal"),_r=Symbol.for("react.fragment"),mu=Symbol.for("react.strict_mode"),nl=Symbol.for("react.profiler"),Yf=Symbol.for("react.provider"),Xf=Symbol.for("react.context"),gu=Symbol.for("react.forward_ref"),rl=Symbol.for("react.suspense"),sl=Symbol.for("react.suspense_list"),yu=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),Jf=Symbol.for("react.offscreen"),Qc=Symbol.iterator;function rs(e){return e===null||typeof e!="object"?null:(e=Qc&&e[Qc]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,ga;function hs(e){if(ga===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ga=t&&t[1]||""}return`
`+ga+e}var ya=!1;function va(e,t){if(!e||ya)return"";ya=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var a=`
`+s[i].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=i&&0<=l);break}}}finally{ya=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hs(e):""}function Ag(e){switch(e.tag){case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 2:case 15:return e=va(e.type,!1),e;case 11:return e=va(e.type.render,!1),e;case 1:return e=va(e.type,!0),e;default:return""}}function ol(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _r:return"Fragment";case xr:return"Portal";case nl:return"Profiler";case mu:return"StrictMode";case rl:return"Suspense";case sl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xf:return(e.displayName||"Context")+".Consumer";case Yf:return(e._context.displayName||"Context")+".Provider";case gu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yu:return t=e.displayName||null,t!==null?t:ol(e.type)||"Memo";case kn:t=e._payload,e=e._init;try{return ol(e(t))}catch{}}return null}function Lg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ol(t);case 8:return t===mu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ig(e){var t=Zf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xo(e){e._valueTracker||(e._valueTracker=Ig(e))}function ep(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Zf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function il(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tp(e,t){t=t.checked,t!=null&&hu(e,"checked",t,!1)}function al(e,t){tp(e,t);var n=Dn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ll(e,t.type,n):t.hasOwnProperty("defaultValue")&&ll(e,t.type,Dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ll(e,t,n){(t!=="number"||si(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ms=Array.isArray;function Pr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ul(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(ms(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dn(n)}}function np(e,t){var n=Dn(t.value),r=Dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Jc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _o,sp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_o=_o||document.createElement("div"),_o.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_o.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Os(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fg=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(e){Fg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ws[t]=ws[e]})});function op(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ws.hasOwnProperty(e)&&ws[e]?(""+t).trim():t+"px"}function ip(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=op(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Mg=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dl(e,t){if(t){if(Mg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function fl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=null;function vu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hl=null,Ar=null,Lr=null;function Zc(e){if(e=Gs(e)){if(typeof hl!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Ii(t),hl(e.stateNode,e.type,t))}}function ap(e){Ar?Lr?Lr.push(e):Lr=[e]:Ar=e}function lp(){if(Ar){var e=Ar,t=Lr;if(Lr=Ar=null,Zc(e),t)for(e=0;e<t.length;e++)Zc(t[e])}}function up(e,t){return e(t)}function cp(){}var wa=!1;function dp(e,t,n){if(wa)return e(t,n);wa=!0;try{return up(e,t,n)}finally{wa=!1,(Ar!==null||Lr!==null)&&(cp(),lp())}}function Ts(e,t){var n=e.stateNode;if(n===null)return null;var r=Ii(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var ml=!1;if(dn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){ml=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{ml=!1}function Dg(e,t,n,r,s,o,i,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var xs=!1,oi=null,ii=!1,gl=null,Ug={onError:function(e){xs=!0,oi=e}};function zg(e,t,n,r,s,o,i,l,a){xs=!1,oi=null,Dg.apply(Ug,arguments)}function Bg(e,t,n,r,s,o,i,l,a){if(zg.apply(this,arguments),xs){if(xs){var c=oi;xs=!1,oi=null}else throw Error(M(198));ii||(ii=!0,gl=c)}}function lr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ed(e){if(lr(e)!==e)throw Error(M(188))}function $g(e){var t=e.alternate;if(!t){if(t=lr(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return ed(s),e;if(o===r)return ed(s),t;o=o.sibling}throw Error(M(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function pp(e){return e=$g(e),e!==null?hp(e):null}function hp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hp(e);if(t!==null)return t;e=e.sibling}return null}var mp=mt.unstable_scheduleCallback,td=mt.unstable_cancelCallback,Vg=mt.unstable_shouldYield,Hg=mt.unstable_requestPaint,Pe=mt.unstable_now,qg=mt.unstable_getCurrentPriorityLevel,wu=mt.unstable_ImmediatePriority,gp=mt.unstable_UserBlockingPriority,ai=mt.unstable_NormalPriority,Wg=mt.unstable_LowPriority,yp=mt.unstable_IdlePriority,Ri=null,Yt=null;function Kg(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Ri,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Yg,Qg=Math.log,Gg=Math.LN2;function Yg(e){return e>>>=0,e===0?32:31-(Qg(e)/Gg|0)|0}var So=64,ko=4194304;function gs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function li(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=gs(l):(o&=i,o!==0&&(r=gs(o)))}else i=n&~s,i!==0?r=gs(i):o!==0&&(r=gs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),s=1<<n,r|=e[n],t&=~s;return r}function Xg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-zt(o),l=1<<i,a=s[i];a===-1?(!(l&n)||l&r)&&(s[i]=Xg(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function yl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vp(){var e=So;return So<<=1,!(So&4194240)&&(So=64),e}function xa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ks(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function Zg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-zt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function xu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ge=0;function wp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xp,_u,_p,Sp,kp,vl=!1,Co=[],Tn=null,Rn=null,Pn=null,Rs=new Map,Ps=new Map,En=[],ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nd(e,t){switch(e){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(t.pointerId)}}function os(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Gs(t),t!==null&&_u(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ty(e,t,n,r,s){switch(t){case"focusin":return Tn=os(Tn,e,t,n,r,s),!0;case"dragenter":return Rn=os(Rn,e,t,n,r,s),!0;case"mouseover":return Pn=os(Pn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Rs.set(o,os(Rs.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ps.set(o,os(Ps.get(o)||null,e,t,n,r,s)),!0}return!1}function Cp(e){var t=Xn(e.target);if(t!==null){var n=lr(t);if(n!==null){if(t=n.tag,t===13){if(t=fp(n),t!==null){e.blockedOn=t,kp(e.priority,function(){_p(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pl=r,n.target.dispatchEvent(r),pl=null}else return t=Gs(n),t!==null&&_u(t),e.blockedOn=n,!1;t.shift()}return!0}function rd(e,t,n){Vo(e)&&n.delete(t)}function ny(){vl=!1,Tn!==null&&Vo(Tn)&&(Tn=null),Rn!==null&&Vo(Rn)&&(Rn=null),Pn!==null&&Vo(Pn)&&(Pn=null),Rs.forEach(rd),Ps.forEach(rd)}function is(e,t){e.blockedOn===t&&(e.blockedOn=null,vl||(vl=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,ny)))}function As(e){function t(s){return is(s,e)}if(0<Co.length){is(Co[0],e);for(var n=1;n<Co.length;n++){var r=Co[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Tn!==null&&is(Tn,e),Rn!==null&&is(Rn,e),Pn!==null&&is(Pn,e),Rs.forEach(t),Ps.forEach(t),n=0;n<En.length;n++)r=En[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<En.length&&(n=En[0],n.blockedOn===null);)Cp(n),n.blockedOn===null&&En.shift()}var Ir=gn.ReactCurrentBatchConfig,ui=!0;function ry(e,t,n,r){var s=ge,o=Ir.transition;Ir.transition=null;try{ge=1,Su(e,t,n,r)}finally{ge=s,Ir.transition=o}}function sy(e,t,n,r){var s=ge,o=Ir.transition;Ir.transition=null;try{ge=4,Su(e,t,n,r)}finally{ge=s,Ir.transition=o}}function Su(e,t,n,r){if(ui){var s=wl(e,t,n,r);if(s===null)Ta(e,t,r,ci,n),nd(e,r);else if(ty(s,e,t,n,r))r.stopPropagation();else if(nd(e,r),t&4&&-1<ey.indexOf(e)){for(;s!==null;){var o=Gs(s);if(o!==null&&xp(o),o=wl(e,t,n,r),o===null&&Ta(e,t,r,ci,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ta(e,t,r,null,n)}}var ci=null;function wl(e,t,n,r){if(ci=null,e=vu(r),e=Xn(e),e!==null)if(t=lr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ci=e,null}function Ep(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qg()){case wu:return 1;case gp:return 4;case ai:case Wg:return 16;case yp:return 536870912;default:return 16}default:return 16}}var Nn=null,ku=null,Ho=null;function jp(){if(Ho)return Ho;var e,t=ku,n=t.length,r,s="value"in Nn?Nn.value:Nn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Ho=s.slice(e,1<r?1-r:void 0)}function qo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eo(){return!0}function sd(){return!1}function yt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Eo:sd,this.isPropagationStopped=sd,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),t}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=yt(Gr),Qs=be({},Gr,{view:0,detail:0}),oy=yt(Qs),_a,Sa,as,Pi=be({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(_a=e.screenX-as.screenX,Sa=e.screenY-as.screenY):Sa=_a=0,as=e),_a)},movementY:function(e){return"movementY"in e?e.movementY:Sa}}),od=yt(Pi),iy=be({},Pi,{dataTransfer:0}),ay=yt(iy),ly=be({},Qs,{relatedTarget:0}),ka=yt(ly),uy=be({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),cy=yt(uy),dy=be({},Gr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fy=yt(dy),py=be({},Gr,{data:0}),id=yt(py),hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},my={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gy[e])?!!t[e]:!1}function Eu(){return yy}var vy=be({},Qs,{key:function(e){if(e.key){var t=hy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?my[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(e){return e.type==="keypress"?qo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wy=yt(vy),xy=be({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ad=yt(xy),_y=be({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),Sy=yt(_y),ky=be({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cy=yt(ky),Ey=be({},Pi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jy=yt(Ey),Ny=[9,13,27,32],ju=dn&&"CompositionEvent"in window,_s=null;dn&&"documentMode"in document&&(_s=document.documentMode);var by=dn&&"TextEvent"in window&&!_s,Np=dn&&(!ju||_s&&8<_s&&11>=_s),ld=" ",ud=!1;function bp(e,t){switch(e){case"keyup":return Ny.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Op(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sr=!1;function Oy(e,t){switch(e){case"compositionend":return Op(t);case"keypress":return t.which!==32?null:(ud=!0,ld);case"textInput":return e=t.data,e===ld&&ud?null:e;default:return null}}function Ty(e,t){if(Sr)return e==="compositionend"||!ju&&bp(e,t)?(e=jp(),Ho=ku=Nn=null,Sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Np&&t.locale!=="ko"?null:t.data;default:return null}}var Ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ry[e.type]:t==="textarea"}function Tp(e,t,n,r){ap(r),t=di(t,"onChange"),0<t.length&&(n=new Cu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ss=null,Ls=null;function Py(e){Bp(e,0)}function Ai(e){var t=Er(e);if(ep(t))return e}function Ay(e,t){if(e==="change")return t}var Rp=!1;if(dn){var Ca;if(dn){var Ea="oninput"in document;if(!Ea){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),Ea=typeof dd.oninput=="function"}Ca=Ea}else Ca=!1;Rp=Ca&&(!document.documentMode||9<document.documentMode)}function fd(){Ss&&(Ss.detachEvent("onpropertychange",Pp),Ls=Ss=null)}function Pp(e){if(e.propertyName==="value"&&Ai(Ls)){var t=[];Tp(t,Ls,e,vu(e)),dp(Py,t)}}function Ly(e,t,n){e==="focusin"?(fd(),Ss=t,Ls=n,Ss.attachEvent("onpropertychange",Pp)):e==="focusout"&&fd()}function Iy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ai(Ls)}function Fy(e,t){if(e==="click")return Ai(t)}function My(e,t){if(e==="input"||e==="change")return Ai(t)}function Dy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Dy;function Is(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!tl.call(t,s)||!$t(e[s],t[s]))return!1}return!0}function pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hd(e,t){var n=pd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pd(n)}}function Ap(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ap(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lp(){for(var e=window,t=si();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=si(e.document)}return t}function Nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uy(e){var t=Lp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ap(n.ownerDocument.documentElement,n)){if(r!==null&&Nu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=hd(n,o);var i=hd(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zy=dn&&"documentMode"in document&&11>=document.documentMode,kr=null,xl=null,ks=null,_l=!1;function md(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_l||kr==null||kr!==si(r)||(r=kr,"selectionStart"in r&&Nu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ks&&Is(ks,r)||(ks=r,r=di(xl,"onSelect"),0<r.length&&(t=new Cu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}function jo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},ja={},Ip={};dn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Li(e){if(ja[e])return ja[e];if(!Cr[e])return e;var t=Cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ip)return ja[e]=t[n];return e}var Fp=Li("animationend"),Mp=Li("animationiteration"),Dp=Li("animationstart"),Up=Li("transitionend"),zp=new Map,gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(e,t){zp.set(e,t),ar(t,[e])}for(var Na=0;Na<gd.length;Na++){var ba=gd[Na],By=ba.toLowerCase(),$y=ba[0].toUpperCase()+ba.slice(1);Bn(By,"on"+$y)}Bn(Fp,"onAnimationEnd");Bn(Mp,"onAnimationIteration");Bn(Dp,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(Up,"onTransitionEnd");Ur("onMouseEnter",["mouseout","mouseover"]);Ur("onMouseLeave",["mouseout","mouseover"]);Ur("onPointerEnter",["pointerout","pointerover"]);Ur("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vy=new Set("cancel close invalid load scroll toggle".split(" ").concat(ys));function yd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Bg(r,t,void 0,e),e.currentTarget=null}function Bp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==o&&s.isPropagationStopped())break e;yd(s,l,c),o=a}else for(i=0;i<r.length;i++){if(l=r[i],a=l.instance,c=l.currentTarget,l=l.listener,a!==o&&s.isPropagationStopped())break e;yd(s,l,c),o=a}}}if(ii)throw e=gl,ii=!1,gl=null,e}function Se(e,t){var n=t[jl];n===void 0&&(n=t[jl]=new Set);var r=e+"__bubble";n.has(r)||($p(t,e,2,!1),n.add(r))}function Oa(e,t,n){var r=0;t&&(r|=4),$p(n,e,r,t)}var No="_reactListening"+Math.random().toString(36).slice(2);function Fs(e){if(!e[No]){e[No]=!0,Gf.forEach(function(n){n!=="selectionchange"&&(Vy.has(n)||Oa(n,!1,e),Oa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[No]||(t[No]=!0,Oa("selectionchange",!1,t))}}function $p(e,t,n,r){switch(Ep(t)){case 1:var s=ry;break;case 4:s=sy;break;default:s=Su}n=s.bind(null,t,n,e),s=void 0,!ml||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ta(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var a=i.tag;if((a===3||a===4)&&(a=i.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Xn(l),i===null)return;if(a=i.tag,a===5||a===6){r=o=i;continue e}l=l.parentNode}}r=r.return}dp(function(){var c=o,p=vu(n),m=[];e:{var y=zp.get(e);if(y!==void 0){var v=Cu,k=e;switch(e){case"keypress":if(qo(n)===0)break e;case"keydown":case"keyup":v=wy;break;case"focusin":k="focus",v=ka;break;case"focusout":k="blur",v=ka;break;case"beforeblur":case"afterblur":v=ka;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Sy;break;case Fp:case Mp:case Dp:v=cy;break;case Up:v=Cy;break;case"scroll":v=oy;break;case"wheel":v=jy;break;case"copy":case"cut":case"paste":v=fy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ad}var C=(t&4)!==0,F=!C&&e==="scroll",g=C?y!==null?y+"Capture":null:y;C=[];for(var w=c,_;w!==null;){_=w;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,g!==null&&(S=Ts(w,g),S!=null&&C.push(Ms(w,S,_)))),F)break;w=w.return}0<C.length&&(y=new v(y,k,null,n,p),m.push({event:y,listeners:C}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",y&&n!==pl&&(k=n.relatedTarget||n.fromElement)&&(Xn(k)||k[fn]))break e;if((v||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,v?(k=n.relatedTarget||n.toElement,v=c,k=k?Xn(k):null,k!==null&&(F=lr(k),k!==F||k.tag!==5&&k.tag!==6)&&(k=null)):(v=null,k=c),v!==k)){if(C=od,S="onMouseLeave",g="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(C=ad,S="onPointerLeave",g="onPointerEnter",w="pointer"),F=v==null?y:Er(v),_=k==null?y:Er(k),y=new C(S,w+"leave",v,n,p),y.target=F,y.relatedTarget=_,S=null,Xn(p)===c&&(C=new C(g,w+"enter",k,n,p),C.target=_,C.relatedTarget=F,S=C),F=S,v&&k)t:{for(C=v,g=k,w=0,_=C;_;_=yr(_))w++;for(_=0,S=g;S;S=yr(S))_++;for(;0<w-_;)C=yr(C),w--;for(;0<_-w;)g=yr(g),_--;for(;w--;){if(C===g||g!==null&&C===g.alternate)break t;C=yr(C),g=yr(g)}C=null}else C=null;v!==null&&vd(m,y,v,C,!1),k!==null&&F!==null&&vd(m,F,k,C,!0)}}e:{if(y=c?Er(c):window,v=y.nodeName&&y.nodeName.toLowerCase(),v==="select"||v==="input"&&y.type==="file")var b=Ay;else if(cd(y))if(Rp)b=My;else{b=Iy;var A=Ly}else(v=y.nodeName)&&v.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(b=Fy);if(b&&(b=b(e,c))){Tp(m,b,n,p);break e}A&&A(e,y,c),e==="focusout"&&(A=y._wrapperState)&&A.controlled&&y.type==="number"&&ll(y,"number",y.value)}switch(A=c?Er(c):window,e){case"focusin":(cd(A)||A.contentEditable==="true")&&(kr=A,xl=c,ks=null);break;case"focusout":ks=xl=kr=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,md(m,n,p);break;case"selectionchange":if(zy)break;case"keydown":case"keyup":md(m,n,p)}var L;if(ju)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Sr?bp(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Np&&n.locale!=="ko"&&(Sr||R!=="onCompositionStart"?R==="onCompositionEnd"&&Sr&&(L=jp()):(Nn=p,ku="value"in Nn?Nn.value:Nn.textContent,Sr=!0)),A=di(c,R),0<A.length&&(R=new id(R,e,null,n,p),m.push({event:R,listeners:A}),L?R.data=L:(L=Op(n),L!==null&&(R.data=L)))),(L=by?Oy(e,n):Ty(e,n))&&(c=di(c,"onBeforeInput"),0<c.length&&(p=new id("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:c}),p.data=L))}Bp(m,t)})}function Ms(e,t,n){return{instance:e,listener:t,currentTarget:n}}function di(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ts(e,n),o!=null&&r.unshift(Ms(e,o,s)),o=Ts(e,t),o!=null&&r.push(Ms(e,o,s))),e=e.return}return r}function yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vd(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=Ts(n,o),a!=null&&i.unshift(Ms(n,a,l))):s||(a=Ts(n,o),a!=null&&i.push(Ms(n,a,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Hy=/\r\n?/g,qy=/\u0000|\uFFFD/g;function wd(e){return(typeof e=="string"?e:""+e).replace(Hy,`
`).replace(qy,"")}function bo(e,t,n){if(t=wd(t),wd(e)!==t&&n)throw Error(M(425))}function fi(){}var Sl=null,kl=null;function Cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var El=typeof setTimeout=="function"?setTimeout:void 0,Wy=typeof clearTimeout=="function"?clearTimeout:void 0,xd=typeof Promise=="function"?Promise:void 0,Ky=typeof queueMicrotask=="function"?queueMicrotask:typeof xd<"u"?function(e){return xd.resolve(null).then(e).catch(Qy)}:El;function Qy(e){setTimeout(function(){throw e})}function Ra(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),As(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);As(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _d(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Yr,Ds="__reactProps$"+Yr,fn="__reactContainer$"+Yr,jl="__reactEvents$"+Yr,Gy="__reactListeners$"+Yr,Yy="__reactHandles$"+Yr;function Xn(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fn]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_d(e);e!==null;){if(n=e[Gt])return n;e=_d(e)}return t}e=n,n=e.parentNode}return null}function Gs(e){return e=e[Gt]||e[fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Ii(e){return e[Ds]||null}var Nl=[],jr=-1;function $n(e){return{current:e}}function ke(e){0>jr||(e.current=Nl[jr],Nl[jr]=null,jr--)}function _e(e,t){jr++,Nl[jr]=e.current,e.current=t}var Un={},tt=$n(Un),lt=$n(!1),nr=Un;function zr(e,t){var n=e.type.contextTypes;if(!n)return Un;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ut(e){return e=e.childContextTypes,e!=null}function pi(){ke(lt),ke(tt)}function Sd(e,t,n){if(tt.current!==Un)throw Error(M(168));_e(tt,t),_e(lt,n)}function Vp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(M(108,Lg(e)||"Unknown",s));return be({},n,r)}function hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Un,nr=tt.current,_e(tt,e),_e(lt,lt.current),!0}function kd(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Vp(e,t,nr),r.__reactInternalMemoizedMergedChildContext=e,ke(lt),ke(tt),_e(tt,e)):ke(lt),_e(lt,n)}var on=null,Fi=!1,Pa=!1;function Hp(e){on===null?on=[e]:on.push(e)}function Xy(e){Fi=!0,Hp(e)}function Vn(){if(!Pa&&on!==null){Pa=!0;var e=0,t=ge;try{var n=on;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}on=null,Fi=!1}catch(s){throw on!==null&&(on=on.slice(e+1)),mp(wu,Vn),s}finally{ge=t,Pa=!1}}return null}var Nr=[],br=0,mi=null,gi=0,vt=[],wt=0,rr=null,ln=1,un="";function Gn(e,t){Nr[br++]=gi,Nr[br++]=mi,mi=e,gi=t}function qp(e,t,n){vt[wt++]=ln,vt[wt++]=un,vt[wt++]=rr,rr=e;var r=ln;e=un;var s=32-zt(r)-1;r&=~(1<<s),n+=1;var o=32-zt(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,ln=1<<32-zt(t)+s|n<<s|r,un=o+e}else ln=1<<o|n<<s|r,un=e}function bu(e){e.return!==null&&(Gn(e,1),qp(e,1,0))}function Ou(e){for(;e===mi;)mi=Nr[--br],Nr[br]=null,gi=Nr[--br],Nr[br]=null;for(;e===rr;)rr=vt[--wt],vt[wt]=null,un=vt[--wt],vt[wt]=null,ln=vt[--wt],vt[wt]=null}var ht=null,pt=null,Ee=!1,Mt=null;function Wp(e,t){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,pt=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rr!==null?{id:ln,overflow:un}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ht=e,pt=null,!0):!1;default:return!1}}function bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ol(e){if(Ee){var t=pt;if(t){var n=t;if(!Cd(e,t)){if(bl(e))throw Error(M(418));t=An(n.nextSibling);var r=ht;t&&Cd(e,t)?Wp(r,n):(e.flags=e.flags&-4097|2,Ee=!1,ht=e)}}else{if(bl(e))throw Error(M(418));e.flags=e.flags&-4097|2,Ee=!1,ht=e}}}function Ed(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function Oo(e){if(e!==ht)return!1;if(!Ee)return Ed(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cl(e.type,e.memoizedProps)),t&&(t=pt)){if(bl(e))throw Kp(),Error(M(418));for(;t;)Wp(e,t),t=An(t.nextSibling)}if(Ed(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=An(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=ht?An(e.stateNode.nextSibling):null;return!0}function Kp(){for(var e=pt;e;)e=An(e.nextSibling)}function Br(){pt=ht=null,Ee=!1}function Tu(e){Mt===null?Mt=[e]:Mt.push(e)}var Jy=gn.ReactCurrentBatchConfig;function ls(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function To(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jd(e){var t=e._init;return t(e._payload)}function Qp(e){function t(g,w){if(e){var _=g.deletions;_===null?(g.deletions=[w],g.flags|=16):_.push(w)}}function n(g,w){if(!e)return null;for(;w!==null;)t(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function s(g,w){return g=Mn(g,w),g.index=0,g.sibling=null,g}function o(g,w,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<w?(g.flags|=2,w):_):(g.flags|=2,w)):(g.flags|=1048576,w)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,w,_,S){return w===null||w.tag!==6?(w=Ua(_,g.mode,S),w.return=g,w):(w=s(w,_),w.return=g,w)}function a(g,w,_,S){var b=_.type;return b===_r?p(g,w,_.props.children,S,_.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===kn&&jd(b)===w.type)?(S=s(w,_.props),S.ref=ls(g,w,_),S.return=g,S):(S=Jo(_.type,_.key,_.props,null,g.mode,S),S.ref=ls(g,w,_),S.return=g,S)}function c(g,w,_,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=za(_,g.mode,S),w.return=g,w):(w=s(w,_.children||[]),w.return=g,w)}function p(g,w,_,S,b){return w===null||w.tag!==7?(w=tr(_,g.mode,S,b),w.return=g,w):(w=s(w,_),w.return=g,w)}function m(g,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ua(""+w,g.mode,_),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wo:return _=Jo(w.type,w.key,w.props,null,g.mode,_),_.ref=ls(g,null,w),_.return=g,_;case xr:return w=za(w,g.mode,_),w.return=g,w;case kn:var S=w._init;return m(g,S(w._payload),_)}if(ms(w)||rs(w))return w=tr(w,g.mode,_,null),w.return=g,w;To(g,w)}return null}function y(g,w,_,S){var b=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:l(g,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wo:return _.key===b?a(g,w,_,S):null;case xr:return _.key===b?c(g,w,_,S):null;case kn:return b=_._init,y(g,w,b(_._payload),S)}if(ms(_)||rs(_))return b!==null?null:p(g,w,_,S,null);To(g,_)}return null}function v(g,w,_,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(_)||null,l(w,g,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wo:return g=g.get(S.key===null?_:S.key)||null,a(w,g,S,b);case xr:return g=g.get(S.key===null?_:S.key)||null,c(w,g,S,b);case kn:var A=S._init;return v(g,w,_,A(S._payload),b)}if(ms(S)||rs(S))return g=g.get(_)||null,p(w,g,S,b,null);To(w,S)}return null}function k(g,w,_,S){for(var b=null,A=null,L=w,R=w=0,K=null;L!==null&&R<_.length;R++){L.index>R?(K=L,L=null):K=L.sibling;var B=y(g,L,_[R],S);if(B===null){L===null&&(L=K);break}e&&L&&B.alternate===null&&t(g,L),w=o(B,w,R),A===null?b=B:A.sibling=B,A=B,L=K}if(R===_.length)return n(g,L),Ee&&Gn(g,R),b;if(L===null){for(;R<_.length;R++)L=m(g,_[R],S),L!==null&&(w=o(L,w,R),A===null?b=L:A.sibling=L,A=L);return Ee&&Gn(g,R),b}for(L=r(g,L);R<_.length;R++)K=v(L,g,R,_[R],S),K!==null&&(e&&K.alternate!==null&&L.delete(K.key===null?R:K.key),w=o(K,w,R),A===null?b=K:A.sibling=K,A=K);return e&&L.forEach(function(re){return t(g,re)}),Ee&&Gn(g,R),b}function C(g,w,_,S){var b=rs(_);if(typeof b!="function")throw Error(M(150));if(_=b.call(_),_==null)throw Error(M(151));for(var A=b=null,L=w,R=w=0,K=null,B=_.next();L!==null&&!B.done;R++,B=_.next()){L.index>R?(K=L,L=null):K=L.sibling;var re=y(g,L,B.value,S);if(re===null){L===null&&(L=K);break}e&&L&&re.alternate===null&&t(g,L),w=o(re,w,R),A===null?b=re:A.sibling=re,A=re,L=K}if(B.done)return n(g,L),Ee&&Gn(g,R),b;if(L===null){for(;!B.done;R++,B=_.next())B=m(g,B.value,S),B!==null&&(w=o(B,w,R),A===null?b=B:A.sibling=B,A=B);return Ee&&Gn(g,R),b}for(L=r(g,L);!B.done;R++,B=_.next())B=v(L,g,R,B.value,S),B!==null&&(e&&B.alternate!==null&&L.delete(B.key===null?R:B.key),w=o(B,w,R),A===null?b=B:A.sibling=B,A=B);return e&&L.forEach(function(Y){return t(g,Y)}),Ee&&Gn(g,R),b}function F(g,w,_,S){if(typeof _=="object"&&_!==null&&_.type===_r&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case wo:e:{for(var b=_.key,A=w;A!==null;){if(A.key===b){if(b=_.type,b===_r){if(A.tag===7){n(g,A.sibling),w=s(A,_.props.children),w.return=g,g=w;break e}}else if(A.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===kn&&jd(b)===A.type){n(g,A.sibling),w=s(A,_.props),w.ref=ls(g,A,_),w.return=g,g=w;break e}n(g,A);break}else t(g,A);A=A.sibling}_.type===_r?(w=tr(_.props.children,g.mode,S,_.key),w.return=g,g=w):(S=Jo(_.type,_.key,_.props,null,g.mode,S),S.ref=ls(g,w,_),S.return=g,g=S)}return i(g);case xr:e:{for(A=_.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(g,w.sibling),w=s(w,_.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else t(g,w);w=w.sibling}w=za(_,g.mode,S),w.return=g,g=w}return i(g);case kn:return A=_._init,F(g,w,A(_._payload),S)}if(ms(_))return k(g,w,_,S);if(rs(_))return C(g,w,_,S);To(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(g,w.sibling),w=s(w,_),w.return=g,g=w):(n(g,w),w=Ua(_,g.mode,S),w.return=g,g=w),i(g)):n(g,w)}return F}var $r=Qp(!0),Gp=Qp(!1),yi=$n(null),vi=null,Or=null,Ru=null;function Pu(){Ru=Or=vi=null}function Au(e){var t=yi.current;ke(yi),e._currentValue=t}function Tl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fr(e,t){vi=e,Ru=Or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Ru!==e)if(e={context:e,memoizedValue:t,next:null},Or===null){if(vi===null)throw Error(M(308));Or=e,vi.dependencies={lanes:0,firstContext:e}}else Or=Or.next=e;return t}var Jn=null;function Lu(e){Jn===null?Jn=[e]:Jn.push(e)}function Yp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Lu(t)):(n.next=s.next,s.next=n),t.interleaved=n,pn(e,r)}function pn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Cn=!1;function Iu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,pn(e,n)}return s=r.interleaved,s===null?(t.next=t,Lu(r)):(t.next=s.next,s.next=t),r.interleaved=t,pn(e,n)}function Wo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xu(e,n)}}function Nd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wi(e,t,n,r){var s=e.updateQueue;Cn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,i===null?o=c:i.next=c,i=a;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==i&&(l===null?p.firstBaseUpdate=c:l.next=c,p.lastBaseUpdate=a))}if(o!==null){var m=s.baseState;i=0,p=c=a=null,l=o;do{var y=l.lane,v=l.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=e,C=l;switch(y=t,v=n,C.tag){case 1:if(k=C.payload,typeof k=="function"){m=k.call(v,m,y);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=C.payload,y=typeof k=="function"?k.call(v,m,y):k,y==null)break e;m=be({},m,y);break e;case 2:Cn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[l]:y.push(l))}else v={eventTime:v,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(c=p=v,a=m):p=p.next=v,i|=y;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;y=l,l=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(p===null&&(a=m),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);or|=i,e.lanes=i,e.memoizedState=m}}function bd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(M(191,s));s.call(r)}}}var Ys={},Xt=$n(Ys),Us=$n(Ys),zs=$n(Ys);function Zn(e){if(e===Ys)throw Error(M(174));return e}function Fu(e,t){switch(_e(zs,t),_e(Us,e),_e(Xt,Ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cl(t,e)}ke(Xt),_e(Xt,t)}function Vr(){ke(Xt),ke(Us),ke(zs)}function Jp(e){Zn(zs.current);var t=Zn(Xt.current),n=cl(t,e.type);t!==n&&(_e(Us,e),_e(Xt,n))}function Mu(e){Us.current===e&&(ke(Xt),ke(Us))}var je=$n(0);function xi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Aa=[];function Du(){for(var e=0;e<Aa.length;e++)Aa[e]._workInProgressVersionPrimary=null;Aa.length=0}var Ko=gn.ReactCurrentDispatcher,La=gn.ReactCurrentBatchConfig,sr=0,Ne=null,Ue=null,$e=null,_i=!1,Cs=!1,Bs=0,Zy=0;function Je(){throw Error(M(321))}function Uu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function zu(e,t,n,r,s,o){if(sr=o,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ko.current=e===null||e.memoizedState===null?rv:sv,e=n(r,s),Cs){o=0;do{if(Cs=!1,Bs=0,25<=o)throw Error(M(301));o+=1,$e=Ue=null,t.updateQueue=null,Ko.current=ov,e=n(r,s)}while(Cs)}if(Ko.current=Si,t=Ue!==null&&Ue.next!==null,sr=0,$e=Ue=Ne=null,_i=!1,t)throw Error(M(300));return e}function Bu(){var e=Bs!==0;return Bs=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Ne.memoizedState=$e=e:$e=$e.next=e,$e}function Et(){if(Ue===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=$e===null?Ne.memoizedState:$e.next;if(t!==null)$e=t,Ue=e;else{if(e===null)throw Error(M(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},$e===null?Ne.memoizedState=$e=e:$e=$e.next=e}return $e}function $s(e,t){return typeof t=="function"?t(e):t}function Ia(e){var t=Et(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Ue,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,a=null,c=o;do{var p=c.lane;if((sr&p)===p)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=m,i=r):a=a.next=m,Ne.lanes|=p,or|=p}c=c.next}while(c!==null&&c!==o);a===null?i=r:a.next=l,$t(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ne.lanes|=o,or|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fa(e){var t=Et(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);$t(o,t.memoizedState)||(at=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Zp(){}function eh(e,t){var n=Ne,r=Et(),s=t(),o=!$t(r.memoizedState,s);if(o&&(r.memoizedState=s,at=!0),r=r.queue,$u(rh.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,Vs(9,nh.bind(null,n,r,s,t),void 0,null),Ve===null)throw Error(M(349));sr&30||th(n,t,s)}return s}function th(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nh(e,t,n,r){t.value=n,t.getSnapshot=r,sh(t)&&oh(e)}function rh(e,t,n){return n(function(){sh(t)&&oh(e)})}function sh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function oh(e){var t=pn(e,1);t!==null&&Bt(t,e,1,-1)}function Od(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},t.queue=e,e=e.dispatch=nv.bind(null,Ne,e),[t.memoizedState,e]}function Vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ih(){return Et().memoizedState}function Qo(e,t,n,r){var s=Qt();Ne.flags|=e,s.memoizedState=Vs(1|t,n,void 0,r===void 0?null:r)}function Mi(e,t,n,r){var s=Et();r=r===void 0?null:r;var o=void 0;if(Ue!==null){var i=Ue.memoizedState;if(o=i.destroy,r!==null&&Uu(r,i.deps)){s.memoizedState=Vs(t,n,o,r);return}}Ne.flags|=e,s.memoizedState=Vs(1|t,n,o,r)}function Td(e,t){return Qo(8390656,8,e,t)}function $u(e,t){return Mi(2048,8,e,t)}function ah(e,t){return Mi(4,2,e,t)}function lh(e,t){return Mi(4,4,e,t)}function uh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ch(e,t,n){return n=n!=null?n.concat([e]):null,Mi(4,4,uh.bind(null,t,e),n)}function Vu(){}function dh(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Uu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fh(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Uu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ph(e,t,n){return sr&21?($t(n,t)||(n=vp(),Ne.lanes|=n,or|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n)}function ev(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=La.transition;La.transition={};try{e(!1),t()}finally{ge=n,La.transition=r}}function hh(){return Et().memoizedState}function tv(e,t,n){var r=Fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mh(e))gh(t,n);else if(n=Yp(e,t,n,r),n!==null){var s=rt();Bt(n,e,r,s),yh(n,t,r)}}function nv(e,t,n){var r=Fn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mh(e))gh(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,$t(l,i)){var a=t.interleaved;a===null?(s.next=s,Lu(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=Yp(e,t,s,r),n!==null&&(s=rt(),Bt(n,e,r,s),yh(n,t,r))}}function mh(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function gh(e,t){Cs=_i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xu(e,n)}}var Si={readContext:Ct,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},rv={readContext:Ct,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Td,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qo(4194308,4,uh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qo(4,2,e,t)},useMemo:function(e,t){var n=Qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tv.bind(null,Ne,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:Od,useDebugValue:Vu,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=Od(!1),t=e[0];return e=ev.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ne,s=Qt();if(Ee){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Ve===null)throw Error(M(349));sr&30||th(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Td(rh.bind(null,r,o,e),[e]),r.flags|=2048,Vs(9,nh.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Qt(),t=Ve.identifierPrefix;if(Ee){var n=un,r=ln;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sv={readContext:Ct,useCallback:dh,useContext:Ct,useEffect:$u,useImperativeHandle:ch,useInsertionEffect:ah,useLayoutEffect:lh,useMemo:fh,useReducer:Ia,useRef:ih,useState:function(){return Ia($s)},useDebugValue:Vu,useDeferredValue:function(e){var t=Et();return ph(t,Ue.memoizedState,e)},useTransition:function(){var e=Ia($s)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Zp,useSyncExternalStore:eh,useId:hh,unstable_isNewReconciler:!1},ov={readContext:Ct,useCallback:dh,useContext:Ct,useEffect:$u,useImperativeHandle:ch,useInsertionEffect:ah,useLayoutEffect:lh,useMemo:fh,useReducer:Fa,useRef:ih,useState:function(){return Fa($s)},useDebugValue:Vu,useDeferredValue:function(e){var t=Et();return Ue===null?t.memoizedState=e:ph(t,Ue.memoizedState,e)},useTransition:function(){var e=Fa($s)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Zp,useSyncExternalStore:eh,useId:hh,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Di={isMounted:function(e){return(e=e._reactInternals)?lr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rt(),s=Fn(e),o=cn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Ln(e,o,s),t!==null&&(Bt(t,e,s,r),Wo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rt(),s=Fn(e),o=cn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ln(e,o,s),t!==null&&(Bt(t,e,s,r),Wo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rt(),r=Fn(e),s=cn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ln(e,s,r),t!==null&&(Bt(t,e,r,n),Wo(t,e,r))}};function Rd(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Is(n,r)||!Is(s,o):!0}function vh(e,t,n){var r=!1,s=Un,o=t.contextType;return typeof o=="object"&&o!==null?o=Ct(o):(s=ut(t)?nr:tt.current,r=t.contextTypes,o=(r=r!=null)?zr(e,s):Un),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Di,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Pd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Di.enqueueReplaceState(t,t.state,null)}function Pl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Iu(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Ct(o):(o=ut(t)?nr:tt.current,s.context=zr(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Rl(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Di.enqueueReplaceState(s,s.state,null),wi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Hr(e,t){try{var n="",r=t;do n+=Ag(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Ma(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Al(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var iv=typeof WeakMap=="function"?WeakMap:Map;function wh(e,t,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ci||(Ci=!0,Vl=r),Al(e,t)},n}function xh(e,t,n){n=cn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Al(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Al(e,t),typeof r!="function"&&(In===null?In=new Set([this]):In.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ad(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new iv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=xv.bind(null,e,t,n),t.then(e,e))}function Ld(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Id(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cn(-1,1),t.tag=2,Ln(n,t,1))),n.lanes|=1),e)}var av=gn.ReactCurrentOwner,at=!1;function nt(e,t,n,r){t.child=e===null?Gp(t,null,n,r):$r(t,e.child,n,r)}function Fd(e,t,n,r,s){n=n.render;var o=t.ref;return Fr(t,s),r=zu(e,t,n,r,o,s),n=Bu(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(Ee&&n&&bu(t),t.flags|=1,nt(e,t,r,s),t.child)}function Md(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Xu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,_h(e,t,o,r,s)):(e=Jo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Is,n(i,r)&&e.ref===t.ref)return hn(e,t,s)}return t.flags|=1,e=Mn(o,r),e.ref=t.ref,e.return=t,t.child=e}function _h(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Is(o,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,hn(e,t,s)}return Ll(e,t,n,r,s)}function Sh(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Rr,ft),ft|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Rr,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_e(Rr,ft),ft|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,_e(Rr,ft),ft|=r;return nt(e,t,s,n),t.child}function kh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ll(e,t,n,r,s){var o=ut(n)?nr:tt.current;return o=zr(t,o),Fr(t,s),n=zu(e,t,n,r,o,s),r=Bu(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(Ee&&r&&bu(t),t.flags|=1,nt(e,t,n,s),t.child)}function Dd(e,t,n,r,s){if(ut(n)){var o=!0;hi(t)}else o=!1;if(Fr(t,s),t.stateNode===null)Go(e,t),vh(t,n,r),Pl(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var a=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ct(c):(c=ut(n)?nr:tt.current,c=zr(t,c));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Pd(t,i,r,c),Cn=!1;var y=t.memoizedState;i.state=y,wi(t,r,i,s),a=t.memoizedState,l!==r||y!==a||lt.current||Cn?(typeof p=="function"&&(Rl(t,n,p,r),a=t.memoizedState),(l=Cn||Rd(t,n,l,r,y,a,c))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),i.props=r,i.state=a,i.context=c,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Xp(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Lt(t.type,l),i.props=c,m=t.pendingProps,y=i.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ct(a):(a=ut(n)?nr:tt.current,a=zr(t,a));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||y!==a)&&Pd(t,i,r,a),Cn=!1,y=t.memoizedState,i.state=y,wi(t,r,i,s);var k=t.memoizedState;l!==m||y!==k||lt.current||Cn?(typeof v=="function"&&(Rl(t,n,v,r),k=t.memoizedState),(c=Cn||Rd(t,n,c,r,y,k,a)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,k,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,k,a)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),i.props=r,i.state=k,i.context=a,r=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return Il(e,t,n,r,o,s)}function Il(e,t,n,r,s,o){kh(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&kd(t,n,!1),hn(e,t,o);r=t.stateNode,av.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=$r(t,e.child,null,o),t.child=$r(t,null,l,o)):nt(e,t,l,o),t.memoizedState=r.state,s&&kd(t,n,!0),t.child}function Ch(e){var t=e.stateNode;t.pendingContext?Sd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sd(e,t.context,!1),Fu(e,t.containerInfo)}function Ud(e,t,n,r,s){return Br(),Tu(s),t.flags|=256,nt(e,t,n,r),t.child}var Fl={dehydrated:null,treeContext:null,retryLane:0};function Ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function Eh(e,t,n){var r=t.pendingProps,s=je.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),_e(je,s&1),e===null)return Ol(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Bi(i,r,0,null),e=tr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ml(n),t.memoizedState=Fl,e):Hu(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return lv(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Mn(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Mn(l,o):(o=tr(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Ml(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Fl,r}return o=e.child,e=o.sibling,r=Mn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hu(e,t){return t=Bi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ro(e,t,n,r){return r!==null&&Tu(r),$r(t,e.child,null,n),e=Hu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lv(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Ma(Error(M(422))),Ro(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Bi({mode:"visible",children:r.children},s,0,null),o=tr(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&$r(t,e.child,null,i),t.child.memoizedState=Ml(i),t.memoizedState=Fl,o);if(!(t.mode&1))return Ro(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(M(419)),r=Ma(o,r,void 0),Ro(e,t,i,r)}if(l=(i&e.childLanes)!==0,at||l){if(r=Ve,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,pn(e,s),Bt(r,e,s,-1))}return Yu(),r=Ma(Error(M(421))),Ro(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_v.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,pt=An(s.nextSibling),ht=t,Ee=!0,Mt=null,e!==null&&(vt[wt++]=ln,vt[wt++]=un,vt[wt++]=rr,ln=e.id,un=e.overflow,rr=t),t=Hu(t,r.children),t.flags|=4096,t)}function zd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tl(e.return,t,n)}function Da(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function jh(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(nt(e,t,r.children,n),r=je.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zd(e,n,t);else if(e.tag===19)zd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(je,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&xi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Da(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&xi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Da(t,!0,n,null,o);break;case"together":Da(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),or|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uv(e,t,n){switch(t.tag){case 3:Ch(t),Br();break;case 5:Jp(t);break;case 1:ut(t.type)&&hi(t);break;case 4:Fu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;_e(yi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_e(je,je.current&1),t.flags|=128,null):n&t.child.childLanes?Eh(e,t,n):(_e(je,je.current&1),e=hn(e,t,n),e!==null?e.sibling:null);_e(je,je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(je,je.current),r)break;return null;case 22:case 23:return t.lanes=0,Sh(e,t,n)}return hn(e,t,n)}var Nh,Dl,bh,Oh;Nh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dl=function(){};bh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Zn(Xt.current);var o=null;switch(n){case"input":s=il(e,s),r=il(e,r),o=[];break;case"select":s=be({},s,{value:void 0}),r=be({},r,{value:void 0}),o=[];break;case"textarea":s=ul(e,s),r=ul(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fi)}dl(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(i in l)!l.hasOwnProperty(i)||a&&a.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in a)a.hasOwnProperty(i)&&l[i]!==a[i]&&(n||(n={}),n[i]=a[i])}else n||(o||(o=[]),o.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bs.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Se("scroll",e),o||l===a||(o=[])):(o=o||[]).push(c,a))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Oh=function(e,t,n,r){n!==r&&(t.flags|=4)};function us(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cv(e,t,n){var r=t.pendingProps;switch(Ou(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return ut(t.type)&&pi(),Ze(t),null;case 3:return r=t.stateNode,Vr(),ke(lt),ke(tt),Du(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mt!==null&&(Wl(Mt),Mt=null))),Dl(e,t),Ze(t),null;case 5:Mu(t);var s=Zn(zs.current);if(n=t.type,e!==null&&t.stateNode!=null)bh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Ze(t),null}if(e=Zn(Xt.current),Oo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Gt]=t,r[Ds]=o,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<ys.length;s++)Se(ys[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Gc(r,o),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Se("invalid",r);break;case"textarea":Xc(r,o),Se("invalid",r)}dl(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&bo(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&bo(r.textContent,l,e),s=["children",""+l]):bs.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Se("scroll",r)}switch(n){case"input":xo(r),Yc(r,o,!0);break;case"textarea":xo(r),Jc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=fi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Gt]=t,e[Ds]=r,Nh(e,t,!1,!1),t.stateNode=e;e:{switch(i=fl(n,r),n){case"dialog":Se("cancel",e),Se("close",e),s=r;break;case"iframe":case"object":case"embed":Se("load",e),s=r;break;case"video":case"audio":for(s=0;s<ys.length;s++)Se(ys[s],e);s=r;break;case"source":Se("error",e),s=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),s=r;break;case"details":Se("toggle",e),s=r;break;case"input":Gc(e,r),s=il(e,r),Se("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=be({},r,{value:void 0}),Se("invalid",e);break;case"textarea":Xc(e,r),s=ul(e,r),Se("invalid",e);break;default:s=r}dl(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?ip(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&sp(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Os(e,a):typeof a=="number"&&Os(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bs.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Se("scroll",e):a!=null&&hu(e,o,a,i))}switch(n){case"input":xo(e),Yc(e,r,!1);break;case"textarea":xo(e),Jc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Pr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Pr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)Oh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Zn(zs.current),Zn(Xt.current),Oo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(o=r.nodeValue!==n)&&(e=ht,e!==null))switch(e.tag){case 3:bo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return Ze(t),null;case 13:if(ke(je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&pt!==null&&t.mode&1&&!(t.flags&128))Kp(),Br(),t.flags|=98560,o=!1;else if(o=Oo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(M(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(M(317));o[Gt]=t}else Br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),o=!1}else Mt!==null&&(Wl(Mt),Mt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?ze===0&&(ze=3):Yu())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return Vr(),Dl(e,t),e===null&&Fs(t.stateNode.containerInfo),Ze(t),null;case 10:return Au(t.type._context),Ze(t),null;case 17:return ut(t.type)&&pi(),Ze(t),null;case 19:if(ke(je),o=t.memoizedState,o===null)return Ze(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)us(o,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=xi(e),i!==null){for(t.flags|=128,us(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(je,je.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pe()>qr&&(t.flags|=128,r=!0,us(o,!1),t.lanes=4194304)}else{if(!r)if(e=xi(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),us(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ee)return Ze(t),null}else 2*Pe()-o.renderingStartTime>qr&&n!==1073741824&&(t.flags|=128,r=!0,us(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pe(),t.sibling=null,n=je.current,_e(je,r?n&1|2:n&1),t):(Ze(t),null);case 22:case 23:return Gu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function dv(e,t){switch(Ou(t),t.tag){case 1:return ut(t.type)&&pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vr(),ke(lt),ke(tt),Du(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mu(t),null;case 13:if(ke(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(je),null;case 4:return Vr(),null;case 10:return Au(t.type._context),null;case 22:case 23:return Gu(),null;case 24:return null;default:return null}}var Po=!1,et=!1,fv=typeof WeakSet=="function"?WeakSet:Set,G=null;function Tr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function Ul(e,t,n){try{n()}catch(r){Te(e,t,r)}}var Bd=!1;function pv(e,t){if(Sl=ui,e=Lp(),Nu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,a=-1,c=0,p=0,m=e,y=null;t:for(;;){for(var v;m!==n||s!==0&&m.nodeType!==3||(l=i+s),m!==o||r!==0&&m.nodeType!==3||(a=i+r),m.nodeType===3&&(i+=m.nodeValue.length),(v=m.firstChild)!==null;)y=m,m=v;for(;;){if(m===e)break t;if(y===n&&++c===s&&(l=i),y===o&&++p===r&&(a=i),(v=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(kl={focusedElem:e,selectionRange:n},ui=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var C=k.memoizedProps,F=k.memoizedState,g=t.stateNode,w=g.getSnapshotBeforeUpdate(t.elementType===t.type?C:Lt(t.type,C),F);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(S){Te(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return k=Bd,Bd=!1,k}function Es(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Ul(t,n,o)}s=s.next}while(s!==r)}}function Ui(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Th(e){var t=e.alternate;t!==null&&(e.alternate=null,Th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Ds],delete t[jl],delete t[Gy],delete t[Yy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rh(e){return e.tag===5||e.tag===3||e.tag===4}function $d(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fi));else if(r!==4&&(e=e.child,e!==null))for(Bl(e,t,n),e=e.sibling;e!==null;)Bl(e,t,n),e=e.sibling}function $l(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($l(e,t,n),e=e.sibling;e!==null;)$l(e,t,n),e=e.sibling}var qe=null,It=!1;function Sn(e,t,n){for(n=n.child;n!==null;)Ph(e,t,n),n=n.sibling}function Ph(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Ri,n)}catch{}switch(n.tag){case 5:et||Tr(n,t);case 6:var r=qe,s=It;qe=null,Sn(e,t,n),qe=r,It=s,qe!==null&&(It?(e=qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(It?(e=qe,n=n.stateNode,e.nodeType===8?Ra(e.parentNode,n):e.nodeType===1&&Ra(e,n),As(e)):Ra(qe,n.stateNode));break;case 4:r=qe,s=It,qe=n.stateNode.containerInfo,It=!0,Sn(e,t,n),qe=r,It=s;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Ul(n,t,i),s=s.next}while(s!==r)}Sn(e,t,n);break;case 1:if(!et&&(Tr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,t,l)}Sn(e,t,n);break;case 21:Sn(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,Sn(e,t,n),et=r):Sn(e,t,n);break;default:Sn(e,t,n)}}function Vd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fv),t.forEach(function(r){var s=Sv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:qe=l.stateNode,It=!1;break e;case 3:qe=l.stateNode.containerInfo,It=!0;break e;case 4:qe=l.stateNode.containerInfo,It=!0;break e}l=l.return}if(qe===null)throw Error(M(160));Ph(o,i,s),qe=null,It=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){Te(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ah(t,e),t=t.sibling}function Ah(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Wt(e),r&4){try{Es(3,e,e.return),Ui(3,e)}catch(C){Te(e,e.return,C)}try{Es(5,e,e.return)}catch(C){Te(e,e.return,C)}}break;case 1:Ot(t,e),Wt(e),r&512&&n!==null&&Tr(n,n.return);break;case 5:if(Ot(t,e),Wt(e),r&512&&n!==null&&Tr(n,n.return),e.flags&32){var s=e.stateNode;try{Os(s,"")}catch(C){Te(e,e.return,C)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&tp(s,o),fl(l,i);var c=fl(l,o);for(i=0;i<a.length;i+=2){var p=a[i],m=a[i+1];p==="style"?ip(s,m):p==="dangerouslySetInnerHTML"?sp(s,m):p==="children"?Os(s,m):hu(s,p,m,c)}switch(l){case"input":al(s,o);break;case"textarea":np(s,o);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Pr(s,!!o.multiple,v,!1):y!==!!o.multiple&&(o.defaultValue!=null?Pr(s,!!o.multiple,o.defaultValue,!0):Pr(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ds]=o}catch(C){Te(e,e.return,C)}}break;case 6:if(Ot(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(C){Te(e,e.return,C)}}break;case 3:if(Ot(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{As(t.containerInfo)}catch(C){Te(e,e.return,C)}break;case 4:Ot(t,e),Wt(e);break;case 13:Ot(t,e),Wt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Ku=Pe())),r&4&&Vd(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(et=(c=et)||p,Ot(t,e),et=c):Ot(t,e),Wt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(G=e,p=e.child;p!==null;){for(m=G=p;G!==null;){switch(y=G,v=y.child,y.tag){case 0:case 11:case 14:case 15:Es(4,y,y.return);break;case 1:Tr(y,y.return);var k=y.stateNode;if(typeof k.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(C){Te(r,n,C)}}break;case 5:Tr(y,y.return);break;case 22:if(y.memoizedState!==null){qd(m);continue}}v!==null?(v.return=y,G=v):qd(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{s=m.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,a=m.memoizedProps.style,i=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=op("display",i))}catch(C){Te(e,e.return,C)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(C){Te(e,e.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ot(t,e),Wt(e),r&4&&Vd(e);break;case 21:break;default:Ot(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Rh(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Os(s,""),r.flags&=-33);var o=$d(e);$l(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=$d(e);Bl(e,l,i);break;default:throw Error(M(161))}}catch(a){Te(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hv(e,t,n){G=e,Lh(e)}function Lh(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var s=G,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Po;if(!i){var l=s.alternate,a=l!==null&&l.memoizedState!==null||et;l=Po;var c=et;if(Po=i,(et=a)&&!c)for(G=s;G!==null;)i=G,a=i.child,i.tag===22&&i.memoizedState!==null?Wd(s):a!==null?(a.return=i,G=a):Wd(s);for(;o!==null;)G=o,Lh(o),o=o.sibling;G=s,Po=l,et=c}Hd(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,G=o):Hd(e)}}function Hd(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||Ui(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Lt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&bd(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bd(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&As(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}et||t.flags&512&&zl(t)}catch(y){Te(t,t.return,y)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function qd(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function Wd(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ui(4,t)}catch(a){Te(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){Te(t,s,a)}}var o=t.return;try{zl(t)}catch(a){Te(t,o,a)}break;case 5:var i=t.return;try{zl(t)}catch(a){Te(t,i,a)}}}catch(a){Te(t,t.return,a)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var mv=Math.ceil,ki=gn.ReactCurrentDispatcher,qu=gn.ReactCurrentOwner,kt=gn.ReactCurrentBatchConfig,he=0,Ve=null,Ie=null,Ke=0,ft=0,Rr=$n(0),ze=0,Hs=null,or=0,zi=0,Wu=0,js=null,it=null,Ku=0,qr=1/0,sn=null,Ci=!1,Vl=null,In=null,Ao=!1,bn=null,Ei=0,Ns=0,Hl=null,Yo=-1,Xo=0;function rt(){return he&6?Pe():Yo!==-1?Yo:Yo=Pe()}function Fn(e){return e.mode&1?he&2&&Ke!==0?Ke&-Ke:Jy.transition!==null?(Xo===0&&(Xo=vp()),Xo):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Ep(e.type)),e):1}function Bt(e,t,n,r){if(50<Ns)throw Ns=0,Hl=null,Error(M(185));Ks(e,n,r),(!(he&2)||e!==Ve)&&(e===Ve&&(!(he&2)&&(zi|=n),ze===4&&jn(e,Ke)),ct(e,r),n===1&&he===0&&!(t.mode&1)&&(qr=Pe()+500,Fi&&Vn()))}function ct(e,t){var n=e.callbackNode;Jg(e,t);var r=li(e,e===Ve?Ke:0);if(r===0)n!==null&&td(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&td(n),t===1)e.tag===0?Xy(Kd.bind(null,e)):Hp(Kd.bind(null,e)),Ky(function(){!(he&6)&&Vn()}),n=null;else{switch(wp(r)){case 1:n=wu;break;case 4:n=gp;break;case 16:n=ai;break;case 536870912:n=yp;break;default:n=ai}n=$h(n,Ih.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ih(e,t){if(Yo=-1,Xo=0,he&6)throw Error(M(327));var n=e.callbackNode;if(Mr()&&e.callbackNode!==n)return null;var r=li(e,e===Ve?Ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ji(e,r);else{t=r;var s=he;he|=2;var o=Mh();(Ve!==e||Ke!==t)&&(sn=null,qr=Pe()+500,er(e,t));do try{vv();break}catch(l){Fh(e,l)}while(!0);Pu(),ki.current=o,he=s,Ie!==null?t=0:(Ve=null,Ke=0,t=ze)}if(t!==0){if(t===2&&(s=yl(e),s!==0&&(r=s,t=ql(e,s))),t===1)throw n=Hs,er(e,0),jn(e,r),ct(e,Pe()),n;if(t===6)jn(e,r);else{if(s=e.current.alternate,!(r&30)&&!gv(s)&&(t=ji(e,r),t===2&&(o=yl(e),o!==0&&(r=o,t=ql(e,o))),t===1))throw n=Hs,er(e,0),jn(e,r),ct(e,Pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:Yn(e,it,sn);break;case 3:if(jn(e,r),(r&130023424)===r&&(t=Ku+500-Pe(),10<t)){if(li(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=El(Yn.bind(null,e,it,sn),t);break}Yn(e,it,sn);break;case 4:if(jn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-zt(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mv(r/1960))-r,10<r){e.timeoutHandle=El(Yn.bind(null,e,it,sn),r);break}Yn(e,it,sn);break;case 5:Yn(e,it,sn);break;default:throw Error(M(329))}}}return ct(e,Pe()),e.callbackNode===n?Ih.bind(null,e):null}function ql(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(er(e,t).flags|=256),e=ji(e,t),e!==2&&(t=it,it=n,t!==null&&Wl(t)),e}function Wl(e){it===null?it=e:it.push.apply(it,e)}function gv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!$t(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t){for(t&=~Wu,t&=~zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function Kd(e){if(he&6)throw Error(M(327));Mr();var t=li(e,0);if(!(t&1))return ct(e,Pe()),null;var n=ji(e,t);if(e.tag!==0&&n===2){var r=yl(e);r!==0&&(t=r,n=ql(e,r))}if(n===1)throw n=Hs,er(e,0),jn(e,t),ct(e,Pe()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yn(e,it,sn),ct(e,Pe()),null}function Qu(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(qr=Pe()+500,Fi&&Vn())}}function ir(e){bn!==null&&bn.tag===0&&!(he&6)&&Mr();var t=he;he|=1;var n=kt.transition,r=ge;try{if(kt.transition=null,ge=1,e)return e()}finally{ge=r,kt.transition=n,he=t,!(he&6)&&Vn()}}function Gu(){ft=Rr.current,ke(Rr)}function er(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wy(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(Ou(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pi();break;case 3:Vr(),ke(lt),ke(tt),Du();break;case 5:Mu(r);break;case 4:Vr();break;case 13:ke(je);break;case 19:ke(je);break;case 10:Au(r.type._context);break;case 22:case 23:Gu()}n=n.return}if(Ve=e,Ie=e=Mn(e.current,null),Ke=ft=t,ze=0,Hs=null,Wu=zi=or=0,it=js=null,Jn!==null){for(t=0;t<Jn.length;t++)if(n=Jn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Jn=null}return e}function Fh(e,t){do{var n=Ie;try{if(Pu(),Ko.current=Si,_i){for(var r=Ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_i=!1}if(sr=0,$e=Ue=Ne=null,Cs=!1,Bs=0,qu.current=null,n===null||n.return===null){ze=1,Hs=t,Ie=null;break}e:{var o=e,i=n.return,l=n,a=t;if(t=Ke,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Ld(i);if(v!==null){v.flags&=-257,Id(v,i,l,o,t),v.mode&1&&Ad(o,c,t),t=v,a=c;var k=t.updateQueue;if(k===null){var C=new Set;C.add(a),t.updateQueue=C}else k.add(a);break e}else{if(!(t&1)){Ad(o,c,t),Yu();break e}a=Error(M(426))}}else if(Ee&&l.mode&1){var F=Ld(i);if(F!==null){!(F.flags&65536)&&(F.flags|=256),Id(F,i,l,o,t),Tu(Hr(a,l));break e}}o=a=Hr(a,l),ze!==4&&(ze=2),js===null?js=[o]:js.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=wh(o,a,t);Nd(o,g);break e;case 1:l=a;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(In===null||!In.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=xh(o,l,t);Nd(o,S);break e}}o=o.return}while(o!==null)}Uh(n)}catch(b){t=b,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function Mh(){var e=ki.current;return ki.current=Si,e===null?Si:e}function Yu(){(ze===0||ze===3||ze===2)&&(ze=4),Ve===null||!(or&268435455)&&!(zi&268435455)||jn(Ve,Ke)}function ji(e,t){var n=he;he|=2;var r=Mh();(Ve!==e||Ke!==t)&&(sn=null,er(e,t));do try{yv();break}catch(s){Fh(e,s)}while(!0);if(Pu(),he=n,ki.current=r,Ie!==null)throw Error(M(261));return Ve=null,Ke=0,ze}function yv(){for(;Ie!==null;)Dh(Ie)}function vv(){for(;Ie!==null&&!Vg();)Dh(Ie)}function Dh(e){var t=Bh(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?Uh(e):Ie=t,qu.current=null}function Uh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dv(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Ie=null;return}}else if(n=cv(n,t,ft),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);ze===0&&(ze=5)}function Yn(e,t,n){var r=ge,s=kt.transition;try{kt.transition=null,ge=1,wv(e,t,n,r)}finally{kt.transition=s,ge=r}return null}function wv(e,t,n,r){do Mr();while(bn!==null);if(he&6)throw Error(M(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Zg(e,o),e===Ve&&(Ie=Ve=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ao||(Ao=!0,$h(ai,function(){return Mr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=kt.transition,kt.transition=null;var i=ge;ge=1;var l=he;he|=4,qu.current=null,pv(e,n),Ah(n,e),Uy(kl),ui=!!Sl,kl=Sl=null,e.current=n,hv(n),Hg(),he=l,ge=i,kt.transition=o}else e.current=n;if(Ao&&(Ao=!1,bn=e,Ei=s),o=e.pendingLanes,o===0&&(In=null),Kg(n.stateNode),ct(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ci)throw Ci=!1,e=Vl,Vl=null,e;return Ei&1&&e.tag!==0&&Mr(),o=e.pendingLanes,o&1?e===Hl?Ns++:(Ns=0,Hl=e):Ns=0,Vn(),null}function Mr(){if(bn!==null){var e=wp(Ei),t=kt.transition,n=ge;try{if(kt.transition=null,ge=16>e?16:e,bn===null)var r=!1;else{if(e=bn,bn=null,Ei=0,he&6)throw Error(M(331));var s=he;for(he|=4,G=e.current;G!==null;){var o=G,i=o.child;if(G.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(G=c;G!==null;){var p=G;switch(p.tag){case 0:case 11:case 15:Es(8,p,o)}var m=p.child;if(m!==null)m.return=p,G=m;else for(;G!==null;){p=G;var y=p.sibling,v=p.return;if(Th(p),p===c){G=null;break}if(y!==null){y.return=v,G=y;break}G=v}}}var k=o.alternate;if(k!==null){var C=k.child;if(C!==null){k.child=null;do{var F=C.sibling;C.sibling=null,C=F}while(C!==null)}}G=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,G=i;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Es(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,G=g;break e}G=o.return}}var w=e.current;for(G=w;G!==null;){i=G;var _=i.child;if(i.subtreeFlags&2064&&_!==null)_.return=i,G=_;else e:for(i=w;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ui(9,l)}}catch(b){Te(l,l.return,b)}if(l===i){G=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,G=S;break e}G=l.return}}if(he=s,Vn(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Ri,e)}catch{}r=!0}return r}finally{ge=n,kt.transition=t}}return!1}function Qd(e,t,n){t=Hr(n,t),t=wh(e,t,1),e=Ln(e,t,1),t=rt(),e!==null&&(Ks(e,1,t),ct(e,t))}function Te(e,t,n){if(e.tag===3)Qd(e,e,n);else for(;t!==null;){if(t.tag===3){Qd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(In===null||!In.has(r))){e=Hr(n,e),e=xh(t,e,1),t=Ln(t,e,1),e=rt(),t!==null&&(Ks(t,1,e),ct(t,e));break}}t=t.return}}function xv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&n,Ve===e&&(Ke&n)===n&&(ze===4||ze===3&&(Ke&130023424)===Ke&&500>Pe()-Ku?er(e,0):Wu|=n),ct(e,t)}function zh(e,t){t===0&&(e.mode&1?(t=ko,ko<<=1,!(ko&130023424)&&(ko=4194304)):t=1);var n=rt();e=pn(e,t),e!==null&&(Ks(e,t,n),ct(e,n))}function _v(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zh(e,n)}function Sv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),zh(e,n)}var Bh;Bh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)at=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return at=!1,uv(e,t,n);at=!!(e.flags&131072)}else at=!1,Ee&&t.flags&1048576&&qp(t,gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Go(e,t),e=t.pendingProps;var s=zr(t,tt.current);Fr(t,n),s=zu(null,t,r,e,s,n);var o=Bu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(o=!0,hi(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Iu(t),s.updater=Di,t.stateNode=s,s._reactInternals=t,Pl(t,r,e,n),t=Il(null,t,r,!0,o,n)):(t.tag=0,Ee&&o&&bu(t),nt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Cv(r),e=Lt(r,e),s){case 0:t=Ll(null,t,r,e,n);break e;case 1:t=Dd(null,t,r,e,n);break e;case 11:t=Fd(null,t,r,e,n);break e;case 14:t=Md(null,t,r,Lt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Ll(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Dd(e,t,r,s,n);case 3:e:{if(Ch(t),e===null)throw Error(M(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Xp(e,t),wi(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Hr(Error(M(423)),t),t=Ud(e,t,r,n,s);break e}else if(r!==s){s=Hr(Error(M(424)),t),t=Ud(e,t,r,n,s);break e}else for(pt=An(t.stateNode.containerInfo.firstChild),ht=t,Ee=!0,Mt=null,n=Gp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Br(),r===s){t=hn(e,t,n);break e}nt(e,t,r,n)}t=t.child}return t;case 5:return Jp(t),e===null&&Ol(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Cl(r,s)?i=null:o!==null&&Cl(r,o)&&(t.flags|=32),kh(e,t),nt(e,t,i,n),t.child;case 6:return e===null&&Ol(t),null;case 13:return Eh(e,t,n);case 4:return Fu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$r(t,null,r,n):nt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Fd(e,t,r,s,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,_e(yi,r._currentValue),r._currentValue=i,o!==null)if($t(o.value,i)){if(o.children===s.children&&!lt.current){t=hn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=cn(-1,n&-n),a.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tl(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(M(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tl(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}nt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Fr(t,n),s=Ct(s),r=r(s),t.flags|=1,nt(e,t,r,n),t.child;case 14:return r=t.type,s=Lt(r,t.pendingProps),s=Lt(r.type,s),Md(e,t,r,s,n);case 15:return _h(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Go(e,t),t.tag=1,ut(r)?(e=!0,hi(t)):e=!1,Fr(t,n),vh(t,r,s),Pl(t,r,s,n),Il(null,t,r,!0,e,n);case 19:return jh(e,t,n);case 22:return Sh(e,t,n)}throw Error(M(156,t.tag))};function $h(e,t){return mp(e,t)}function kv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,r){return new kv(e,t,n,r)}function Xu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cv(e){if(typeof e=="function")return Xu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gu)return 11;if(e===yu)return 14}return 2}function Mn(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jo(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Xu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case _r:return tr(n.children,s,o,t);case mu:i=8,s|=8;break;case nl:return e=St(12,n,t,s|2),e.elementType=nl,e.lanes=o,e;case rl:return e=St(13,n,t,s),e.elementType=rl,e.lanes=o,e;case sl:return e=St(19,n,t,s),e.elementType=sl,e.lanes=o,e;case Jf:return Bi(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yf:i=10;break e;case Xf:i=9;break e;case gu:i=11;break e;case yu:i=14;break e;case kn:i=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=St(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function tr(e,t,n,r){return e=St(7,e,r,t),e.lanes=n,e}function Bi(e,t,n,r){return e=St(22,e,r,t),e.elementType=Jf,e.lanes=n,e.stateNode={isHidden:!1},e}function Ua(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function za(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ev(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xa(0),this.expirationTimes=xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ju(e,t,n,r,s,o,i,l,a){return e=new Ev(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=St(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iu(o),e}function jv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Vh(e){if(!e)return Un;e=e._reactInternals;e:{if(lr(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(ut(n))return Vp(e,n,t)}return t}function Hh(e,t,n,r,s,o,i,l,a){return e=Ju(n,r,!0,e,s,o,i,l,a),e.context=Vh(null),n=e.current,r=rt(),s=Fn(n),o=cn(r,s),o.callback=t??null,Ln(n,o,s),e.current.lanes=s,Ks(e,s,r),ct(e,r),e}function $i(e,t,n,r){var s=t.current,o=rt(),i=Fn(s);return n=Vh(n),t.context===null?t.context=n:t.pendingContext=n,t=cn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ln(s,t,i),e!==null&&(Bt(e,s,i,o),Wo(e,s,i)),i}function Ni(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zu(e,t){Gd(e,t),(e=e.alternate)&&Gd(e,t)}function Nv(){return null}var qh=typeof reportError=="function"?reportError:function(e){console.error(e)};function ec(e){this._internalRoot=e}Vi.prototype.render=ec.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));$i(e,t,null,null)};Vi.prototype.unmount=ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ir(function(){$i(null,e,null,null)}),t[fn]=null}};function Vi(e){this._internalRoot=e}Vi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<En.length&&t!==0&&t<En[n].priority;n++);En.splice(n,0,e),n===0&&Cp(e)}};function tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yd(){}function bv(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=Ni(i);o.call(c)}}var i=Hh(t,r,e,0,null,!1,!1,"",Yd);return e._reactRootContainer=i,e[fn]=i.current,Fs(e.nodeType===8?e.parentNode:e),ir(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Ni(a);l.call(c)}}var a=Ju(e,0,!1,null,null,!1,!1,"",Yd);return e._reactRootContainer=a,e[fn]=a.current,Fs(e.nodeType===8?e.parentNode:e),ir(function(){$i(t,a,n,r)}),a}function qi(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var a=Ni(i);l.call(a)}}$i(t,i,e,s)}else i=bv(n,t,e,s,r);return Ni(i)}xp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gs(t.pendingLanes);n!==0&&(xu(t,n|1),ct(t,Pe()),!(he&6)&&(qr=Pe()+500,Vn()))}break;case 13:ir(function(){var r=pn(e,1);if(r!==null){var s=rt();Bt(r,e,1,s)}}),Zu(e,1)}};_u=function(e){if(e.tag===13){var t=pn(e,134217728);if(t!==null){var n=rt();Bt(t,e,134217728,n)}Zu(e,134217728)}};_p=function(e){if(e.tag===13){var t=Fn(e),n=pn(e,t);if(n!==null){var r=rt();Bt(n,e,t,r)}Zu(e,t)}};Sp=function(){return ge};kp=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};hl=function(e,t,n){switch(t){case"input":if(al(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ii(r);if(!s)throw Error(M(90));ep(r),al(r,s)}}}break;case"textarea":np(e,n);break;case"select":t=n.value,t!=null&&Pr(e,!!n.multiple,t,!1)}};up=Qu;cp=ir;var Ov={usingClientEntryPoint:!1,Events:[Gs,Er,Ii,ap,lp,Qu]},cs={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tv={bundleType:cs.bundleType,version:cs.version,rendererPackageName:cs.rendererPackageName,rendererConfig:cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pp(e),e===null?null:e.stateNode},findFiberByHostInstance:cs.findFiberByHostInstance||Nv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{Ri=Lo.inject(Tv),Yt=Lo}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ov;gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tc(t))throw Error(M(200));return jv(e,t,null,n)};gt.createRoot=function(e,t){if(!tc(e))throw Error(M(299));var n=!1,r="",s=qh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ju(e,1,!1,null,null,n,!1,r,s),e[fn]=t.current,Fs(e.nodeType===8?e.parentNode:e),new ec(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=pp(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return ir(e)};gt.hydrate=function(e,t,n){if(!Hi(t))throw Error(M(200));return qi(null,e,t,!0,n)};gt.hydrateRoot=function(e,t,n){if(!tc(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=qh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Hh(t,null,e,1,n??null,s,!1,o,i),e[fn]=t.current,Fs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Vi(t)};gt.render=function(e,t,n){if(!Hi(t))throw Error(M(200));return qi(null,e,t,!1,n)};gt.unmountComponentAtNode=function(e){if(!Hi(e))throw Error(M(40));return e._reactRootContainer?(ir(function(){qi(null,null,e,!1,function(){e._reactRootContainer=null,e[fn]=null})}),!0):!1};gt.unstable_batchedUpdates=Qu;gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hi(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return qi(e,t,n,!1,r)};gt.version="18.3.1-next-f1338f8080-20240426";function Wh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wh)}catch(e){console.error(e)}}Wh(),Wf.exports=gt;var Rv=Wf.exports,Xd=Rv;ri.createRoot=Xd.createRoot,ri.hydrateRoot=Xd.hydrateRoot;var Pv=Object.defineProperty,Av=(e,t,n)=>t in e?Pv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qn=(e,t,n)=>Av(e,typeof t!="symbol"?t+"":t,n),Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vr={},ds={},Tt={},Jd;function Kh(){if(Jd)return Tt;Jd=1;var e=Tt&&Tt.__assign||function(){return e=Object.assign||function(s){for(var o,i=1,l=arguments.length;i<l;i++){o=arguments[i];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},e.apply(this,arguments)},t=Tt&&Tt.__awaiter||function(s,o,i,l){function a(c){return c instanceof i?c:new i(function(p){p(c)})}return new(i||(i=Promise))(function(c,p){function m(k){try{v(l.next(k))}catch(C){p(C)}}function y(k){try{v(l.throw(k))}catch(C){p(C)}}function v(k){k.done?c(k.value):a(k.value).then(m,y)}v((l=l.apply(s,o||[])).next())})},n=Tt&&Tt.__generator||function(s,o){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},l,a,c,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(v){return function(k){return y([v,k])}}function y(v){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(i=0)),i;)try{if(l=1,a&&(c=v[0]&2?a.return:v[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,v[1])).done)return c;switch(a=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,a=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){i.label=v[1];break}if(v[0]===6&&i.label<c[1]){i.label=c[1],c=v;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(v);break}c[2]&&i.ops.pop(),i.trys.pop();continue}v=o.call(s,i)}catch(k){v=[6,k],a=0}finally{l=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.FrappeCall=void 0;var r=function(){function s(o,i,l,a,c){this.appURL=o,this.axios=i,this.useToken=l??!1,this.token=a,this.tokenType=c}return s.prototype.get=function(o,i){return t(this,void 0,void 0,function(){var l;return n(this,function(a){return l=new URLSearchParams,i&&Object.entries(i).forEach(function(c){var p=c[0],m=c[1];if(m!=null){var y=typeof m=="object"?JSON.stringify(m):m;l.set(p,y)}}),[2,this.axios.get("/api/method/".concat(o),{params:l}).then(function(c){return c.data}).catch(function(c){var p,m;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(p=c.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(m=c.response.data.exception)!==null&&m!==void 0?m:""})})]})})},s.prototype.post=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/".concat(o),e({},i)).then(function(a){return a.data}).catch(function(a){var c,p;throw e(e({},a.response.data),{httpStatus:a.response.status,httpStatusText:a.response.statusText,message:(c=a.response.data.message)!==null&&c!==void 0?c:"There was an error.",exception:(p=a.response.data.exception)!==null&&p!==void 0?p:""})})]})})},s.prototype.put=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.put("/api/method/".concat(o),e({},i)).then(function(a){return a.data}).catch(function(a){var c,p;throw e(e({},a.response.data),{httpStatus:a.response.status,httpStatusText:a.response.statusText,message:(c=a.response.data.message)!==null&&c!==void 0?c:"There was an error.",exception:(p=a.response.data.exception)!==null&&p!==void 0?p:""})})]})})},s.prototype.delete=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.delete("/api/method/".concat(o),{params:i}).then(function(a){return a.data}).catch(function(a){var c,p;throw e(e({},a.response.data),{httpStatus:a.response.status,httpStatusText:a.response.statusText,message:(c=a.response.data.message)!==null&&c!==void 0?c:"There was an error.",exception:(p=a.response.data.exception)!==null&&p!==void 0?p:""})})]})})},s}();return Tt.FrappeCall=r,Tt}var Rt={},Zd;function Qh(){if(Zd)return Rt;Zd=1;var e=Rt&&Rt.__assign||function(){return e=Object.assign||function(s){for(var o,i=1,l=arguments.length;i<l;i++){o=arguments[i];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},e.apply(this,arguments)},t=Rt&&Rt.__awaiter||function(s,o,i,l){function a(c){return c instanceof i?c:new i(function(p){p(c)})}return new(i||(i=Promise))(function(c,p){function m(k){try{v(l.next(k))}catch(C){p(C)}}function y(k){try{v(l.throw(k))}catch(C){p(C)}}function v(k){k.done?c(k.value):a(k.value).then(m,y)}v((l=l.apply(s,o||[])).next())})},n=Rt&&Rt.__generator||function(s,o){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},l,a,c,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(v){return function(k){return y([v,k])}}function y(v){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(i=0)),i;)try{if(l=1,a&&(c=v[0]&2?a.return:v[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,v[1])).done)return c;switch(a=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,a=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){i.label=v[1];break}if(v[0]===6&&i.label<c[1]){i.label=c[1],c=v;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(v);break}c[2]&&i.ops.pop(),i.trys.pop();continue}v=o.call(s,i)}catch(k){v=[6,k],a=0}finally{l=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.FrappeDB=void 0;var r=function(){function s(o,i,l,a,c){this.appURL=o,this.axios=i,this.useToken=l??!1,this.token=a,this.tokenType=c}return s.prototype.getDoc=function(o,i){return i===void 0&&(i=""),t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(i))).then(function(a){return a.data.data}).catch(function(a){var c,p;throw e(e({},a.response.data),{httpStatus:a.response.status,httpStatusText:a.response.statusText,message:"There was an error while fetching the document.",exception:(p=(c=a.response.data.exception)!==null&&c!==void 0?c:a.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},s.prototype.getDocList=function(o,i){var l;return t(this,void 0,void 0,function(){var a,c,p,m,y,v,k,C,F,g,w;return n(this,function(_){return a={},i&&(c=i.fields,p=i.filters,m=i.orFilters,y=i.orderBy,v=i.limit,k=i.limit_start,C=i.groupBy,F=i.asDict,g=F===void 0?!0:F,w=y?"".concat(String(y==null?void 0:y.field)," ").concat((l=y==null?void 0:y.order)!==null&&l!==void 0?l:"asc"):"",a={fields:c?JSON.stringify(c):void 0,filters:p?JSON.stringify(p):void 0,or_filters:m?JSON.stringify(m):void 0,order_by:w,group_by:C,limit:v,limit_start:k,as_dict:g}),[2,this.axios.get("/api/resource/".concat(o),{params:a}).then(function(S){return S.data.data}).catch(function(S){var b,A;throw e(e({},S.response.data),{httpStatus:S.response.status,httpStatusText:S.response.statusText,message:"There was an error while fetching the documents.",exception:(A=(b=S.response.data.exception)!==null&&b!==void 0?b:S.response.data.exc_type)!==null&&A!==void 0?A:""})})]})})},s.prototype.createDoc=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/resource/".concat(o),e({},i)).then(function(a){return a.data.data}).catch(function(a){var c,p,m;throw e(e({},a.response.data),{httpStatus:a.response.status,httpStatusText:a.response.statusText,message:(c=a.response.data.message)!==null&&c!==void 0?c:"There was an error while creating the document.",exception:(m=(p=a.response.data.exception)!==null&&p!==void 0?p:a.response.data.exc_type)!==null&&m!==void 0?m:""})})]})})},s.prototype.updateDoc=function(o,i,l){return t(this,void 0,void 0,function(){return n(this,function(a){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(i&&encodeURIComponent(i)),e({},l)).then(function(c){return c.data.data}).catch(function(c){var p,m,y;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(p=c.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(y=(m=c.response.data.exception)!==null&&m!==void 0?m:c.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},s.prototype.deleteDoc=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(i&&encodeURIComponent(i))).then(function(a){return a.data}).catch(function(a){var c,p;throw e(e({},a.response.data),{httpStatus:a.response.status,httpStatusText:a.response.statusText,message:"There was an error while deleting the document.",exception:(p=(c=a.response.data.exception)!==null&&c!==void 0?c:a.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},s.prototype.getCount=function(o,i,l){return l===void 0&&(l=!1),t(this,void 0,void 0,function(){var a;return n(this,function(c){return a={doctype:o,filters:[]},l&&(a.debug=l),i&&(a.filters=i?JSON.stringify(i):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:a}).then(function(p){return p.data.message}).catch(function(p){var m,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while getting the count.",exception:(y=(m=p.response.data.exception)!==null&&m!==void 0?m:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},s.prototype.getLastDoc=function(o,i){return t(this,void 0,void 0,function(){var l,a;return n(this,function(c){switch(c.label){case 0:return l={orderBy:{field:"creation",order:"desc"}},i&&(l=e(e({},l),i)),[4,this.getDocList(o,e(e({},l),{limit:1,fields:["name"]}))];case 1:return a=c.sent(),a.length>0?[2,this.getDoc(o,a[0].name)]:[2,{}]}})})},s.prototype.renameDoc=function(o,i,l,a){return a===void 0&&(a=!1),t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:i,new_name:l,merge:a}).then(function(p){return p.data}).catch(function(p){var m,y,v;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(m=p.response.data.message)!==null&&m!==void 0?m:"There was an error while renaming the document.",exception:(v=(y=p.response.data.exception)!==null&&y!==void 0?y:p.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},s.prototype.getValue=function(o,i,l,a,c,p){return a===void 0&&(a=!0),c===void 0&&(c=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var m;return n(this,function(y){return m={doctype:o,fieldname:"[]",filters:[],as_dict:a,debug:c,parent:null},i&&(m.fieldname=typeof i=="object"?JSON.stringify(i):i),l&&(m.filters=l?JSON.stringify(l):void 0),p&&(m.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:m}).then(function(v){return v.data}).catch(function(v){var k,C;throw e(e({},v.response.data),{httpStatus:v.response.status,httpStatusText:v.response.statusText,message:"There was an error while getting the value.",exception:(C=(k=v.response.data.exception)!==null&&k!==void 0?k:v.response.data.exc_type)!==null&&C!==void 0?C:""})})]})})},s.prototype.setValue=function(o,i,l,a){return t(this,void 0,void 0,function(){return n(this,function(c){return l!==null&&typeof l=="object"&&!Array.isArray(l)&&(a=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:i,fieldname:l,value:a}).then(function(p){return p.data}).catch(function(p){var m,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(y=(m=p.response.data.exception)!==null&&m!==void 0?m:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},s.prototype.getSingleValue=function(o,i){return t(this,void 0,void 0,function(){var l;return n(this,function(a){return l={doctype:o,field:i},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:l}).then(function(c){return c.data}).catch(function(c){var p,m;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(m=(p=c.response.data.exception)!==null&&p!==void 0?p:c.response.data.exc_type)!==null&&m!==void 0?m:""})})]})})},s.prototype.submit=function(o){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(l){return l.data.message}).catch(function(l){var a,c;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:"There was an error while submitting the document.",exception:(c=(a=l.response.data.exception)!==null&&a!==void 0?a:l.response.data.exc_type)!==null&&c!==void 0?c:""})})]})})},s.prototype.cancel=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:i}).then(function(a){return a.data}).catch(function(a){var c,p;throw e(e({},a.response.data),{httpStatus:a.response.status,httpStatusText:a.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(c=a.response.data.exception)!==null&&c!==void 0?c:a.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},s}();return Rt.FrappeDB=r,Rt}var Pt={},rn={};/*! Axios v1.12.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Ba,ef;function Iv(){if(ef)return Ba;ef=1;function e(d,f){return function(){return d.apply(f,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,{iterator:r,toStringTag:s}=Symbol,o=(d=>f=>{const h=t.call(f);return d[h]||(d[h]=h.slice(8,-1).toLowerCase())})(Object.create(null)),i=d=>(d=d.toLowerCase(),f=>o(f)===d),l=d=>f=>typeof f===d,{isArray:a}=Array,c=l("undefined");function p(d){return d!==null&&!c(d)&&d.constructor!==null&&!c(d.constructor)&&k(d.constructor.isBuffer)&&d.constructor.isBuffer(d)}const m=i("ArrayBuffer");function y(d){let f;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?f=ArrayBuffer.isView(d):f=d&&d.buffer&&m(d.buffer),f}const v=l("string"),k=l("function"),C=l("number"),F=d=>d!==null&&typeof d=="object",g=d=>d===!0||d===!1,w=d=>{if(o(d)!=="object")return!1;const f=n(d);return(f===null||f===Object.prototype||Object.getPrototypeOf(f)===null)&&!(s in d)&&!(r in d)},_=d=>{if(!F(d)||p(d))return!1;try{return Object.keys(d).length===0&&Object.getPrototypeOf(d)===Object.prototype}catch{return!1}},S=i("Date"),b=i("File"),A=i("Blob"),L=i("FileList"),R=d=>F(d)&&k(d.pipe),K=d=>{let f;return d&&(typeof FormData=="function"&&d instanceof FormData||k(d.append)&&((f=o(d))==="formdata"||f==="object"&&k(d.toString)&&d.toString()==="[object FormData]"))},B=i("URLSearchParams"),[re,Y,J,ee]=["ReadableStream","Request","Response","Headers"].map(i),P=d=>d.trim?d.trim():d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Z(d,f,{allOwnKeys:h=!1}={}){if(d===null||typeof d>"u")return;let x,E;if(typeof d!="object"&&(d=[d]),a(d))for(x=0,E=d.length;x<E;x++)f.call(null,d[x],x,d);else{if(p(d))return;const j=h?Object.getOwnPropertyNames(d):Object.keys(d),N=j.length;let D;for(x=0;x<N;x++)D=j[x],f.call(null,d[D],D,d)}}function U(d,f){if(p(d))return null;f=f.toLowerCase();const h=Object.keys(d);let x=h.length,E;for(;x-- >0;)if(E=h[x],f===E.toLowerCase())return E;return null}const I=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Lv,q=d=>!c(d)&&d!==I;function X(){const{caseless:d,skipUndefined:f}=q(this)&&this||{},h={},x=(E,j)=>{const N=d&&U(h,j)||j;w(h[N])&&w(E)?h[N]=X(h[N],E):w(E)?h[N]=X({},E):a(E)?h[N]=E.slice():(!f||!c(E))&&(h[N]=E)};for(let E=0,j=arguments.length;E<j;E++)arguments[E]&&Z(arguments[E],x);return h}const te=(d,f,h,{allOwnKeys:x}={})=>(Z(f,(E,j)=>{h&&k(E)?d[j]=e(E,h):d[j]=E},{allOwnKeys:x}),d),fe=d=>(d.charCodeAt(0)===65279&&(d=d.slice(1)),d),le=(d,f,h,x)=>{d.prototype=Object.create(f.prototype,x),d.prototype.constructor=d,Object.defineProperty(d,"super",{value:f.prototype}),h&&Object.assign(d.prototype,h)},Me=(d,f,h,x)=>{let E,j,N;const D={};if(f=f||{},d==null)return f;do{for(E=Object.getOwnPropertyNames(d),j=E.length;j-- >0;)N=E[j],(!x||x(N,d,f))&&!D[N]&&(f[N]=d[N],D[N]=!0);d=h!==!1&&n(d)}while(d&&(!h||h(d,f))&&d!==Object.prototype);return f},Re=(d,f,h)=>{d=String(d),(h===void 0||h>d.length)&&(h=d.length),h-=f.length;const x=d.indexOf(f,h);return x!==-1&&x===h},He=d=>{if(!d)return null;if(a(d))return d;let f=d.length;if(!C(f))return null;const h=new Array(f);for(;f-- >0;)h[f]=d[f];return h},Ge=(d=>f=>d&&f instanceof d)(typeof Uint8Array<"u"&&n(Uint8Array)),ur=(d,f)=>{const h=(d&&d[r]).call(d);let x;for(;(x=h.next())&&!x.done;){const E=x.value;f.call(d,E[0],E[1])}},Hn=(d,f)=>{let h;const x=[];for(;(h=d.exec(f))!==null;)x.push(h);return x},en=i("HTMLFormElement"),tn=d=>d.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(f,h,x){return h.toUpperCase()+x}),oe=(({hasOwnProperty:d})=>(f,h)=>d.call(f,h))(Object.prototype),me=i("RegExp"),Ce=(d,f)=>{const h=Object.getOwnPropertyDescriptors(d),x={};Z(h,(E,j)=>{let N;(N=f(E,j,d))!==!1&&(x[j]=N||E)}),Object.defineProperties(d,x)},de=d=>{Ce(d,(f,h)=>{if(k(d)&&["arguments","caller","callee"].indexOf(h)!==-1)return!1;const x=d[h];if(k(x)){if(f.enumerable=!1,"writable"in f){f.writable=!1;return}f.set||(f.set=()=>{throw Error("Can not rewrite read-only method '"+h+"'")})}})},jt=(d,f)=>{const h={},x=E=>{E.forEach(j=>{h[j]=!0})};return a(d)?x(d):x(String(d).split(f)),h},Nt=()=>{},Be=(d,f)=>d!=null&&Number.isFinite(d=+d)?d:f;function Oe(d){return!!(d&&k(d.append)&&d[s]==="FormData"&&d[r])}const dt=d=>{const f=new Array(10),h=(x,E)=>{if(F(x)){if(f.indexOf(x)>=0)return;if(p(x))return x;if(!("toJSON"in x)){f[E]=x;const j=a(x)?[]:{};return Z(x,(N,D)=>{const W=h(N,E+1);!c(W)&&(j[D]=W)}),f[E]=void 0,j}}return x};return h(d,0)},cr=i("AsyncFunction"),dr=d=>d&&(F(d)||k(d))&&k(d.then)&&k(d.catch),nn=((d,f)=>d?setImmediate:f?((h,x)=>(I.addEventListener("message",({source:E,data:j})=>{E===I&&j===h&&x.length&&x.shift()()},!1),E=>{x.push(E),I.postMessage(h,"*")}))(`axios@${Math.random()}`,[]):h=>setTimeout(h))(typeof setImmediate=="function",k(I.postMessage)),Ye=typeof queueMicrotask<"u"?queueMicrotask.bind(I):typeof process<"u"&&process.nextTick||nn;var T={isArray:a,isArrayBuffer:m,isBuffer:p,isFormData:K,isArrayBufferView:y,isString:v,isNumber:C,isBoolean:g,isObject:F,isPlainObject:w,isEmptyObject:_,isReadableStream:re,isRequest:Y,isResponse:J,isHeaders:ee,isUndefined:c,isDate:S,isFile:b,isBlob:A,isRegExp:me,isFunction:k,isStream:R,isURLSearchParams:B,isTypedArray:Ge,isFileList:L,forEach:Z,merge:X,extend:te,trim:P,stripBOM:fe,inherits:le,toFlatObject:Me,kindOf:o,kindOfTest:i,endsWith:Re,toArray:He,forEachEntry:ur,matchAll:Hn,isHTMLForm:en,hasOwnProperty:oe,hasOwnProp:oe,reduceDescriptors:Ce,freezeMethods:de,toObjectSet:jt,toCamelCase:tn,noop:Nt,toFiniteNumber:Be,findKey:U,global:I,isContextDefined:q,isSpecCompliantForm:Oe,toJSONObject:dt,isAsyncFn:cr,isThenable:dr,setImmediate:nn,asap:Ye,isIterable:d=>d!=null&&k(d[r])};function ne(d,f,h,x,E){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=d,this.name="AxiosError",f&&(this.code=f),h&&(this.config=h),x&&(this.request=x),E&&(this.response=E,this.status=E.status?E.status:null)}T.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const fr=ne.prototype,yn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(d=>{yn[d]={value:d}}),Object.defineProperties(ne,yn),Object.defineProperty(fr,"isAxiosError",{value:!0}),ne.from=(d,f,h,x,E,j)=>{const N=Object.create(fr);T.toFlatObject(d,N,function(z){return z!==Error.prototype},z=>z!=="isAxiosError");const D=d&&d.message?d.message:"Error",W=f==null&&d?d.code:f;return ne.call(N,D,W,h,x,E),d&&N.cause==null&&Object.defineProperty(N,"cause",{value:d,configurable:!0}),N.name=d&&d.name||"Error",j&&Object.assign(N,j),N};var Qi=null;function qn(d){return T.isPlainObject(d)||T.isArray(d)}function Zs(d){return T.endsWith(d,"[]")?d.slice(0,-2):d}function eo(d,f,h){return d?d.concat(f).map(function(x,E){return x=Zs(x),!h&&E?"["+x+"]":x}).join(h?".":""):f}function Gi(d){return T.isArray(d)&&!d.some(qn)}const Yi=T.toFlatObject(T,{},null,function(d){return/^is[A-Z]/.test(d)});function pr(d,f,h){if(!T.isObject(d))throw new TypeError("target must be an object");f=f||new FormData,h=T.toFlatObject(h,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ae,$){return!T.isUndefined($[ae])});const x=h.metaTokens,E=h.visitor||z,j=h.dots,N=h.indexes,D=(h.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(f);if(!T.isFunction(E))throw new TypeError("visitor must be a function");function W(ae){if(ae===null)return"";if(T.isDate(ae))return ae.toISOString();if(T.isBoolean(ae))return ae.toString();if(!D&&T.isBlob(ae))throw new ne("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(ae)||T.isTypedArray(ae)?D&&typeof Blob=="function"?new Blob([ae]):Buffer.from(ae):ae}function z(ae,$,Q){let Le=ae;if(ae&&!Q&&typeof ae=="object"){if(T.endsWith($,"{}"))$=x?$:$.slice(0,-2),ae=JSON.stringify(ae);else if(T.isArray(ae)&&Gi(ae)||(T.isFileList(ae)||T.endsWith($,"[]"))&&(Le=T.toArray(ae)))return $=Zs($),Le.forEach(function(Xe,De){!(T.isUndefined(Xe)||Xe===null)&&f.append(N===!0?eo([$],De,j):N===null?$:$+"[]",W(Xe))}),!1}return qn(ae)?!0:(f.append(eo(Q,$,j),W(ae)),!1)}const V=[],se=Object.assign(Yi,{defaultVisitor:z,convertValue:W,isVisitable:qn});function xe(ae,$){if(!T.isUndefined(ae)){if(V.indexOf(ae)!==-1)throw Error("Circular reference detected in "+$.join("."));V.push(ae),T.forEach(ae,function(Q,Le){(!(T.isUndefined(Q)||Q===null)&&E.call(f,Q,T.isString(Le)?Le.trim():Le,$,se))===!0&&xe(Q,$?$.concat(Le):[Le])}),V.pop()}}if(!T.isObject(d))throw new TypeError("data must be an object");return xe(d),f}function to(d){const f={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(d).replace(/[!'()~]|%20|%00/g,function(h){return f[h]})}function hr(d,f){this._pairs=[],d&&pr(d,this,f)}const no=hr.prototype;no.append=function(d,f){this._pairs.push([d,f])},no.toString=function(d){const f=d?function(h){return d.call(this,h,to)}:to;return this._pairs.map(function(h){return f(h[0])+"="+f(h[1])},"").join("&")};function Xi(d){return encodeURIComponent(d).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ro(d,f,h){if(!f)return d;const x=h&&h.encode||Xi;T.isFunction(h)&&(h={serialize:h});const E=h&&h.serialize;let j;if(E?j=E(f,h):j=T.isURLSearchParams(f)?f.toString():new hr(f,h).toString(x),j){const N=d.indexOf("#");N!==-1&&(d=d.slice(0,N)),d+=(d.indexOf("?")===-1?"?":"&")+j}return d}class Ji{constructor(){this.handlers=[]}use(f,h,x){return this.handlers.push({fulfilled:f,rejected:h,synchronous:x?x.synchronous:!1,runWhen:x?x.runWhen:null}),this.handlers.length-1}eject(f){this.handlers[f]&&(this.handlers[f]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(f){T.forEach(this.handlers,function(h){h!==null&&f(h)})}}var so=Ji,oo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zi=typeof URLSearchParams<"u"?URLSearchParams:hr,ea=typeof FormData<"u"?FormData:null,ta=typeof Blob<"u"?Blob:null,na={isBrowser:!0,classes:{URLSearchParams:Zi,FormData:ea,Blob:ta},protocols:["http","https","file","blob","url","data"]};const Jr=typeof window<"u"&&typeof document<"u",Zr=typeof navigator=="object"&&navigator||void 0,ra=Jr&&(!Zr||["ReactNative","NativeScript","NS"].indexOf(Zr.product)<0),H=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ie=Jr&&window.location.href||"http://localhost";var we=Object.freeze({__proto__:null,hasBrowserEnv:Jr,hasStandardBrowserWebWorkerEnv:H,hasStandardBrowserEnv:ra,navigator:Zr,origin:ie}),ye={...we,...na};function es(d,f){return pr(d,new ye.classes.URLSearchParams,{visitor:function(h,x,E,j){return ye.isNode&&T.isBuffer(h)?(this.append(x,h.toString("base64")),!1):j.defaultVisitor.apply(this,arguments)},...f})}function bm(d){return T.matchAll(/\w+|\[(\w*)]/g,d).map(f=>f[0]==="[]"?"":f[1]||f[0])}function Om(d){const f={},h=Object.keys(d);let x;const E=h.length;let j;for(x=0;x<E;x++)j=h[x],f[j]=d[j];return f}function mc(d){function f(h,x,E,j){let N=h[j++];if(N==="__proto__")return!0;const D=Number.isFinite(+N),W=j>=h.length;return N=!N&&T.isArray(E)?E.length:N,W?(T.hasOwnProp(E,N)?E[N]=[E[N],x]:E[N]=x,!D):((!E[N]||!T.isObject(E[N]))&&(E[N]=[]),f(h,x,E[N],j)&&T.isArray(E[N])&&(E[N]=Om(E[N])),!D)}if(T.isFormData(d)&&T.isFunction(d.entries)){const h={};return T.forEachEntry(d,(x,E)=>{f(bm(x),E,h,0)}),h}return null}function Tm(d,f,h){if(T.isString(d))try{return(f||JSON.parse)(d),T.trim(d)}catch(x){if(x.name!=="SyntaxError")throw x}return(h||JSON.stringify)(d)}const sa={transitional:oo,adapter:["xhr","http","fetch"],transformRequest:[function(d,f){const h=f.getContentType()||"",x=h.indexOf("application/json")>-1,E=T.isObject(d);if(E&&T.isHTMLForm(d)&&(d=new FormData(d)),T.isFormData(d))return x?JSON.stringify(mc(d)):d;if(T.isArrayBuffer(d)||T.isBuffer(d)||T.isStream(d)||T.isFile(d)||T.isBlob(d)||T.isReadableStream(d))return d;if(T.isArrayBufferView(d))return d.buffer;if(T.isURLSearchParams(d))return f.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),d.toString();let j;if(E){if(h.indexOf("application/x-www-form-urlencoded")>-1)return es(d,this.formSerializer).toString();if((j=T.isFileList(d))||h.indexOf("multipart/form-data")>-1){const N=this.env&&this.env.FormData;return pr(j?{"files[]":d}:d,N&&new N,this.formSerializer)}}return E||x?(f.setContentType("application/json",!1),Tm(d)):d}],transformResponse:[function(d){const f=this.transitional||sa.transitional,h=f&&f.forcedJSONParsing,x=this.responseType==="json";if(T.isResponse(d)||T.isReadableStream(d))return d;if(d&&T.isString(d)&&(h&&!this.responseType||x)){const E=!(f&&f.silentJSONParsing)&&x;try{return JSON.parse(d,this.parseReviver)}catch(j){if(E)throw j.name==="SyntaxError"?ne.from(j,ne.ERR_BAD_RESPONSE,this,null,this.response):j}}return d}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ye.classes.FormData,Blob:ye.classes.Blob},validateStatus:function(d){return d>=200&&d<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],d=>{sa.headers[d]={}});var oa=sa;const Rm=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Pm=d=>{const f={};let h,x,E;return d&&d.split(`
`).forEach(function(j){E=j.indexOf(":"),h=j.substring(0,E).trim().toLowerCase(),x=j.substring(E+1).trim(),!(!h||f[h]&&Rm[h])&&(h==="set-cookie"?f[h]?f[h].push(x):f[h]=[x]:f[h]=f[h]?f[h]+", "+x:x)}),f};const gc=Symbol("internals");function ts(d){return d&&String(d).trim().toLowerCase()}function io(d){return d===!1||d==null?d:T.isArray(d)?d.map(io):String(d)}function Am(d){const f=Object.create(null),h=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let x;for(;x=h.exec(d);)f[x[1]]=x[2];return f}const Lm=d=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(d.trim());function ia(d,f,h,x,E){if(T.isFunction(x))return x.call(this,f,h);if(E&&(f=h),!!T.isString(f)){if(T.isString(x))return f.indexOf(x)!==-1;if(T.isRegExp(x))return x.test(f)}}function Im(d){return d.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(f,h,x)=>h.toUpperCase()+x)}function Fm(d,f){const h=T.toCamelCase(" "+f);["get","set","has"].forEach(x=>{Object.defineProperty(d,x+h,{value:function(E,j,N){return this[x].call(this,f,E,j,N)},configurable:!0})})}class ao{constructor(f){f&&this.set(f)}set(f,h,x){const E=this;function j(D,W,z){const V=ts(W);if(!V)throw new Error("header name must be a non-empty string");const se=T.findKey(E,V);(!se||E[se]===void 0||z===!0||z===void 0&&E[se]!==!1)&&(E[se||W]=io(D))}const N=(D,W)=>T.forEach(D,(z,V)=>j(z,V,W));if(T.isPlainObject(f)||f instanceof this.constructor)N(f,h);else if(T.isString(f)&&(f=f.trim())&&!Lm(f))N(Pm(f),h);else if(T.isObject(f)&&T.isIterable(f)){let D={},W,z;for(const V of f){if(!T.isArray(V))throw TypeError("Object iterator must return a key-value pair");D[z=V[0]]=(W=D[z])?T.isArray(W)?[...W,V[1]]:[W,V[1]]:V[1]}N(D,h)}else f!=null&&j(h,f,x);return this}get(f,h){if(f=ts(f),f){const x=T.findKey(this,f);if(x){const E=this[x];if(!h)return E;if(h===!0)return Am(E);if(T.isFunction(h))return h.call(this,E,x);if(T.isRegExp(h))return h.exec(E);throw new TypeError("parser must be boolean|regexp|function")}}}has(f,h){if(f=ts(f),f){const x=T.findKey(this,f);return!!(x&&this[x]!==void 0&&(!h||ia(this,this[x],x,h)))}return!1}delete(f,h){const x=this;let E=!1;function j(N){if(N=ts(N),N){const D=T.findKey(x,N);D&&(!h||ia(x,x[D],D,h))&&(delete x[D],E=!0)}}return T.isArray(f)?f.forEach(j):j(f),E}clear(f){const h=Object.keys(this);let x=h.length,E=!1;for(;x--;){const j=h[x];(!f||ia(this,this[j],j,f,!0))&&(delete this[j],E=!0)}return E}normalize(f){const h=this,x={};return T.forEach(this,(E,j)=>{const N=T.findKey(x,j);if(N){h[N]=io(E),delete h[j];return}const D=f?Im(j):String(j).trim();D!==j&&delete h[j],h[D]=io(E),x[D]=!0}),this}concat(...f){return this.constructor.concat(this,...f)}toJSON(f){const h=Object.create(null);return T.forEach(this,(x,E)=>{x!=null&&x!==!1&&(h[E]=f&&T.isArray(x)?x.join(", "):x)}),h}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([f,h])=>f+": "+h).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(f){return f instanceof this?f:new this(f)}static concat(f,...h){const x=new this(f);return h.forEach(E=>x.set(E)),x}static accessor(f){const h=(this[gc]=this[gc]={accessors:{}}).accessors,x=this.prototype;function E(j){const N=ts(j);h[N]||(Fm(x,j),h[N]=!0)}return T.isArray(f)?f.forEach(E):E(f),this}}ao.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),T.reduceDescriptors(ao.prototype,({value:d},f)=>{let h=f[0].toUpperCase()+f.slice(1);return{get:()=>d,set(x){this[h]=x}}}),T.freezeMethods(ao);var bt=ao;function aa(d,f){const h=this||oa,x=f||h,E=bt.from(x.headers);let j=x.data;return T.forEach(d,function(N){j=N.call(h,j,E.normalize(),f?f.status:void 0)}),E.normalize(),j}function yc(d){return!!(d&&d.__CANCEL__)}function mr(d,f,h){ne.call(this,d??"canceled",ne.ERR_CANCELED,f,h),this.name="CanceledError"}T.inherits(mr,ne,{__CANCEL__:!0});function vc(d,f,h){const x=h.config.validateStatus;!h.status||!x||x(h.status)?d(h):f(new ne("Request failed with status code "+h.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(h.status/100)-4],h.config,h.request,h))}function Mm(d){const f=/^([-+\w]{1,25})(:?\/\/|:)/.exec(d);return f&&f[1]||""}function Dm(d,f){d=d||10;const h=new Array(d),x=new Array(d);let E=0,j=0,N;return f=f!==void 0?f:1e3,function(D){const W=Date.now(),z=x[j];N||(N=W),h[E]=D,x[E]=W;let V=j,se=0;for(;V!==E;)se+=h[V++],V=V%d;if(E=(E+1)%d,E===j&&(j=(j+1)%d),W-N<f)return;const xe=z&&W-z;return xe?Math.round(se*1e3/xe):void 0}}function Um(d,f){let h=0,x=1e3/f,E,j;const N=(D,W=Date.now())=>{h=W,E=null,j&&(clearTimeout(j),j=null),d(...D)};return[(...D)=>{const W=Date.now(),z=W-h;z>=x?N(D,W):(E=D,j||(j=setTimeout(()=>{j=null,N(E)},x-z)))},()=>E&&N(E)]}const lo=(d,f,h=3)=>{let x=0;const E=Dm(50,250);return Um(j=>{const N=j.loaded,D=j.lengthComputable?j.total:void 0,W=N-x,z=E(W),V=N<=D;x=N;const se={loaded:N,total:D,progress:D?N/D:void 0,bytes:W,rate:z||void 0,estimated:z&&D&&V?(D-N)/z:void 0,event:j,lengthComputable:D!=null,[f?"download":"upload"]:!0};d(se)},h)},wc=(d,f)=>{const h=d!=null;return[x=>f[0]({lengthComputable:h,total:d,loaded:x}),f[1]]},xc=d=>(...f)=>T.asap(()=>d(...f));var zm=ye.hasStandardBrowserEnv?((d,f)=>h=>(h=new URL(h,ye.origin),d.protocol===h.protocol&&d.host===h.host&&(f||d.port===h.port)))(new URL(ye.origin),ye.navigator&&/(msie|trident)/i.test(ye.navigator.userAgent)):()=>!0,Bm=ye.hasStandardBrowserEnv?{write(d,f,h,x,E,j){const N=[d+"="+encodeURIComponent(f)];T.isNumber(h)&&N.push("expires="+new Date(h).toGMTString()),T.isString(x)&&N.push("path="+x),T.isString(E)&&N.push("domain="+E),j===!0&&N.push("secure"),document.cookie=N.join("; ")},read(d){const f=document.cookie.match(new RegExp("(^|;\\s*)("+d+")=([^;]*)"));return f?decodeURIComponent(f[3]):null},remove(d){this.write(d,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $m(d){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(d)}function Vm(d,f){return f?d.replace(/\/?\/$/,"")+"/"+f.replace(/^\/+/,""):d}function _c(d,f,h){let x=!$m(f);return d&&(x||h==!1)?Vm(d,f):f}const Sc=d=>d instanceof bt?{...d}:d;function Wn(d,f){f=f||{};const h={};function x(z,V,se,xe){return T.isPlainObject(z)&&T.isPlainObject(V)?T.merge.call({caseless:xe},z,V):T.isPlainObject(V)?T.merge({},V):T.isArray(V)?V.slice():V}function E(z,V,se,xe){if(T.isUndefined(V)){if(!T.isUndefined(z))return x(void 0,z,se,xe)}else return x(z,V,se,xe)}function j(z,V){if(!T.isUndefined(V))return x(void 0,V)}function N(z,V){if(T.isUndefined(V)){if(!T.isUndefined(z))return x(void 0,z)}else return x(void 0,V)}function D(z,V,se){if(se in f)return x(z,V);if(se in d)return x(void 0,z)}const W={url:j,method:j,data:j,baseURL:N,transformRequest:N,transformResponse:N,paramsSerializer:N,timeout:N,timeoutMessage:N,withCredentials:N,withXSRFToken:N,adapter:N,responseType:N,xsrfCookieName:N,xsrfHeaderName:N,onUploadProgress:N,onDownloadProgress:N,decompress:N,maxContentLength:N,maxBodyLength:N,beforeRedirect:N,transport:N,httpAgent:N,httpsAgent:N,cancelToken:N,socketPath:N,responseEncoding:N,validateStatus:D,headers:(z,V,se)=>E(Sc(z),Sc(V),se,!0)};return T.forEach(Object.keys({...d,...f}),function(z){const V=W[z]||E,se=V(d[z],f[z],z);T.isUndefined(se)&&V!==D||(h[z]=se)}),h}var kc=d=>{const f=Wn({},d);let{data:h,withXSRFToken:x,xsrfHeaderName:E,xsrfCookieName:j,headers:N,auth:D}=f;if(f.headers=N=bt.from(N),f.url=ro(_c(f.baseURL,f.url,f.allowAbsoluteUrls),d.params,d.paramsSerializer),D&&N.set("Authorization","Basic "+btoa((D.username||"")+":"+(D.password?unescape(encodeURIComponent(D.password)):""))),T.isFormData(h)){if(ye.hasStandardBrowserEnv||ye.hasStandardBrowserWebWorkerEnv)N.setContentType(void 0);else if(T.isFunction(h.getHeaders)){const W=h.getHeaders(),z=["content-type","content-length"];Object.entries(W).forEach(([V,se])=>{z.includes(V.toLowerCase())&&N.set(V,se)})}}if(ye.hasStandardBrowserEnv&&(x&&T.isFunction(x)&&(x=x(f)),x||x!==!1&&zm(f.url))){const W=E&&j&&Bm.read(j);W&&N.set(E,W)}return f},Hm=typeof XMLHttpRequest<"u"&&function(d){return new Promise(function(f,h){const x=kc(d);let E=x.data;const j=bt.from(x.headers).normalize();let{responseType:N,onUploadProgress:D,onDownloadProgress:W}=x,z,V,se,xe,ae;function $(){xe&&xe(),ae&&ae(),x.cancelToken&&x.cancelToken.unsubscribe(z),x.signal&&x.signal.removeEventListener("abort",z)}let Q=new XMLHttpRequest;Q.open(x.method.toUpperCase(),x.url,!0),Q.timeout=x.timeout;function Le(){if(!Q)return;const De=bt.from("getAllResponseHeaders"in Q&&Q.getAllResponseHeaders()),Ht={data:!N||N==="text"||N==="json"?Q.responseText:Q.response,status:Q.status,statusText:Q.statusText,headers:De,config:d,request:Q};vc(function(vn){f(vn),$()},function(vn){h(vn),$()},Ht),Q=null}"onloadend"in Q?Q.onloadend=Le:Q.onreadystatechange=function(){!Q||Q.readyState!==4||Q.status===0&&!(Q.responseURL&&Q.responseURL.indexOf("file:")===0)||setTimeout(Le)},Q.onabort=function(){Q&&(h(new ne("Request aborted",ne.ECONNABORTED,d,Q)),Q=null)},Q.onerror=function(De){const Ht=De&&De.message?De.message:"Network Error",vn=new ne(Ht,ne.ERR_NETWORK,d,Q);vn.event=De||null,h(vn),Q=null},Q.ontimeout=function(){let De=x.timeout?"timeout of "+x.timeout+"ms exceeded":"timeout exceeded";const Ht=x.transitional||oo;x.timeoutErrorMessage&&(De=x.timeoutErrorMessage),h(new ne(De,Ht.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,d,Q)),Q=null},E===void 0&&j.setContentType(null),"setRequestHeader"in Q&&T.forEach(j.toJSON(),function(De,Ht){Q.setRequestHeader(Ht,De)}),T.isUndefined(x.withCredentials)||(Q.withCredentials=!!x.withCredentials),N&&N!=="json"&&(Q.responseType=x.responseType),W&&([se,ae]=lo(W,!0),Q.addEventListener("progress",se)),D&&Q.upload&&([V,xe]=lo(D),Q.upload.addEventListener("progress",V),Q.upload.addEventListener("loadend",xe)),(x.cancelToken||x.signal)&&(z=De=>{Q&&(h(!De||De.type?new mr(null,d,Q):De),Q.abort(),Q=null)},x.cancelToken&&x.cancelToken.subscribe(z),x.signal&&(x.signal.aborted?z():x.signal.addEventListener("abort",z)));const Xe=Mm(x.url);if(Xe&&ye.protocols.indexOf(Xe)===-1){h(new ne("Unsupported protocol "+Xe+":",ne.ERR_BAD_REQUEST,d));return}Q.send(E||null)})},qm=(d,f)=>{const{length:h}=d=d?d.filter(Boolean):[];if(f||h){let x=new AbortController,E;const j=function(z){if(!E){E=!0,D();const V=z instanceof Error?z:this.reason;x.abort(V instanceof ne?V:new mr(V instanceof Error?V.message:V))}};let N=f&&setTimeout(()=>{N=null,j(new ne(`timeout ${f} of ms exceeded`,ne.ETIMEDOUT))},f);const D=()=>{d&&(N&&clearTimeout(N),N=null,d.forEach(z=>{z.unsubscribe?z.unsubscribe(j):z.removeEventListener("abort",j)}),d=null)};d.forEach(z=>z.addEventListener("abort",j));const{signal:W}=x;return W.unsubscribe=()=>T.asap(D),W}};const Wm=function*(d,f){let h=d.byteLength;if(h<f){yield d;return}let x=0,E;for(;x<h;)E=x+f,yield d.slice(x,E),x=E},Km=async function*(d,f){for await(const h of Qm(d))yield*Wm(h,f)},Qm=async function*(d){if(d[Symbol.asyncIterator]){yield*d;return}const f=d.getReader();try{for(;;){const{done:h,value:x}=await f.read();if(h)break;yield x}}finally{await f.cancel()}},Cc=(d,f,h,x)=>{const E=Km(d,f);let j=0,N,D=W=>{N||(N=!0,x&&x(W))};return new ReadableStream({async pull(W){try{const{done:z,value:V}=await E.next();if(z){D(),W.close();return}let se=V.byteLength;if(h){let xe=j+=se;h(xe)}W.enqueue(new Uint8Array(V))}catch(z){throw D(z),z}},cancel(W){return D(W),E.return()}},{highWaterMark:2})},Ec=64*1024,{isFunction:uo}=T,Gm=(({Request:d,Response:f})=>({Request:d,Response:f}))(T.global),{ReadableStream:jc,TextEncoder:Nc}=T.global,bc=(d,...f)=>{try{return!!d(...f)}catch{return!1}},Ym=d=>{d=T.merge.call({skipUndefined:!0},Gm,d);const{fetch:f,Request:h,Response:x}=d,E=f?uo(f):typeof fetch=="function",j=uo(h),N=uo(x);if(!E)return!1;const D=E&&uo(jc),W=E&&(typeof Nc=="function"?($=>Q=>$.encode(Q))(new Nc):async $=>new Uint8Array(await new h($).arrayBuffer())),z=j&&D&&bc(()=>{let $=!1;const Q=new h(ye.origin,{body:new jc,method:"POST",get duplex(){return $=!0,"half"}}).headers.has("Content-Type");return $&&!Q}),V=N&&D&&bc(()=>T.isReadableStream(new x("").body)),se={stream:V&&($=>$.body)};E&&["text","arrayBuffer","blob","formData","stream"].forEach($=>{!se[$]&&(se[$]=(Q,Le)=>{let Xe=Q&&Q[$];if(Xe)return Xe.call(Q);throw new ne(`Response type '${$}' is not supported`,ne.ERR_NOT_SUPPORT,Le)})});const xe=async $=>{if($==null)return 0;if(T.isBlob($))return $.size;if(T.isSpecCompliantForm($))return(await new h(ye.origin,{method:"POST",body:$}).arrayBuffer()).byteLength;if(T.isArrayBufferView($)||T.isArrayBuffer($))return $.byteLength;if(T.isURLSearchParams($)&&($=$+""),T.isString($))return(await W($)).byteLength},ae=async($,Q)=>T.toFiniteNumber($.getContentLength())??xe(Q);return async $=>{let{url:Q,method:Le,data:Xe,signal:De,cancelToken:Ht,timeout:vn,onDownloadProgress:fa,onUploadProgress:Fc,responseType:wn,headers:pa,withCredentials:mo="same-origin",fetchOptions:Mc}=kc($),Dc=f||fetch;wn=wn?(wn+"").toLowerCase():"text";let go=qm([De,Ht&&Ht.toAbortSignal()],vn),ns=null;const Kn=go&&go.unsubscribe&&(()=>{go.unsubscribe()});let Uc;try{if(Fc&&z&&Le!=="get"&&Le!=="head"&&(Uc=await ae(pa,Xe))!==0){let _n=new h(Q,{method:"POST",body:Xe,duplex:"half"}),gr;if(T.isFormData(Xe)&&(gr=_n.headers.get("content-type"))&&pa.setContentType(gr),_n.body){const[ha,yo]=wc(Uc,lo(xc(Fc)));Xe=Cc(_n.body,Ec,ha,yo)}}T.isString(mo)||(mo=mo?"include":"omit");const qt=j&&"credentials"in h.prototype,zc={...Mc,signal:go,method:Le.toUpperCase(),headers:pa.normalize().toJSON(),body:Xe,duplex:"half",credentials:qt?mo:void 0};ns=j&&new h(Q,zc);let xn=await(j?Dc(ns,Mc):Dc(Q,zc));const Bc=V&&(wn==="stream"||wn==="response");if(V&&(fa||Bc&&Kn)){const _n={};["status","statusText","headers"].forEach($c=>{_n[$c]=xn[$c]});const gr=T.toFiniteNumber(xn.headers.get("content-length")),[ha,yo]=fa&&wc(gr,lo(xc(fa),!0))||[];xn=new x(Cc(xn.body,Ec,ha,()=>{yo&&yo(),Kn&&Kn()}),_n)}wn=wn||"text";let sg=await se[T.findKey(se,wn)||"text"](xn,$);return!Bc&&Kn&&Kn(),await new Promise((_n,gr)=>{vc(_n,gr,{data:sg,headers:bt.from(xn.headers),status:xn.status,statusText:xn.statusText,config:$,request:ns})})}catch(qt){throw Kn&&Kn(),qt&&qt.name==="TypeError"&&/Load failed|fetch/i.test(qt.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,$,ns),{cause:qt.cause||qt}):ne.from(qt,qt&&qt.code,$,ns)}}},Xm=new Map,Oc=d=>{let f=d?d.env:{};const{fetch:h,Request:x,Response:E}=f,j=[x,E,h];let N=j.length,D=N,W,z,V=Xm;for(;D--;)W=j[D],z=V.get(W),z===void 0&&V.set(W,z=D?new Map:Ym(f)),V=z;return z};Oc();const la={http:Qi,xhr:Hm,fetch:{get:Oc}};T.forEach(la,(d,f)=>{if(d){try{Object.defineProperty(d,"name",{value:f})}catch{}Object.defineProperty(d,"adapterName",{value:f})}});const Tc=d=>`- ${d}`,Jm=d=>T.isFunction(d)||d===null||d===!1;var Rc={getAdapter:(d,f)=>{d=T.isArray(d)?d:[d];const{length:h}=d;let x,E;const j={};for(let N=0;N<h;N++){x=d[N];let D;if(E=x,!Jm(x)&&(E=la[(D=String(x)).toLowerCase()],E===void 0))throw new ne(`Unknown adapter '${D}'`);if(E&&(T.isFunction(E)||(E=E.get(f))))break;j[D||"#"+N]=E}if(!E){const N=Object.entries(j).map(([W,z])=>`adapter ${W} `+(z===!1?"is not supported by the environment":"is not available in the build"));let D=h?N.length>1?`since :
`+N.map(Tc).join(`
`):" "+Tc(N[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+D,"ERR_NOT_SUPPORT")}return E},adapters:la};function ua(d){if(d.cancelToken&&d.cancelToken.throwIfRequested(),d.signal&&d.signal.aborted)throw new mr(null,d)}function Pc(d){return ua(d),d.headers=bt.from(d.headers),d.data=aa.call(d,d.transformRequest),["post","put","patch"].indexOf(d.method)!==-1&&d.headers.setContentType("application/x-www-form-urlencoded",!1),Rc.getAdapter(d.adapter||oa.adapter,d)(d).then(function(f){return ua(d),f.data=aa.call(d,d.transformResponse,f),f.headers=bt.from(f.headers),f},function(f){return yc(f)||(ua(d),f&&f.response&&(f.response.data=aa.call(d,d.transformResponse,f.response),f.response.headers=bt.from(f.response.headers))),Promise.reject(f)})}const Ac="1.12.2",co={};["object","boolean","number","function","string","symbol"].forEach((d,f)=>{co[d]=function(h){return typeof h===d||"a"+(f<1?"n ":" ")+d}});const Lc={};co.transitional=function(d,f,h){function x(E,j){return"[Axios v"+Ac+"] Transitional option '"+E+"'"+j+(h?". "+h:"")}return(E,j,N)=>{if(d===!1)throw new ne(x(j," has been removed"+(f?" in "+f:"")),ne.ERR_DEPRECATED);return f&&!Lc[j]&&(Lc[j]=!0,console.warn(x(j," has been deprecated since v"+f+" and will be removed in the near future"))),d?d(E,j,N):!0}},co.spelling=function(d){return(f,h)=>(console.warn(`${h} is likely a misspelling of ${d}`),!0)};function Zm(d,f,h){if(typeof d!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const x=Object.keys(d);let E=x.length;for(;E-- >0;){const j=x[E],N=f[j];if(N){const D=d[j],W=D===void 0||N(D,j,d);if(W!==!0)throw new ne("option "+j+" must be "+W,ne.ERR_BAD_OPTION_VALUE);continue}if(h!==!0)throw new ne("Unknown option "+j,ne.ERR_BAD_OPTION)}}var fo={assertOptions:Zm,validators:co};const Vt=fo.validators;class po{constructor(f){this.defaults=f||{},this.interceptors={request:new so,response:new so}}async request(f,h){try{return await this._request(f,h)}catch(x){if(x instanceof Error){let E={};Error.captureStackTrace?Error.captureStackTrace(E):E=new Error;const j=E.stack?E.stack.replace(/^.+\n/,""):"";try{x.stack?j&&!String(x.stack).endsWith(j.replace(/^.+\n.+\n/,""))&&(x.stack+=`
`+j):x.stack=j}catch{}}throw x}}_request(f,h){typeof f=="string"?(h=h||{},h.url=f):h=f||{},h=Wn(this.defaults,h);const{transitional:x,paramsSerializer:E,headers:j}=h;x!==void 0&&fo.assertOptions(x,{silentJSONParsing:Vt.transitional(Vt.boolean),forcedJSONParsing:Vt.transitional(Vt.boolean),clarifyTimeoutError:Vt.transitional(Vt.boolean)},!1),E!=null&&(T.isFunction(E)?h.paramsSerializer={serialize:E}:fo.assertOptions(E,{encode:Vt.function,serialize:Vt.function},!0)),h.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?h.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:h.allowAbsoluteUrls=!0),fo.assertOptions(h,{baseUrl:Vt.spelling("baseURL"),withXsrfToken:Vt.spelling("withXSRFToken")},!0),h.method=(h.method||this.defaults.method||"get").toLowerCase();let N=j&&T.merge(j.common,j[h.method]);j&&T.forEach(["delete","get","head","post","put","patch","common"],$=>{delete j[$]}),h.headers=bt.concat(N,j);const D=[];let W=!0;this.interceptors.request.forEach(function($){typeof $.runWhen=="function"&&$.runWhen(h)===!1||(W=W&&$.synchronous,D.unshift($.fulfilled,$.rejected))});const z=[];this.interceptors.response.forEach(function($){z.push($.fulfilled,$.rejected)});let V,se=0,xe;if(!W){const $=[Pc.bind(this),void 0];for($.unshift(...D),$.push(...z),xe=$.length,V=Promise.resolve(h);se<xe;)V=V.then($[se++],$[se++]);return V}xe=D.length;let ae=h;for(;se<xe;){const $=D[se++],Q=D[se++];try{ae=$(ae)}catch(Le){Q.call(this,Le);break}}try{V=Pc.call(this,ae)}catch($){return Promise.reject($)}for(se=0,xe=z.length;se<xe;)V=V.then(z[se++],z[se++]);return V}getUri(f){f=Wn(this.defaults,f);const h=_c(f.baseURL,f.url,f.allowAbsoluteUrls);return ro(h,f.params,f.paramsSerializer)}}T.forEach(["delete","get","head","options"],function(d){po.prototype[d]=function(f,h){return this.request(Wn(h||{},{method:d,url:f,data:(h||{}).data}))}}),T.forEach(["post","put","patch"],function(d){function f(h){return function(x,E,j){return this.request(Wn(j||{},{method:d,headers:h?{"Content-Type":"multipart/form-data"}:{},url:x,data:E}))}}po.prototype[d]=f(),po.prototype[d+"Form"]=f(!0)});var ho=po;class ca{constructor(f){if(typeof f!="function")throw new TypeError("executor must be a function.");let h;this.promise=new Promise(function(E){h=E});const x=this;this.promise.then(E=>{if(!x._listeners)return;let j=x._listeners.length;for(;j-- >0;)x._listeners[j](E);x._listeners=null}),this.promise.then=E=>{let j;const N=new Promise(D=>{x.subscribe(D),j=D}).then(E);return N.cancel=function(){x.unsubscribe(j)},N},f(function(E,j,N){x.reason||(x.reason=new mr(E,j,N),h(x.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(f){if(this.reason){f(this.reason);return}this._listeners?this._listeners.push(f):this._listeners=[f]}unsubscribe(f){if(!this._listeners)return;const h=this._listeners.indexOf(f);h!==-1&&this._listeners.splice(h,1)}toAbortSignal(){const f=new AbortController,h=x=>{f.abort(x)};return this.subscribe(h),f.signal.unsubscribe=()=>this.unsubscribe(h),f.signal}static source(){let f;return{token:new ca(function(h){f=h}),cancel:f}}}var eg=ca;function tg(d){return function(f){return d.apply(null,f)}}function ng(d){return T.isObject(d)&&d.isAxiosError===!0}const da={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(da).forEach(([d,f])=>{da[f]=d});var rg=da;function Ic(d){const f=new ho(d),h=e(ho.prototype.request,f);return T.extend(h,ho.prototype,f,{allOwnKeys:!0}),T.extend(h,f,null,{allOwnKeys:!0}),h.create=function(x){return Ic(Wn(d,x))},h}const Ae=Ic(oa);return Ae.Axios=ho,Ae.CanceledError=mr,Ae.CancelToken=eg,Ae.isCancel=yc,Ae.VERSION=Ac,Ae.toFormData=pr,Ae.AxiosError=ne,Ae.Cancel=Ae.CanceledError,Ae.all=function(d){return Promise.all(d)},Ae.spread=tg,Ae.isAxiosError=ng,Ae.mergeConfig=Wn,Ae.AxiosHeaders=bt,Ae.formToJSON=d=>mc(T.isHTMLForm(d)?new FormData(d):d),Ae.getAdapter=Rc.getAdapter,Ae.HttpStatusCode=rg,Ae.default=Ae,Ba=Ae,Ba}var tf;function Gh(){if(tf)return rn;tf=1;var e=rn&&rn.__assign||function(){return e=Object.assign||function(s){for(var o,i=1,l=arguments.length;i<l;i++){o=arguments[i];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},e.apply(this,arguments)};Object.defineProperty(rn,"__esModule",{value:!0}),rn.getRequestHeaders=rn.getAxiosClient=void 0;var t=Iv();function n(s,o,i,l,a){var c=t.default.create({baseURL:s,headers:r(o,l,i,s,a),withCredentials:!0});return c.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&l&&i&&(p.headers.Authorization="".concat(l," ").concat(i())),p}),c}rn.getAxiosClient=n;function r(s,o,i,l,a){s===void 0&&(s=!1);var c={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return s&&o&&i&&(c.Authorization="".concat(o," ").concat(i())),typeof window<"u"&&typeof document<"u"&&(window.location&&(l&&l!==window.location.origin||(c["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(c["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},c),a??{})}return rn.getRequestHeaders=r,rn}var nf;function Yh(){if(nf)return Pt;nf=1;var e=Pt&&Pt.__assign||function(){return e=Object.assign||function(o){for(var i,l=1,a=arguments.length;l<a;l++){i=arguments[l];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(o[c]=i[c])}return o},e.apply(this,arguments)},t=Pt&&Pt.__awaiter||function(o,i,l,a){function c(p){return p instanceof l?p:new l(function(m){m(p)})}return new(l||(l=Promise))(function(p,m){function y(C){try{k(a.next(C))}catch(F){m(F)}}function v(C){try{k(a.throw(C))}catch(F){m(F)}}function k(C){C.done?p(C.value):c(C.value).then(y,v)}k((a=a.apply(o,i||[])).next())})},n=Pt&&Pt.__generator||function(o,i){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},a,c,p,m;return m={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function y(k){return function(C){return v([k,C])}}function v(k){if(a)throw new TypeError("Generator is already executing.");for(;m&&(m=0,k[0]&&(l=0)),l;)try{if(a=1,c&&(p=k[0]&2?c.return:k[0]?c.throw||((p=c.return)&&p.call(c),0):c.next)&&!(p=p.call(c,k[1])).done)return p;switch(c=0,p&&(k=[k[0]&2,p.value]),k[0]){case 0:case 1:p=k;break;case 4:return l.label++,{value:k[1],done:!1};case 5:l.label++,c=k[1],k=[0];continue;case 7:k=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(k[0]===6||k[0]===2)){l=0;continue}if(k[0]===3&&(!p||k[1]>p[0]&&k[1]<p[3])){l.label=k[1];break}if(k[0]===6&&l.label<p[1]){l.label=p[1],p=k;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(k);break}p[2]&&l.ops.pop(),l.trys.pop();continue}k=i.call(o,l)}catch(C){k=[6,C],c=0}finally{a=p=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.FrappeFileUpload=void 0;var r=Gh(),s=function(){function o(i,l,a,c,p,m){this.appURL=i,this.axios=l,this.useToken=a??!1,this.token=c,this.tokenType=p,this.customHeaders=m}return o.prototype.uploadFile=function(i,l,a,c){return c===void 0&&(c="upload_file"),t(this,void 0,void 0,function(){var p,m,y,v,k,C,F,g;return n(this,function(w){return p=new FormData,i&&p.append("file",i,i.name),m=l.isPrivate,y=l.folder,v=l.file_url,k=l.doctype,C=l.docname,F=l.fieldname,g=l.otherData,m&&p.append("is_private","1"),y&&p.append("folder",y),v&&p.append("file_url",v),k&&C&&(p.append("doctype",k),p.append("docname",C),F&&p.append("fieldname",F)),g&&Object.keys(g).forEach(function(_){var S=g[_];p.append(_,S)}),[2,this.axios.post("/api/method/".concat(c),p,{onUploadProgress:function(_){a&&a(_.loaded,_.total,_)},headers:e(e({},(0,r.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(_){var S,b;throw e(e({},_.response.data),{httpStatus:_.response.status,httpStatusText:_.response.statusText,message:(S=_.response.data.message)!==null&&S!==void 0?S:"There was an error while uploading the file.",exception:(b=_.response.data.exception)!==null&&b!==void 0?b:""})})]})})},o}();return Pt.FrappeFileUpload=s,Pt}var rf;function Fv(){if(rf)return ds;rf=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.FrappeApp=void 0;var e=Xh(),t=Kh(),n=Qh(),r=Yh(),s=Gh(),o=function(){function i(l,a,c,p){var m,y;this.url=l,this.name=c??"FrappeApp",this.useToken=(m=a==null?void 0:a.useToken)!==null&&m!==void 0?m:!1,this.token=a==null?void 0:a.token,this.tokenType=(y=a==null?void 0:a.type)!==null&&y!==void 0?y:"Bearer",this.customHeaders=p,this.axios=(0,s.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return i.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},i.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},i.prototype.file=function(){return new r.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},i.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},i}();return ds.FrappeApp=o,ds}var At={},sf;function Mv(){if(sf)return At;sf=1;var e=At&&At.__assign||function(){return e=Object.assign||function(s){for(var o,i=1,l=arguments.length;i<l;i++){o=arguments[i];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},e.apply(this,arguments)},t=At&&At.__awaiter||function(s,o,i,l){function a(c){return c instanceof i?c:new i(function(p){p(c)})}return new(i||(i=Promise))(function(c,p){function m(k){try{v(l.next(k))}catch(C){p(C)}}function y(k){try{v(l.throw(k))}catch(C){p(C)}}function v(k){k.done?c(k.value):a(k.value).then(m,y)}v((l=l.apply(s,o||[])).next())})},n=At&&At.__generator||function(s,o){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},l,a,c,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(v){return function(k){return y([v,k])}}function y(v){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(i=0)),i;)try{if(l=1,a&&(c=v[0]&2?a.return:v[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,v[1])).done)return c;switch(a=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,a=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){i.label=v[1];break}if(v[0]===6&&i.label<c[1]){i.label=c[1],c=v;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(v);break}c[2]&&i.ops.pop(),i.trys.pop();continue}v=o.call(s,i)}catch(k){v=[6,k],a=0}finally{l=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(At,"__esModule",{value:!0}),At.FrappeAuth=void 0;var r=function(){function s(o,i,l,a,c){this.appURL=o,this.axios=i,this.useToken=l??!1,this.token=a,this.tokenType=c}return s.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(l){return l.data}).catch(function(l){var a,c;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(a=l.response.data.message)!==null&&a!==void 0?a:"There was an error while logging in",exception:(c=l.response.data.exception)!==null&&c!==void 0?c:""})})]})})},s.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(i){return i.data.message}).catch(function(i){var l;throw e(e({},i.response.data),{httpStatus:i.response.status,httpStatusText:i.response.statusText,message:"There was an error while fetching the logged in user",exception:(l=i.response.data.exception)!==null&&l!==void 0?l:""})})]})})},s.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(i){var l,a;throw e(e({},i.response.data),{httpStatus:i.response.status,httpStatusText:i.response.statusText,message:(l=i.response.data.message)!==null&&l!==void 0?l:"There was an error while logging out",exception:(a=i.response.data.exception)!==null&&a!==void 0?a:""})})]})})},s.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(l){var a,c;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(a=l.response.data.message)!==null&&a!==void 0?a:"There was an error sending password reset email.",exception:(c=l.response.data.exception)!==null&&c!==void 0?c:""})})]})})},s}();return At.FrappeAuth=r,At}var of;function Xh(){return of||(of=1,function(e){var t=vr&&vr.__createBinding||(Object.create?function(r,s,o,i){i===void 0&&(i=o);var l=Object.getOwnPropertyDescriptor(s,o);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(r,i,l)}:function(r,s,o,i){i===void 0&&(i=o),r[i]=s[o]}),n=vr&&vr.__exportStar||function(r,s){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(Fv(),e),n(Mv(),e),n(Qh(),e),n(Yh(),e),n(Kh(),e)}(vr)),vr}var Dv=Xh(),af={exports:{}},$a={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf;function Uv(){if(lf)return $a;lf=1;var e=Qr;function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function l(m,y){var v=y(),k=r({inst:{value:v,getSnapshot:y}}),C=k[0].inst,F=k[1];return o(function(){C.value=v,C.getSnapshot=y,a(C)&&F({inst:C})},[m,v,y]),s(function(){return a(C)&&F({inst:C}),m(function(){a(C)&&F({inst:C})})},[m]),i(v),v}function a(m){var y=m.getSnapshot;m=m.value;try{var v=y();return!n(m,v)}catch{return!0}}function c(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return $a.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,$a}var uf;function zv(){return uf||(uf=1,af.exports=Uv()),af.exports}var Bv=zv();const Jh=0,Zh=1,em=2,cf=3;var df=Object.prototype.hasOwnProperty;function Kl(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Kl(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(df.call(e,n)&&++r&&!df.call(t,n)||!(n in t)||!Kl(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const an=new WeakMap,On=()=>{},We=On(),bi=Object,pe=e=>e===We,Dt=e=>typeof e=="function",mn=(e,t)=>({...e,...t}),tm=e=>Dt(e.then),Va={},Io={},nc="undefined",Xs=typeof window!=nc,Ql=typeof document!=nc,$v=Xs&&"Deno"in window,Vv=()=>Xs&&typeof window.requestAnimationFrame!=nc,nm=(e,t)=>{const n=an.get(e);return[()=>!pe(t)&&e.get(t)||Va,r=>{if(!pe(t)){const s=e.get(t);t in Io||(Io[t]=s),n[5](t,mn(s,r),s||Va)}},n[6],()=>!pe(t)&&t in Io?Io[t]:!pe(t)&&e.get(t)||Va]};let Gl=!0;const Hv=()=>Gl,[Yl,Xl]=Xs&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[On,On],qv=()=>{const e=Ql&&document.visibilityState;return pe(e)||e!=="hidden"},Wv=e=>(Ql&&document.addEventListener("visibilitychange",e),Yl("focus",e),()=>{Ql&&document.removeEventListener("visibilitychange",e),Xl("focus",e)}),Kv=e=>{const t=()=>{Gl=!0,e()},n=()=>{Gl=!1};return Yl("online",t),Yl("offline",n),()=>{Xl("online",t),Xl("offline",n)}},Qv={isOnline:Hv,isVisible:qv},Gv={initFocus:Wv,initReconnect:Kv},ff=!Qr.useId,qs=!Xs||$v,Yv=e=>Vv()?window.requestAnimationFrame(e):setTimeout(e,1),Zo=qs?O.useEffect:O.useLayoutEffect,Ha=typeof navigator<"u"&&navigator.connection,pf=!qs&&Ha&&(["slow-2g","2g"].includes(Ha.effectiveType)||Ha.saveData),Fo=new WeakMap,Xv=e=>bi.prototype.toString.call(e),qa=(e,t)=>e===`[object ${t}]`;let Jv=0;const Jl=e=>{const t=typeof e,n=Xv(e),r=qa(n,"Date"),s=qa(n,"RegExp"),o=qa(n,"Object");let i,l;if(bi(e)===e&&!r&&!s){if(i=Fo.get(e),i)return i;if(i=++Jv+"~",Fo.set(e,i),Array.isArray(e)){for(i="@",l=0;l<e.length;l++)i+=Jl(e[l])+",";Fo.set(e,i)}if(o){i="#";const a=bi.keys(e).sort();for(;!pe(l=a.pop());)pe(e[l])||(i+=l+":"+Jl(e[l])+",");Fo.set(e,i)}}else i=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},rc=e=>{if(Dt(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Jl(e):"",[e,t]};let Zv=0;const Zl=()=>++Zv;async function rm(...e){const[t,n,r,s]=e,o=mn({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let i=o.populateCache;const l=o.rollbackOnError;let a=o.optimisticData;const c=y=>typeof l=="function"?l(y):l!==!1,p=o.throwOnError;if(Dt(n)){const y=n,v=[],k=t.keys();for(const C of k)!/^\$(inf|sub)\$/.test(C)&&y(t.get(C)._k)&&v.push(C);return Promise.all(v.map(m))}return m(n);async function m(y){const[v]=rc(y);if(!v)return;const[k,C]=nm(t,v),[F,g,w,_]=an.get(t),S=()=>{const ee=F[v];return(Dt(o.revalidate)?o.revalidate(k().data,y):o.revalidate!==!1)&&(delete w[v],delete _[v],ee&&ee[0])?ee[0](em).then(()=>k().data):k().data};if(e.length<3)return S();let b=r,A,L=!1;const R=Zl();g[v]=[R,0];const K=!pe(a),B=k(),re=B.data,Y=B._c,J=pe(Y)?re:Y;if(K&&(a=Dt(a)?a(J,re):a,C({data:a,_c:J})),Dt(b))try{b=b(J)}catch(ee){A=ee,L=!0}if(b&&tm(b))if(b=await b.catch(ee=>{A=ee,L=!0}),R!==g[v][0]){if(L)throw A;return b}else L&&K&&c(A)&&(i=!0,C({data:J,_c:We}));if(i&&!L)if(Dt(i)){const ee=i(b,J);C({data:ee,error:We,_c:We})}else C({data:b,error:We,_c:We});if(g[v][1]=Zl(),Promise.resolve(S()).then(()=>{C({_c:We})}),L){if(p)throw A;return}return b}}const hf=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},sm=(e,t)=>{if(!an.has(e)){const n=mn(Gv,t),r=Object.create(null),s=rm.bind(We,e);let o=On;const i=Object.create(null),l=(p,m)=>{const y=i[p]||[];return i[p]=y,y.push(m),()=>y.splice(y.indexOf(m),1)},a=(p,m,y)=>{e.set(p,m);const v=i[p];if(v)for(const k of v)k(m,y)},c=()=>{if(!an.has(e)&&(an.set(e,[r,Object.create(null),Object.create(null),Object.create(null),s,a,l]),!qs)){const p=n.initFocus(setTimeout.bind(We,hf.bind(We,r,Jh))),m=n.initReconnect(setTimeout.bind(We,hf.bind(We,r,Zh)));o=()=>{p&&p(),m&&m(),an.delete(e)}}};return c(),[e,s,c,o]}return[e,an.get(e)[4]]},e0=(e,t,n,r,s)=>{const o=n.errorRetryCount,i=s.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;!pe(o)&&i>o||setTimeout(r,l,s)},t0=Kl,[sc,n0]=sm(new Map),om=mn({onLoadingSlow:On,onSuccess:On,onError:On,onErrorRetry:e0,onDiscarded:On,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:pf?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:pf?5e3:3e3,compare:t0,isPaused:()=>!1,cache:sc,mutate:n0,fallback:{}},Qv),im=(e,t)=>{const n=mn(e,t);if(t){const{use:r,fallback:s}=e,{use:o,fallback:i}=t;r&&o&&(n.use=r.concat(o)),s&&i&&(n.fallback=mn(s,i))}return n},eu=O.createContext({}),r0=e=>{const{value:t}=e,n=O.useContext(eu),r=Dt(t),s=O.useMemo(()=>r?t(n):t,[r,n,t]),o=O.useMemo(()=>r?s:im(n,s),[r,n,s]),i=s&&s.provider,l=O.useRef(We);i&&!l.current&&(l.current=sm(i(o.cache||sc),s));const a=l.current;return a&&(o.cache=a[0],o.mutate=a[1]),Zo(()=>{if(a)return a[2]&&a[2](),a[3]},[]),O.createElement(eu.Provider,mn(e,{value:o}))},s0="$inf$",am=Xs&&window.__SWR_DEVTOOLS_USE__,o0=am?window.__SWR_DEVTOOLS_USE__:[],i0=()=>{am&&(window.__SWR_DEVTOOLS_REACT__=Qr)},a0=e=>Dt(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],l0=()=>{const e=O.useContext(eu);return O.useMemo(()=>mn(om,e),[e])},u0=e=>(t,n,r)=>e(t,n&&((...s)=>{const[o]=rc(t),[,,,i]=an.get(sc);if(o.startsWith(s0))return n(...s);const l=i[o];return pe(l)?n(...s):(delete i[o],l)}),r),c0=o0.concat(u0),d0=e=>function(...t){const n=l0(),[r,s,o]=a0(t),i=im(n,o);let l=e;const{use:a}=i,c=(a||[]).concat(c0);for(let p=c.length;p--;)l=c[p](l);return l(r,s||i.fetcher||null,i)},f0=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};i0();const Wa=Qr.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Ka={dedupe:!0},mf=Promise.resolve(We),p0=(e,t,n)=>{const{cache:r,compare:s,suspense:o,fallbackData:i,revalidateOnMount:l,revalidateIfStale:a,refreshInterval:c,refreshWhenHidden:p,refreshWhenOffline:m,keepPreviousData:y}=n,[v,k,C,F]=an.get(r),[g,w]=rc(e),_=O.useRef(!1),S=O.useRef(!1),b=O.useRef(g),A=O.useRef(t),L=O.useRef(n),R=()=>L.current,K=()=>R().isVisible()&&R().isOnline(),[B,re,Y,J]=nm(r,g),ee=O.useRef({}).current,P=pe(i)?pe(n.fallback)?We:n.fallback[g]:i,Z=(oe,me)=>{for(const Ce in ee){const de=Ce;if(de==="data"){if(!s(oe[de],me[de])&&(!pe(oe[de])||!s(Re,me[de])))return!1}else if(me[de]!==oe[de])return!1}return!0},U=O.useMemo(()=>{const oe=!g||!t?!1:pe(l)?R().isPaused()||o?!1:a!==!1:l,me=Oe=>{const dt=mn(Oe);return delete dt._k,oe?{isValidating:!0,isLoading:!0,...dt}:dt},Ce=B(),de=J(),jt=me(Ce),Nt=Ce===de?jt:me(de);let Be=jt;return[()=>{const Oe=me(B());return Z(Oe,Be)?(Be.data=Oe.data,Be.isLoading=Oe.isLoading,Be.isValidating=Oe.isValidating,Be.error=Oe.error,Be):(Be=Oe,Oe)},()=>Nt]},[r,g]),I=Bv.useSyncExternalStore(O.useCallback(oe=>Y(g,(me,Ce)=>{Z(Ce,me)||oe()}),[r,g]),U[0],U[1]),q=!_.current,X=v[g]&&v[g].length>0,te=I.data,fe=pe(te)?P&&tm(P)?Wa(P):P:te,le=I.error,Me=O.useRef(fe),Re=y?pe(te)?pe(Me.current)?fe:Me.current:te:fe,He=X&&!pe(le)?!1:q&&!pe(l)?l:R().isPaused()?!1:o?pe(fe)?!1:a:pe(fe)||a,Ge=!!(g&&t&&q&&He),ur=pe(I.isValidating)?Ge:I.isValidating,Hn=pe(I.isLoading)?Ge:I.isLoading,en=O.useCallback(async oe=>{const me=A.current;if(!g||!me||S.current||R().isPaused())return!1;let Ce,de,jt=!0;const Nt=oe||{},Be=!C[g]||!Nt.dedupe,Oe=()=>ff?!S.current&&g===b.current&&_.current:g===b.current,dt={isValidating:!1,isLoading:!1},cr=()=>{re(dt)},dr=()=>{const Ye=C[g];Ye&&Ye[1]===de&&delete C[g]},nn={isValidating:!0};pe(B().data)&&(nn.isLoading=!0);try{if(Be&&(re(nn),n.loadingTimeout&&pe(B().data)&&setTimeout(()=>{jt&&Oe()&&R().onLoadingSlow(g,n)},n.loadingTimeout),C[g]=[me(w),Zl()]),[Ce,de]=C[g],Ce=await Ce,Be&&setTimeout(dr,n.dedupingInterval),!C[g]||C[g][1]!==de)return Be&&Oe()&&R().onDiscarded(g),!1;dt.error=We;const Ye=k[g];if(!pe(Ye)&&(de<=Ye[0]||de<=Ye[1]||Ye[1]===0))return cr(),Be&&Oe()&&R().onDiscarded(g),!1;const T=B().data;dt.data=s(T,Ce)?T:Ce,Be&&Oe()&&R().onSuccess(Ce,g,n)}catch(Ye){dr();const T=R(),{shouldRetryOnError:ne}=T;T.isPaused()||(dt.error=Ye,Be&&Oe()&&(T.onError(Ye,g,T),(ne===!0||Dt(ne)&&ne(Ye))&&(!R().revalidateOnFocus||!R().revalidateOnReconnect||K())&&T.onErrorRetry(Ye,g,T,fr=>{const yn=v[g];yn&&yn[0]&&yn[0](cf,fr)},{retryCount:(Nt.retryCount||0)+1,dedupe:!0})))}return jt=!1,cr(),!0},[g,r]),tn=O.useCallback((...oe)=>rm(r,b.current,...oe),[]);if(Zo(()=>{A.current=t,L.current=n,pe(te)||(Me.current=te)}),Zo(()=>{if(!g)return;const oe=en.bind(We,Ka);let me=0;R().revalidateOnFocus&&(me=Date.now()+R().focusThrottleInterval);const Ce=f0(g,v,(de,jt={})=>{if(de==Jh){const Nt=Date.now();R().revalidateOnFocus&&Nt>me&&K()&&(me=Nt+R().focusThrottleInterval,oe())}else if(de==Zh)R().revalidateOnReconnect&&K()&&oe();else{if(de==em)return en();if(de==cf)return en(jt)}});return S.current=!1,b.current=g,_.current=!0,re({_k:w}),He&&(C[g]||(pe(fe)||qs?oe():Yv(oe))),()=>{S.current=!0,Ce()}},[g]),Zo(()=>{let oe;function me(){const de=Dt(c)?c(B().data):c;de&&oe!==-1&&(oe=setTimeout(Ce,de))}function Ce(){!B().error&&(p||R().isVisible())&&(m||R().isOnline())?en(Ka).then(me):me()}return me(),()=>{oe&&(clearTimeout(oe),oe=-1)}},[c,p,m,g]),O.useDebugValue(Re),o){const oe=g&&pe(fe);if(!ff&&qs&&oe)throw new Error("Fallback data is required when using Suspense in SSR.");oe&&(A.current=t,L.current=n,S.current=!1);const me=F[g],Ce=!pe(me)&&oe?tn(me):mf;if(Wa(Ce),!pe(le)&&oe)throw le;const de=oe?en(Ka):mf;!pe(Re)&&oe&&(de.status="fulfilled",de.value=!0),Wa(de)}return{mutate:tn,get data(){return ee.data=!0,Re},get error(){return ee.error=!0,le},get isValidating(){return ee.isValidating=!0,ur},get isLoading(){return ee.isLoading=!0,Hn}}},h0=bi.defineProperty(r0,"defaultValue",{value:om}),m0=d0(p0);Promise.resolve();const Zt=Object.create(null);Zt.open="0";Zt.close="1";Zt.ping="2";Zt.pong="3";Zt.message="4";Zt.upgrade="5";Zt.noop="6";const ei=Object.create(null);Object.keys(Zt).forEach(e=>{ei[Zt[e]]=e});const tu={type:"error",data:"parser error"},lm=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",um=typeof ArrayBuffer=="function",cm=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,oc=({type:e,data:t},n,r)=>lm&&t instanceof Blob?n?r(t):gf(t,r):um&&(t instanceof ArrayBuffer||cm(t))?n?r(t):gf(new Blob([t]),r):r(Zt[e]+(t||"")),gf=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function yf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Qa;function g0(e,t){if(lm&&e.data instanceof Blob)return e.data.arrayBuffer().then(yf).then(t);if(um&&(e.data instanceof ArrayBuffer||cm(e.data)))return t(yf(e.data));oc(e,!1,n=>{Qa||(Qa=new TextEncoder),t(Qa.encode(n))})}const vf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<vf.length;e++)vs[vf.charCodeAt(e)]=e;const y0=e=>{let t=e.length*.75,n=e.length,r,s=0,o,i,l,a;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),p=new Uint8Array(c);for(r=0;r<n;r+=4)o=vs[e.charCodeAt(r)],i=vs[e.charCodeAt(r+1)],l=vs[e.charCodeAt(r+2)],a=vs[e.charCodeAt(r+3)],p[s++]=o<<2|i>>4,p[s++]=(i&15)<<4|l>>2,p[s++]=(l&3)<<6|a&63;return c},v0=typeof ArrayBuffer=="function",ic=(e,t)=>{if(typeof e!="string")return{type:"message",data:dm(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:w0(e.substring(1),t)}:ei[n]?e.length>1?{type:ei[n],data:e.substring(1)}:{type:ei[n]}:tu},w0=(e,t)=>{if(v0){const n=y0(e);return dm(n,t)}else return{base64:!0,data:e}},dm=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},fm="",x0=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((o,i)=>{oc(o,!1,l=>{r[i]=l,++s===n&&t(r.join(fm))})})},_0=(e,t)=>{const n=e.split(fm),r=[];for(let s=0;s<n.length;s++){const o=ic(n[s],t);if(r.push(o),o.type==="error")break}return r};function S0(){return new TransformStream({transform(e,t){g0(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Ga;function Mo(e){return e.reduce((t,n)=>t+n.length,0)}function Do(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function k0(e,t){Ga||(Ga=new TextDecoder);const n=[];let r=0,s=-1,o=!1;return new TransformStream({transform(i,l){for(n.push(i);;){if(r===0){if(Mo(n)<1)break;const a=Do(n,1);o=(a[0]&128)===128,s=a[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Mo(n)<2)break;const a=Do(n,2);s=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),r=3}else if(r===2){if(Mo(n)<8)break;const a=Do(n,8),c=new DataView(a.buffer,a.byteOffset,a.length),p=c.getUint32(0);if(p>Math.pow(2,21)-1){l.enqueue(tu);break}s=p*Math.pow(2,32)+c.getUint32(4),r=3}else{if(Mo(n)<s)break;const a=Do(n,s);l.enqueue(ic(o?a:Ga.decode(a),t)),r=0}if(s===0||s>e){l.enqueue(tu);break}}}})}const pm=4;function Fe(e){if(e)return C0(e)}function C0(e){for(var t in Fe.prototype)e[t]=Fe.prototype[t];return e}Fe.prototype.on=Fe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Fe.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Fe.prototype.off=Fe.prototype.removeListener=Fe.prototype.removeAllListeners=Fe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Fe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};Fe.prototype.emitReserved=Fe.prototype.emit;Fe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Fe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const xt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function hm(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const E0=xt.setTimeout,j0=xt.clearTimeout;function Wi(e,t){t.useNativeTimers?(e.setTimeoutFn=E0.bind(xt),e.clearTimeoutFn=j0.bind(xt)):(e.setTimeoutFn=xt.setTimeout.bind(xt),e.clearTimeoutFn=xt.clearTimeout.bind(xt))}const N0=1.33;function b0(e){return typeof e=="string"?O0(e):Math.ceil((e.byteLength||e.size)*N0)}function O0(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function T0(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function R0(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class P0 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class ac extends Fe{constructor(t){super(),this.writable=!1,Wi(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new P0(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=ic(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=T0(t);return n.length?"?"+n:""}}const mm="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),nu=64,A0={};let wf=0,Uo=0,xf;function _f(e){let t="";do t=mm[e%nu]+t,e=Math.floor(e/nu);while(e>0);return t}function gm(){const e=_f(+new Date);return e!==xf?(wf=0,xf=e):e+"."+_f(wf++)}for(;Uo<nu;Uo++)A0[mm[Uo]]=Uo;let ym=!1;try{ym=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const L0=ym;function vm(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||L0))return new XMLHttpRequest}catch{}if(!t)try{return new xt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function I0(){}const F0=function(){return new vm({xdomain:!1}).responseType!=null}();class M0 extends ac{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}const n=t&&t.forceBase64;this.supportsBinary=F0&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};_0(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,x0(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=gm()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Jt(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Jt extends Fe{constructor(t,n){super(),Wi(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=hm(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new vm(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=Jt.requestsCount++,Jt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=I0,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Jt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Jt.requestsCount=0;Jt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Sf);else if(typeof addEventListener=="function"){const e="onpagehide"in xt?"pagehide":"unload";addEventListener(e,Sf,!1)}}function Sf(){for(let e in Jt.requests)Jt.requests.hasOwnProperty(e)&&Jt.requests[e].abort()}const lc=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),zo=xt.WebSocket||xt.MozWebSocket,kf=!0,D0="arraybuffer",Cf=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class U0 extends ac{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=Cf?{}:hm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=kf&&!Cf?n?new zo(t,n):new zo(t):new zo(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;oc(r,this.supportsBinary,o=>{try{kf&&this.ws.send(o)}catch{}s&&lc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=gm()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!zo}}class z0 extends ac{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=k0(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=S0();s.readable.pipeTo(t.writable),this.writer=s.writable.getWriter();const o=()=>{r.read().then(({done:l,value:a})=>{l||(this.onPacket(a),o())}).catch(l=>{})};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this.writer.write(i).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this.writer.write(r).then(()=>{s&&lc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const B0={websocket:U0,webtransport:z0,polling:M0},$0=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,V0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ru(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=$0.exec(e||""),o={},i=14;for(;i--;)o[V0[i]]=s[i]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=H0(o,o.path),o.queryKey=q0(o,o.query),o}function H0(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function q0(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,o){s&&(n[s]=o)}),n}let wm=class wr extends Fe{constructor(t,n={}){super(),this.binaryType=D0,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=ru(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=ru(n.host).host),Wi(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=R0(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=pm,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new B0[t](r)}open(){let t;if(this.opts.rememberUpgrade&&wr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;wr.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",m=>{if(!r)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;wr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=n.name,this.emitReserved("upgradeError",y)}}))};function o(){r||(r=!0,p(),n.close(),n=null)}const i=m=>{const y=new Error("probe error: "+m);y.transport=n.name,o(),this.emitReserved("upgradeError",y)};function l(){i("transport closed")}function a(){i("socket closed")}function c(m){n&&m.name!==n.name&&o()}const p=()=>{n.removeListener("open",s),n.removeListener("error",i),n.removeListener("close",l),this.off("close",a),this.off("upgrading",c)};n.once("open",s),n.once("error",i),n.once("close",l),this.once("close",a),this.once("upgrading",c),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",wr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+=b0(r)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){wr.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const s=t.length;for(;r<s;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};wm.protocol=pm;function W0(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=ru(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const K0=typeof ArrayBuffer=="function",Q0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,xm=Object.prototype.toString,G0=typeof Blob=="function"||typeof Blob<"u"&&xm.call(Blob)==="[object BlobConstructor]",Y0=typeof File=="function"||typeof File<"u"&&xm.call(File)==="[object FileConstructor]";function uc(e){return K0&&(e instanceof ArrayBuffer||Q0(e))||G0&&e instanceof Blob||Y0&&e instanceof File}function ti(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(ti(e[n]))return!0;return!1}if(uc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ti(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ti(e[n]))return!0;return!1}function X0(e){const t=[],n=e.data,r=e;return r.data=su(n,t),r.attachments=t.length,{packet:r,buffers:t}}function su(e,t){if(!e)return e;if(uc(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=su(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=su(e[r],t));return n}return e}function J0(e,t){return e.data=ou(e.data,t),delete e.attachments,e}function ou(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ou(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ou(e[n],t));return e}const Z0=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ew=5;var ce;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ce||(ce={}));class tw{constructor(t){this.replacer=t}encode(t){return(t.type===ce.EVENT||t.type===ce.ACK)&&ti(t)?this.encodeAsBinary({type:t.type===ce.EVENT?ce.BINARY_EVENT:ce.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ce.BINARY_EVENT||t.type===ce.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=X0(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Ef(e){return Object.prototype.toString.call(e)==="[object Object]"}class cc extends Fe{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===ce.BINARY_EVENT;r||n.type===ce.BINARY_ACK?(n.type=r?ce.EVENT:ce.ACK,this.reconstructor=new nw(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(uc(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(ce[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ce.BINARY_EVENT||r.type===ce.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(o,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(i)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const o=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(cc.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ce.CONNECT:return Ef(n);case ce.DISCONNECT:return n===void 0;case ce.CONNECT_ERROR:return typeof n=="string"||Ef(n);case ce.EVENT:case ce.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Z0.indexOf(n[0])===-1);case ce.ACK:case ce.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class nw{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=J0(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const rw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cc,Encoder:tw,get PacketType(){return ce},protocol:ew},Symbol.toStringTag,{value:"Module"}));function Ft(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const sw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _m extends Fe{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ft(t,"open",this.onopen.bind(this)),Ft(t,"packet",this.onpacket.bind(this)),Ft(t,"error",this.onerror.bind(this)),Ft(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(sw.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:ce.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,i=n.pop();this._registerAckCallback(o,i),r.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===t&&this.sendBuffer.splice(i,1);n.call(this,new Error("operation has timed out"))},s);this.acks[t]=(...i)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...i])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,o)=>{n.push((i,l)=>r?i?o(i):s(l):s(i)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...o)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ce.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ce.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ce.EVENT:case ce.BINARY_EVENT:this.onevent(t);break;case ce.ACK:case ce.BINARY_ACK:this.onack(t);break;case ce.DISCONNECT:this.ondisconnect();break;case ce.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:ce.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ce.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Xr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Xr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Xr.prototype.reset=function(){this.attempts=0};Xr.prototype.setMin=function(e){this.ms=e};Xr.prototype.setMax=function(e){this.max=e};Xr.prototype.setJitter=function(e){this.jitter=e};class iu extends Fe{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Wi(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Xr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||rw;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new wm(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Ft(n,"open",function(){r.onopen(),t&&t()}),o=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},i=Ft(n,"error",o);if(this._timeout!==!1){const l=this._timeout,a=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),n.close()},l);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ft(t,"ping",this.onping.bind(this)),Ft(t,"data",this.ondata.bind(this)),Ft(t,"error",this.onerror.bind(this)),Ft(t,"close",this.onclose.bind(this)),Ft(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){lc(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new _m(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const fs={};function ni(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=W0(e,t.path||"/socket.io"),r=n.source,s=n.id,o=n.path,i=fs[s]&&o in fs[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let a;return l?a=new iu(r,t):(fs[s]||(fs[s]=new iu(r,t)),a=fs[s]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(ni,{Manager:iu,Socket:_m,io:ni,connect:ni});class ow{constructor(t,n,r,s){Qn(this,"socket_port"),Qn(this,"host"),Qn(this,"port"),Qn(this,"protocol"),Qn(this,"url"),Qn(this,"site_name"),Qn(this,"socket");var o,i,l,a;if(this.socket_port=r??"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(i=window.location)!=null&&i.port?`:${this.socket_port}`:"",this.protocol=((l=window.location)==null?void 0:l.protocol)==="https:"?"https":"http",t){let c=new URL(t);c.port="",r?(c.port=r,this.url=c.toString()):this.url=c.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=ni(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:s&&s.useToken===!0?{Authorization:`${s.type} ${(a=s.token)==null?void 0:a.call(s)}`}:{}})}}const dc=O.createContext(null),iw=({url:e="",tokenParams:t,socketPort:n,swrConfig:r,siteName:s,enableSocket:o=!0,children:i,customHeaders:l})=>{const a=O.useMemo(()=>{const c=new Dv.FrappeApp(e,t,void 0,l);return{url:e,tokenParams:t,app:c,auth:c.auth(),db:c.db(),call:c.call(),file:c.file(),socket:o?new ow(e,s,n,t).socket:void 0,enableSocket:o,socketPort:n}},[e,t,n,o,l]);return u.jsx(dc.Provider,{value:a,children:u.jsx(h0,{value:r,children:i})})};function aw(e){const t=[];for(let n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}const Ki=(e,t,n,r,s="GET")=>{const{call:o}=O.useContext(dc),i=aw(t??{}),l=`${e}?${i}`;return{...m0(n===void 0?l:n,s==="GET"?()=>o.get(e,t):()=>o.post(e,t),r)}},lw=e=>{const{call:t}=O.useContext(dc),[n,r]=O.useState(null),[s,o]=O.useState(!1),[i,l]=O.useState(null),[a,c]=O.useState(!1),p=O.useCallback(()=>{r(null),o(!1),l(null),c(!1)},[]);return{call:O.useCallback(async m=>(l(null),c(!1),o(!0),r(null),t.post(e,m).then(y=>(r(y),o(!1),c(!0),y)).catch(y=>{throw o(!1),c(!1),l(y),y})),[]),result:n,loading:s,error:i,reset:p,isCompleted:a}},uw=localStorage.getItem("imogi_debug")==="true"||new URLSearchParams(window.location.search).get("debug")==="true";function zn(e,t,n=null){const r=`[imogi][${e}]`;n!=null?console.log(r,t,n):console.log(r,t)}function _t(e,t,n=null){if(!uw)return;const r=`[imogi][${e}] `;n!=null?console.log(r,t,n):console.log(r,t)}function Ut(e,t,n=null){const r=`[imogi][${e}] `;n?n instanceof Error?console.error(r,t,{message:n.message,stack:n.stack,httpStatus:n.httpStatus,responseText:n.responseText}):console.error(r,t,n):console.error(r,t)}function cw(e,t,n=null){const r=`[imogi][${e}] `;n!=null?console.warn(r,t,n):console.warn(r,t)}function Sm(e,t,n=null){const r=`[imogi][${e}] `;n!=null?console.log(r,t,n):console.log(r,t)}const jf=["imogi_debug","imogi_debug_logs"];function fc(e){return e.startsWith("imogi_")?e:`imogi_${e}`}function Js(e){return e?sessionStorage:localStorage}function dw(e){if(!e||!e.ttl||!e.timestamp)return!1;const t=Date.now(),n=e.timestamp+e.ttl*1e3;return t>n}function km(e,t=!1){const n=fc(e),r=Js(t);try{const s=r.getItem(n);if(!s)return _t("storage",`Get: ${n} (not found)`),null;let o;try{o=JSON.parse(s)}catch{return _t("storage",`Get: ${n} (raw value)`),s}return o&&typeof o=="object"&&o.hasOwnProperty("value")?dw(o)?(_t("storage",`Get: ${n} (expired, removing)`),r.removeItem(n),null):(_t("storage",`Get: ${n} (TTL: ${o.ttl||"none"})`),o.value):(_t("storage",`Get: ${n}`),o)}catch(s){return Ut("storage",`Failed to get ${n}`,s),null}}function fw(e,t,n=null,r=!1){const s=fc(e),o=Js(r);try{let i;n!==null&&n>0?(i={value:t,ttl:n,timestamp:Date.now()},zn("storage",`Set: ${s} (TTL: ${n}s)`)):(i=t,zn("storage",`Set: ${s}`)),o.setItem(s,JSON.stringify(i))}catch(i){Ut("storage",`Failed to set ${s}`,i)}}function pw(e,t=!1){const n=fc(e),r=Js(t);try{r.removeItem(n),zn("storage",`Remove: ${n}`)}catch(s){Ut("storage",`Failed to remove ${n}`,s)}}function hw(e=!1){const t=Js(e),n=e?"sessionStorage":"localStorage";try{const s=Object.keys(t).filter(o=>o.startsWith("imogi_"));zn("storage",`Clearing all imogi_* keys from ${n} (${s.length} keys)`),s.forEach(o=>{t.removeItem(o),_t("storage",`Removed: ${o}`)}),Sm("storage",`Cleared ${s.length} keys from ${n}`)}catch(r){Ut("storage",`Failed to clear ${n}`,r)}}function mw(){zn("storage","Clearing non-persistent keys on logout...");try{sessionStorage.clear(),_t("storage","Cleared all sessionStorage");const t=Object.keys(localStorage).filter(r=>r.startsWith("imogi_"));let n=0;t.forEach(r=>{jf.includes(r)?_t("storage",`Kept persistent: ${r}`):(localStorage.removeItem(r),_t("storage",`Removed: ${r}`),n++)}),Sm("storage",`Logout cleanup complete (${n} keys cleared, ${jf.length} kept)`)}catch(e){Ut("storage","Failed to clear on logout",e)}}function gw(e,t=!1){return km(e,t)!==null}function yw(e=!1){const t=Js(e);try{return Object.keys(t).filter(s=>s.startsWith("imogi_")).map(s=>s.replace("imogi_",""))}catch(n){return Ut("storage","Failed to get all keys",n),[]}}function vw(){try{const e={localStorage:{},sessionStorage:{}};return Object.keys(localStorage).forEach(t=>{if(t.startsWith("imogi_"))try{e.localStorage[t]=JSON.parse(localStorage.getItem(t))}catch{e.localStorage[t]=localStorage.getItem(t)}}),Object.keys(sessionStorage).forEach(t=>{if(t.startsWith("imogi_"))try{e.sessionStorage[t]=JSON.parse(sessionStorage.getItem(t))}catch{e.sessionStorage[t]=sessionStorage.getItem(t)}}),zn("storage","Exported all storage data",e),e}catch(e){return Ut("storage","Failed to export storage",e),null}}const Dr={getItem:km,setItem:fw,removeItem:pw,clearAll:hw,clearOnLogout:mw,hasItem:gw,getAllKeys:yw,exportAll:vw},Nf="operational_context_cache",bf=e=>Array.isArray(e)?e:[];function Cm(e={}){const{autoResolve:t=!0}=e,[n,r]=O.useState(()=>Dr.getItem(Nf)||null),[s,o]=O.useState(()=>{const _=window.__IMOGI_SERVER_CONTEXT_STATE__||{};return{ready:!!_.ready,loading:!!_.loading,error:_.error||null}}),{data:i,isLoading:l,error:a,mutate:c}=Ki("imogi_pos.utils.operational_context.get_operational_context",void 0,void 0,{revalidateOnFocus:!1,revalidateOnReconnect:!0,shouldRetryOnError:!1}),{call:p}=lw("imogi_pos.utils.operational_context.set_operational_context");O.useEffect(()=>{var K,B;if(!i)return;const S=((K=i.active_context)==null?void 0:K.pos_profile)?i.active_context:{pos_profile:i.current_pos_profile,branch:i.current_branch},b={pos_profile:S.pos_profile||null,branch:S.branch||null,available_pos_profiles:bf(i.available_pos_profiles),branches:bf(i.branches),require_selection:i.require_selection||!1,has_access:i.has_access!==!1,role_class:i.role_class||null,is_privileged:i.is_privileged||!1,context_required:i.context_required!==!1};r(b),S.pos_profile&&Dr.setItem(Nf,S);const A=(B=i.active_context)==null?void 0:B.pos_profile,L=i.current_pos_profile;t&&(L&&(!A||A!==L))&&(console.log("[OperationalContext] Auto-setting context on server:",{resolved:L,serverHas:A||"none"}),p({pos_profile:i.current_pos_profile,branch:i.current_branch||null}).catch(re=>{console.warn("[OperationalContext] Failed to auto-set context on server:",re)}))},[i,t,p]),O.useEffect(()=>{const _=S=>{S!=null&&S.detail&&o({ready:!!S.detail.ready,loading:!!S.detail.loading,error:S.detail.error||null})};return window.addEventListener("imogiServerContextUpdated",_),()=>window.removeEventListener("imogiServerContextUpdated",_)},[]);const m=O.useCallback(async _=>{if(!_||!_.pos_profile)throw new Error("pos_profile is required when setting context");try{const S=await p({pos_profile:_.pos_profile,branch:_.branch||null});if(S!=null&&S.success){const b=S.context||_;return r({pos_profile:b.pos_profile,branch:b.branch,...n}),Dr.setItem("operational_context_cache",b),window.dispatchEvent(new CustomEvent("operationalContextChanged",{detail:b})),c(),{success:!0,context:b}}throw new Error((S==null?void 0:S.message)||"Failed to set operational context")}catch(S){throw console.error("Error setting operational context:",S),S}},[p,n,c]),y=O.useCallback(async(_={})=>{if(typeof window.ensureOperationalContext!="function")throw new Error("ensureOperationalContext is not available");return window.ensureOperationalContext({pos_profile:_.pos_profile||(n==null?void 0:n.pos_profile)||null,branch:_.branch||(n==null?void 0:n.branch)||null,route:_.route,module:_.module,force:_.force===!0})},[n]),v=O.useCallback((_={})=>{const{redirect:S=!0,allowOptional:b=!1}=_;if(!n){if(S)return window.location.href="/app/imogi-module-select",null;throw new Error("Operational context required but not set")}if(n.context_required&&!n.pos_profile){if(n.require_selection){if(S)return window.location.href="/app/imogi-module-select",null;throw new Error("POS Profile selection required")}if(!n.has_access)throw new Error("No POS Profiles configured for your account");if(S)return window.location.href="/app/imogi-module-select",null;throw new Error("Operational context required")}return b&&n.is_privileged&&!n.pos_profile,n},[n]),k=O.useCallback(()=>!!(n&&n.pos_profile),[n]),C=O.useCallback(()=>(n==null?void 0:n.pos_profile)||null,[n]),F=O.useCallback(()=>(n==null?void 0:n.branch)||null,[n]),g=O.useCallback(()=>(n==null?void 0:n.require_selection)||!1,[n]),w=O.useCallback(()=>(n==null?void 0:n.is_privileged)||!1,[n]);return{context:n||{},pos_profile:(n==null?void 0:n.pos_profile)||null,branch:(n==null?void 0:n.branch)||null,available_profiles:(n==null?void 0:n.available_pos_profiles)||[],branches:(n==null?void 0:n.branches)||[],role_class:(n==null?void 0:n.role_class)||null,hasContext:k(),needsSelection:g(),isPrivileged:w(),contextRequired:(n==null?void 0:n.context_required)!==!1,hasAccess:(n==null?void 0:n.has_access)!==!1,serverContextReady:s.ready,serverContextLoading:s.loading,serverContextError:s.error,isLoading:l,error:a,setContext:m,ensureServerContext:y,requireContext:v,refetch:c,getPOSProfile:C,getBranch:F}}const Em=O.createContext(null);function ww(){const e=O.useContext(Em);if(!e)throw new Error("useImogiPOS must be used within ImogiPOSProvider");return e}function pc({children:e,initialState:t={}}){const n=window.location.origin;return u.jsx(iw,{url:n,tokenParams:{useToken:!1,type:"Bearer"},children:u.jsx(xw,{initialState:t,children:e})})}function xw({children:e,initialState:t={}}){const{pos_profile:n,branch:r,available_profiles:s,isLoading:o,setContext:i}=Cm(),l=O.useMemo(()=>n&&s.find(p=>p.name===n)||null,[s,n]),a={...t,pos_profile:n||t.pos_profile,branch:r||t.branch,domain:(l==null?void 0:l.pos_domain)||t.domain,mode:(l==null?void 0:l.mode)||t.mode,company:(l==null?void 0:l.company)||t.company},c={posProfile:a.pos_profile,branch:a.branch,domain:a.domain,mode:a.mode,company:a.company,availableProfiles:s,setProfile:async p=>i({pos_profile:p}),isProfileLoading:o,profileData:l,initialState:a};return u.jsx(Em.Provider,{value:c,children:e})}function _w({onReload:e,onBackToLogin:t}){const[n,r]=O.useState(30);return O.useEffect(()=>{if(n<=0){e();return}const s=setTimeout(()=>{r(n-1)},1e3);return()=>clearTimeout(s)},[n,e]),u.jsx("div",{className:"session-expired-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"session-expired-title",children:u.jsxs("div",{className:"session-expired-modal",children:[u.jsx("div",{className:"session-expired-icon",children:u.jsx("i",{className:"fa fa-exclamation-triangle"})}),u.jsx("h2",{id:"session-expired-title",className:"session-expired-title",children:"Session Expired"}),u.jsx("p",{className:"session-expired-message",children:"Your login session has expired. Please log in again to continue."}),u.jsxs("div",{className:"session-expired-details",children:[u.jsxs("div",{className:"session-expired-detail-item",children:[u.jsx("i",{className:"fa fa-info-circle"}),u.jsx("span",{children:"This can happen after being inactive for a while"})]}),u.jsxs("div",{className:"session-expired-detail-item",children:[u.jsx("i",{className:"fa fa-shield-alt"}),u.jsx("span",{children:"Your data is safe and will be restored after login"})]})]}),u.jsxs("div",{className:"session-expired-actions",children:[u.jsxs("button",{className:"btn btn-primary btn-session-reload",onClick:e,children:[u.jsx("i",{className:"fa fa-sync-alt"}),"Reload & Login"]}),u.jsxs("button",{className:"btn btn-secondary btn-session-login",onClick:t,children:[u.jsx("i",{className:"fa fa-sign-in-alt"}),"Back to Login"]})]}),u.jsxs("div",{className:"session-expired-countdown",children:["Auto-reloading in ",n," seconds..."]}),u.jsx("div",{className:"session-expired-help",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Need help?"})," Contact your system administrator if this keeps happening."]})})]})})}function Sw({children:e}){const[t,n]=O.useState(!1);O.useEffect(()=>{const o=i=>{console.error("[SessionExpired] Session expired event received:",i.detail),n(!0)};return window.addEventListener("imogi-session-expired",o),window.frappe&&window.frappe.session&&window.frappe.session.user==="Guest"&&(console.error("[SessionExpired] Already logged out (Guest user)"),n(!0)),()=>{window.removeEventListener("imogi-session-expired",o)}},[]);const r=()=>{console.log("[SessionExpired] Reloading page..."),window.location.reload()},s=()=>{console.log("[SessionExpired] Redirecting to login..."),window.location.pathname.startsWith("/app/"),window.location.href="/login"};return t?u.jsxs(u.Fragment,{children:[e,u.jsx(_w,{onReload:r,onBackToLogin:s})]}):u.jsx(u.Fragment,{children:e})}const ps="/app/imogi-module-select";function kw(e={}){const{requiresOpening:t=!1,autoRedirect:n=!0,targetModule:r=null}=e,{pos_profile:s,branch:o,available_profiles:i,needsSelection:l,contextRequired:a,hasAccess:c,isLoading:p,error:m,refetch:y,serverContextReady:v,serverContextLoading:k,serverContextError:C,ensureServerContext:F}=Cm(),[g,w]=O.useState(!1),[_,S]=O.useState("loading"),[b,A]=O.useState(0),[L,R]=O.useState(0),[K,B]=O.useState(!1),re=3,Y=2,J=300,ee=500,P=!!(s&&o&&v),Z=!!(t&&P),{data:U,isLoading:I,error:q,mutate:X}=Ki("imogi_pos.api.module_select.get_active_pos_opening",void 0,Z?void 0:!1,{revalidateOnFocus:!1,revalidateOnReconnect:!1,shouldRetryOnError:!1,errorRetryCount:0});O.useEffect(()=>{if(!t){S("ok");return}if(!Z||I||k){(_!=="missing"||K)&&S("loading");return}if(C){S("error");return}if(q||U!=null&&U.error_code){S("error");return}if(!U||!U.pos_opening_entry){S("missing");return}S("ok")},[t,Z,I,q,U,k,C,_,K]),O.useEffect(()=>{!I&&K&&B(!1)},[I,K]),O.useEffect(()=>{if(!Z||_!=="error"||!X)return;const le=(q==null?void 0:q.message)||(U==null?void 0:U.error_message)||"";if(!(le.includes("Context Required")||le.includes("Operational context")||(U==null?void 0:U.error_code)==="missing_pos_profile")||L>=Y)return;const Re=setTimeout(()=>{R(He=>He+1),B(!0),X()},ee);return()=>clearTimeout(Re)},[Z,_,q,U,L,X]),O.useEffect(()=>{const le=(U==null?void 0:U.pos_opening_entry)||null;_==="ok"&&le&&console.info("[POSProfileGuard] openingFound=",le),_!=="ok"&&console.info("[POSProfileGuard] status=",_,{reason:(q==null?void 0:q.message)||(U==null?void 0:U.error_message)||null})},[_,q,U]),O.useEffect(()=>{_==="ok"&&L>0&&R(0)},[_,L]),O.useEffect(()=>{if(!(p||k||t&&I)){if(C){w(!1);return}if(!v){w(!1);return}if(a&&!s&&i.length===0&&!c){if(w(!1),n){const le=r?`${ps}?reason=missing_pos_profile&target=${r}`:ps;window.location.href=le}return}if(a&&!s&&i.length>0&&l){if(w(!1),b<re){const le=setTimeout(()=>{A(Me=>Me+1),y&&y()},J);return()=>clearTimeout(le)}if(w(!1),n){const le=r?`${ps}?reason=missing_pos_profile&target=${r}`:ps;window.location.href=le}return}if(s&&b>0&&A(0),t&&s){if(!P){w(!1);return}if(_==="error"){w(!1);return}if(_==="missing"){w(!1);return}}w(!0)}},[s,o,i,p,k,C,v,t,U,q,I,_,n,l,a,c,b,y,r]);const te=O.useCallback(()=>{F&&F({force:!0}).catch(()=>{})},[F]),fe=O.useMemo(()=>s&&i.find(le=>le.name===s)||null,[i,s]);return O.useEffect(()=>{const le=()=>{X&&X()};return window.addEventListener("posSessionOpened",le),()=>window.removeEventListener("posSessionOpened",le)},[X]),{isLoading:p||k||t&&I,guardPassed:g,error:m,serverContextReady:v,serverContextError:C,retryServerContext:te,openingStatus:_,openingError:q,retryOpening:X,posProfile:s,profileData:fe,branch:o||null,posOpening:U||null,hasOpening:!!(U&&U.pos_opening_entry),redirectToModuleSelect:()=>{window.location.href=ps}}}let Of=!1;async function ve(e,t={},n={}){const{freeze:r=!1,silent:s=!1,retry:o=2,timeout:i=3e4,onSessionExpired:l=null}=n;if(Nw())throw Ut("api","Session already expired (Guest user detected)"),Ya(l),new Error("Session expired. Please log in again.");zn("api",`Calling ${e}`,t);try{let a;window.frappe&&typeof window.frappe.call=="function"?a=await Cw(e,t,{freeze:r,timeout:i}):a=await Ew(e,t,{timeout:i});const c=jw(a);if(bw(c))throw Ut("api","Login page detected in response"),Ya(l),new Error("Session expired. Please log in again.");return zn("api",`Success: ${e}`,c),c}catch(a){if(Ut("api",`Error calling ${e}`,{method:e,args:t,error:a.message,stack:a.stack,httpStatus:a.httpStatus,responseText:a.responseText,exc:a.exc}),jm(a))throw Ut("api",`Authentication error detected: ${a.httpStatus}`,{exc:a.exc,exception:a.exception}),Ya(l),new Error("Session expired. Please log in again.");if(Ow(a)&&o>0)return cw("api",`Retrying ${e} (${o} attempts left)`),await Aw(1e3),ve(e,t,{...n,retry:o-1});throw s||Rw(a),a}}function Cw(e,t,n){const{freeze:r,timeout:s}=n;return new Promise((o,i)=>{const l=setTimeout(()=>{i(new Error(`Request timeout after ${s}ms`))},s);window.frappe.call({method:e,args:t,freeze:r,callback:a=>{clearTimeout(l),o(a)},error:a=>{clearTimeout(l);const c=new Error(a.exception||a.message||"API call failed");c.httpStatus=a.httpStatus||a.responseJSON&&a.responseJSON.httpStatus,c.responseText=a.responseText,c._frappe_error=a,i(c)}})})}async function Ew(e,t,n){const{timeout:r}=n,s=Tw();if(!s)throw new Error("CSRF token not found. Session may have expired.");const o=new AbortController,i=setTimeout(()=>o.abort(),r);try{const l=await fetch(`/api/method/${e}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":s},credentials:"include",body:JSON.stringify(t),signal:o.signal});if(clearTimeout(i),!l.ok){const c=new Error(`HTTP ${l.status}: ${l.statusText}`);throw c.httpStatus=l.status,c.responseText=await l.text().catch(()=>""),c}const a=await l.json();return{message:a.message,exc:a.exc,exception:a.exception,_exc_source:a._exc_source}}catch(l){throw clearTimeout(i),l.name==="AbortError"?new Error(`Request timeout after ${r}ms`):l}}function jw(e){if(e&&typeof e=="object"){if(e.exc||e.exception){const t=new Error(e.exception||"API returned an exception");throw t.exc=e.exc,t.exception=e.exception,t._exc_source=e._exc_source,t}return e.message}return e}function Nw(){return window.frappe&&window.frappe.session?window.frappe.session.user==="Guest":!1}function bw(e){return typeof e=="string"?e.includes("<!DOCTYPE html>")&&(e.includes("login")||e.includes("Login")):!1}function jm(e){const t=e.httpStatus;if(t===401||t===403)return _t("api",`Auth error detected: ${t}`),!0;if(t===417){const n=e.exc||e.exception||"",s=["SessionExpired","AuthenticationError","PermissionError","Unauthorized","Forbidden"].some(o=>n.includes(o));return s?_t("api",`417 is auth error: ${n}`):_t("api",`417 is NOT auth error (validation/business logic): ${n}`),s}return!1}function Ow(e){return jm(e)?!1:!!(e.message&&(e.message.includes("timeout")||e.message.includes("network")||e.message.includes("Failed to fetch")))}function Tw(){if(window.frappe&&window.frappe.csrf_token)return window.frappe.csrf_token;if(window.FRAPPE_CSRF_TOKEN)return window.FRAPPE_CSRF_TOKEN;const e=document.cookie.split(";");for(let t of e){const[n,r]=t.trim().split("=");if(n==="csrf_token")return r}return null}function Ya(e){if(!Of){if(Of=!0,console.error("[imogi-api] Session expired - showing UI"),typeof e=="function"){e();return}window.dispatchEvent(new CustomEvent("imogi-session-expired",{detail:{message:"Your session has expired. Please log in again."}}))}}function Rw(e){const t=Pw(e);if(window.frappe&&window.frappe.msgprint){window.frappe.msgprint({title:"Error",indicator:"red",message:t});return}alert(`Error: ${t}`)}function Pw(e){return e.exception?e.exception:e.message?e.message:"An unexpected error occurred"}function Aw(e){return new Promise(t=>setTimeout(t,e))}function Lw({requiresOpening:e=!0,allowUrlParam:t=!0,autoRefreshMs:n=3e4}={}){const[r,s]=O.useState(null),[o,i]=O.useState("loading"),[l,a]=O.useState(null),[c,p]=O.useState(!1),[m,y]=O.useState(null),v=O.useRef(r);O.useEffect(()=>{v.current=r},[r]),O.useEffect(()=>{(async()=>{try{if(!t){await C();return}const _=new URLSearchParams(window.location.search).get("opening_entry");_?await k(_):await C()}catch(w){console.error("[useEffectiveOpening] Initialization failed:",w),i("error"),a(w.message||"Failed to initialize opening")}})()},[t]);const k=O.useCallback(async g=>{var w;try{i("loading");const _=(w=window.__IMOGI_CASHIER_CONTEXT)==null?void 0:w.pos_profile;if(!_)throw new Error("POS Profile not available in context");console.log("[useEffectiveOpening] Validating URL opening:",g);const S=await ve("imogi_pos.api.module_select.validate_opening_session",{opening_entry:g,pos_profile:_});if(!(S!=null&&S.valid)){i("error"),a((S==null?void 0:S.error)||"Invalid opening entry");return}s(S.opening||{name:g}),p(!0),i("valid"),a(null),y(new Date),console.log("[useEffectiveOpening] URL opening validated:",g)}catch(_){console.error("[useEffectiveOpening] URL opening validation failed:",_),i("error"),a(_.message||"Failed to validate opening")}},[]),C=O.useCallback(async()=>{try{i("loading");const g=await ve("imogi_pos.api.cashier.get_active_opening");if(!(g!=null&&g.has_opening)){if(e){i("missing"),a("No active POS Opening. Please create one to proceed.");return}i("valid"),a(null);return}const w=g.opening,_=(w==null?void 0:w.name)||(w==null?void 0:w.pos_opening_entry);if(!w||!_){i("missing"),a("Invalid opening data returned from server"),console.error("[useEffectiveOpening] has_opening=true but opening is null:",g);return}const S={...w,name:_};s(S),p(!1),i("valid"),a(null),y(new Date)}catch(g){console.error("[useEffectiveOpening] Failed to load active opening:",g),i("error"),a(g.message||"Failed to load active opening")}},[e]),F=O.useCallback(async()=>{var w,_;const g=v.current;if(!(g!=null&&g.name)){console.warn("[useEffectiveOpening] No opening to revalidate");return}try{i("loading");const S=await ve("imogi_pos.api.cashier.get_active_opening");if(!(S!=null&&S.has_opening)){i("mismatch"),a(`Opening ${g.name} is no longer active. Please reload to proceed.`),console.warn("[useEffectiveOpening] Opening no longer active:",g.name);return}const b=((w=S.opening)==null?void 0:w.name)||((_=S.opening)==null?void 0:_.pos_opening_entry);if(!b){i("error"),a("Invalid opening data from server"),console.error("[useEffectiveOpening] has_opening=true but opening.name is null:",S);return}if(c&&b!==g.name){i("mismatch"),a(`Your opening (${g.name}) differs from current active opening (${b}). Please reload page to switch openings.`),console.warn("[useEffectiveOpening] Opening mismatch:",{urlOpening:g.name,activeOpening:b});return}if(!c&&b!==g.name){const A={...S.opening,name:b};s(A)}i("valid"),a(null),y(new Date)}catch(S){console.error("[useEffectiveOpening] Re-validation failed:",S),i("error"),a(S.message||"Re-validation failed")}},[c]);return O.useEffect(()=>(window.__effectiveOpeningMountCount||(window.__effectiveOpeningMountCount=0),window.__effectiveOpeningMountCount++,()=>{}),[]),O.useEffect(()=>{if(o!=="valid"||!n)return;const g=setInterval(()=>{F()},n);return()=>clearInterval(g)},[o,n]),{opening:r,effectiveOpeningName:(r==null?void 0:r.name)||null,status:o,error:l,isValid:o==="valid",isMissing:o==="missing",isLoading:o==="loading",isMismatch:o==="mismatch",isError:o==="error",isUrlOpening:c,lastValidatedAt:m,revalidate:F}}function Xa(e,t=null,n=null){const r=e!=null;let s=null,o=null;r&&(s={pos_profile:e},t&&(s.branch=t),n&&(s.order_type=n),o=`order-history-${e}-${n||"all"}`);const i=Ki("imogi_pos.api.billing.list_orders_for_cashier",s,o,{revalidateOnFocus:!1,refreshInterval:r?3e4:0}),[l,a]=O.useState(0),c=3,p=400;return O.useEffect(()=>{var k,C,F,g;if(!r||!(i!=null&&i.error)||l>=c)return;const m=((k=i.error)==null?void 0:k.message)||((g=(F=(C=i.error)==null?void 0:C.response)==null?void 0:F.data)==null?void 0:g.message)||"";if(!(m.includes("Context Required")||m.includes("Operational context"))||!i.mutate)return;const v=setTimeout(()=>{a(w=>w+1),i.mutate()},p*(l+1));return()=>clearTimeout(v)},[r,i,l]),O.useEffect(()=>{i!=null&&i.data&&l>0&&a(0)},[i==null?void 0:i.data,l]),i}function Iw(e=null,t=null){return Ki("imogi_pos.api.cashier.get_payment_methods",{pos_profile:e,branch:t},`payment-methods-${e||"all"}`,{revalidateOnFocus:!1,refreshInterval:6e4})}function Wr({message:e="Loading..."}){return u.jsxs("div",{className:"imogi-loading",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:e})]})}function Oi({error:e,onRetry:t}){return u.jsxs("div",{className:"imogi-error",children:[u.jsx("h3",{children:" Error"}),u.jsx("p",{children:(e==null?void 0:e.message)||String(e)}),t&&u.jsx("button",{onClick:t,className:"btn-retry",children:"Retry"})]})}const au="operational_context_cache";let Kt=null,Tf=0;const Fw=60*1e3;async function Rf(){var n,r;if(console.log("[OperationalContext] Resolving context..."),Kt){if(Ja(Kt))return console.log("[OperationalContext] Using in-memory context:",Kt.pos_profile),Kt;console.warn("[OperationalContext] In-memory context invalid, clearing"),Kt=null}const e=Dr.getItem(au);if(e&&Ja(e))return console.log("[OperationalContext] Using cached context:",e.pos_profile),Kt=e,e;e&&(console.warn("[OperationalContext] Cached context invalid, clearing"),Dr.removeItem(au));const t=Date.now();if(t-Tf<Fw&&Kt){const s=Kt;if(Ja(s))return console.log("[OperationalContext] Using recent fetch:",s.pos_profile),s}try{console.log("[OperationalContext] Fetching from server...");const s=await ve("imogi_pos.utils.operational_context.get_operational_context",{});if(Tf=t,(n=s.active_context)!=null&&n.pos_profile){const o={pos_profile:s.active_context.pos_profile,branch:s.active_context.branch};return console.log("[OperationalContext] Server has active context:",o.pos_profile),Pf(o),Kt=o,o}if(s.current_pos_profile&&s.current_branch){const o={pos_profile:s.current_pos_profile,branch:s.current_branch};return console.log("[OperationalContext] Auto-resolved by server:",o.pos_profile,"method:",s.selection_method),await Mw(o),Pf(o),Kt=o,o}throw s.has_access?s.require_selection?new Error("CONTEXT_SELECTION_REQUIRED: Multiple POS Profiles available. Please select one from module selection page."):new Error("CONTEXT_UNAVAILABLE: POS Profile required but could not be resolved."):new Error("CONTEXT_NO_ACCESS: No POS Profiles configured for your account. Contact administrator.")}catch(s){throw console.error("[OperationalContext] Resolution failed:",s),(r=s.message)!=null&&r.startsWith("CONTEXT_")?s:new Error(`CONTEXT_ERROR: Failed to resolve operational context: ${s.message||"Unknown error"}`)}}async function Mw(e){try{await ve("imogi_pos.utils.operational_context.set_operational_context",{pos_profile:e.pos_profile,branch:e.branch}),console.log("[OperationalContext] Context persisted to server session")}catch(t){console.error("[OperationalContext] Failed to persist to server:",t)}}function Ja(e){return e!==null&&typeof e=="object"&&typeof e.pos_profile=="string"&&e.pos_profile.length>0&&typeof e.branch=="string"&&e.branch.length>0}function Pf(e){const t={pos_profile:e.pos_profile,branch:e.branch,timestamp:new Date().toISOString()};Dr.setItem(au,t),console.log("[OperationalContext] Saved to cache:",e.pos_profile)}function Dw({orders:e=[],selectedOrder:t,onSelectOrder:n,onClaimOrder:r,claimedOrders:s={},posMode:o,isMultiSession:i=!1}){const[l,a]=O.useState(""),[c,p]=O.useState("All"),[m,y]=O.useState(null),[v,k]=O.useState(null),[C,F]=O.useState(!1),g={Counter:{label:"Counter",icon:"fa-cash-register",color:"#ff9800"},Table:{label:"Table/Waiter",icon:"fa-utensils",color:"#2196f3"}},w=o||"Counter",_=g[w]||g.Counter,S=_.label,b=_.icon,A=w==="Table",L=e.filter(P=>{var Z,U,I;if(C&&!P.request_payment||A&&c!=="All"&&P.status!==c)return!1;if(l){const q=l.toLowerCase();return((Z=P.name)==null?void 0:Z.toLowerCase().includes(q))||((U=P.table_name)==null?void 0:U.toLowerCase().includes(q))||((I=P.customer)==null?void 0:I.toLowerCase().includes(q))}return!0}),R=P=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(P||0),K=P=>P?new Date(P).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"",B=async(P,Z)=>{if(P.stopPropagation(),!r){console.warn("[OrderListSidebar] onClaimOrder handler not provided");return}y(Z.name),k(null);try{await r(Z),y(null)}catch(U){console.error("[OrderListSidebar] Error claiming order:",U),k(U.message||"Failed to claim order"),y(null)}},re=()=>{var P;return((P=frappe==null?void 0:frappe.session)==null?void 0:P.user)||"unknown"},Y=P=>P.claimed_by&&P.claimed_by!=="",J=P=>P.claimed_by===re(),ee=P=>Y(P)&&!J(P);return u.jsxs("div",{className:"cashier-sidebar",children:[u.jsxs("div",{className:"filter-bar",children:[u.jsxs("div",{className:"mode-indicator",children:[u.jsx("i",{className:`fa ${b}`}),u.jsxs("span",{children:[S," Mode"]})]}),u.jsxs("div",{className:"search-container",children:[u.jsx("input",{type:"text",placeholder:"Search orders...",className:"search-input",value:l,onChange:P=>a(P.target.value)}),u.jsx("button",{className:"search-button",children:u.jsx("i",{className:"fa fa-search"})})]}),A&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"filter-buttons",children:["Ready","Served","All"].map(P=>u.jsx("button",{className:`filter-button ${c===P?"active":""}`,onClick:()=>p(P),children:P},P))}),u.jsx("div",{className:"requested-bills-toggle",children:u.jsxs("button",{className:`filter-button ${C?"active":""}`,onClick:()=>F(!C),children:[u.jsx("i",{className:"fa fa-receipt"}),"Requested Bills Only",C&&` (${L.length})`]})})]})]}),u.jsx("div",{className:"order-list",children:L.length===0?u.jsxs("div",{className:"empty-state-sidebar",children:[u.jsx("i",{className:"fa fa-inbox"}),u.jsx("p",{children:"No orders found"})]}):L.map(P=>{var q;const Z=Y(P),U=J(P),I=ee(P);return u.jsxs("div",{className:`order-card ${(t==null?void 0:t.name)===P.name?"active":""} ${I?"order-claimed-other":""}`,onClick:()=>!I&&n(P),title:I?`Claimed by ${P.claimed_by}`:"",children:[u.jsxs("div",{className:"order-card-header",children:[u.jsx("span",{className:"order-card-number",children:P.name}),u.jsxs("div",{className:"order-card-badges",children:[P.request_payment&&!P.paid_at&&u.jsxs("span",{className:"order-card-badge badge-bill-requested",children:[u.jsx("i",{className:"fa fa-receipt"}),"Bill Requested"]}),i&&Z&&u.jsxs("span",{className:`order-card-badge ${U?"badge-claimed-by-me":"badge-claimed-by-other"}`,children:[u.jsx("i",{className:`fa ${U?"fa-check-circle":"fa-lock"}`}),U?"Claimed":"Locked"]}),P.request_payment&&!Z&&u.jsxs("button",{className:"order-card-claim-btn btn-claim-primary",onClick:X=>B(X,P),disabled:m===P.name,title:"Claim order for payment",children:[u.jsx("i",{className:`fa ${m===P.name?"fa-spinner fa-spin":"fa-hand-holding-usd"}`}),"Claim for Payment"]}),i&&!Z&&!P.request_payment&&u.jsxs("button",{className:"order-card-claim-btn",onClick:X=>B(X,P),disabled:m===P.name,title:"Claim this order for processing",children:[u.jsx("i",{className:`fa ${m===P.name?"fa-spinner fa-spin":"fa-lock-open"}`}),"Claim"]}),P.order_type==="Self Order"&&u.jsxs("span",{className:"order-card-badge badge-self-order",children:[u.jsx("i",{className:"fa fa-mobile-alt"}),"Self Order"]}),P.order_type==="Kiosk"&&u.jsxs("span",{className:"order-card-badge badge-kiosk",children:[u.jsx("i",{className:"fa fa-desktop"}),"Kiosk"]}),P.order_type==="Dine In"&&P.table_name&&u.jsxs("span",{className:"order-card-badge badge-table",children:[u.jsx("i",{className:"fa fa-utensils"}),P.table_name]}),P.order_type==="Counter"&&u.jsxs("span",{className:"order-card-badge badge-counter",children:[u.jsx("i",{className:"fa fa-cash-register"}),"Counter"]})]})]}),u.jsxs("div",{className:"order-card-info",children:[u.jsxs("span",{children:[((q=P.items)==null?void 0:q.length)||0," items"]}),u.jsx("span",{className:"order-card-time",children:K(P.creation)})]}),P.items&&P.items.length>0&&u.jsxs("div",{className:"order-card-items",children:[P.items.slice(0,2).map((X,te)=>u.jsxs("div",{children:[X.qty,"x ",X.item_name]},te)),P.items.length>2&&u.jsxs("div",{className:"order-card-more",children:["+",P.items.length-2," more items"]})]}),u.jsxs("div",{className:"order-card-total",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:R(P.grand_total)})]})]},P.name)})})]})}function Uw({order:e,posMode:t}){var l;if(!e)return u.jsxs("div",{className:"empty-state",children:[u.jsx("i",{className:"fa fa-receipt empty-icon"}),u.jsx("h3",{children:"No Order Selected"}),u.jsx("p",{children:"Select an order from the list or create a new one"})]});const n=t||"Counter",r=n==="Table",s=n==="Counter",o=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a||0),i=a=>a?new Date(a).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return u.jsxs("div",{className:"order-details",children:[u.jsx("div",{className:"order-details-header",children:u.jsxs("div",{children:[u.jsx("h3",{children:e.name}),u.jsxs("div",{className:"order-meta",children:[r&&e.table_name&&u.jsxs("span",{className:"order-meta-item",children:[u.jsx("i",{className:"fa fa-utensils"}),"Table: ",e.table_name]}),s&&u.jsxs("span",{className:"order-meta-item",children:[u.jsx("i",{className:"fa fa-cash-register"}),"Counter Order"]}),u.jsxs("span",{className:"order-meta-item",children:[u.jsx("i",{className:"fa fa-clock"}),i(e.creation)]}),u.jsx("span",{className:`order-status-badge status-${(l=e.status)==null?void 0:l.toLowerCase()}`,children:e.status})]})]})}),u.jsxs("div",{className:"order-details-body",children:[e.customer&&u.jsx("div",{className:"customer-section",children:u.jsxs("div",{className:"customer-info",children:[u.jsxs("div",{className:"customer-name",children:[u.jsx("i",{className:"fa fa-user"}),e.customer]}),e.customer_phone&&u.jsxs("div",{className:"customer-phone",children:[u.jsx("i",{className:"fa fa-phone"}),e.customer_phone]})]})}),u.jsxs("div",{className:"order-items-section",children:[u.jsx("h4",{children:"Order Items"}),e.items&&e.items.length>0?u.jsx("div",{className:"order-items-list",children:e.items.map((a,c)=>{const p=a.has_variants===1||a.has_variants===!0;return u.jsxs("div",{className:`order-item ${p?"template-item":""}`,children:[u.jsxs("div",{className:"order-item-name",children:[a.item_name,p&&u.jsxs("span",{className:"template-badge",children:[u.jsx("i",{className:"fa fa-list"})," Template"]})]}),u.jsx("div",{className:"order-item-qty",children:a.qty}),u.jsx("div",{className:"order-item-price",children:o(a.rate)}),u.jsx("div",{className:"order-item-total",children:o(a.amount)}),p&&u.jsx("div",{className:"order-item-actions",children:u.jsxs("button",{className:"select-variant-btn",onClick:()=>window.dispatchEvent(new CustomEvent("selectVariant",{detail:{itemRow:a.name,itemCode:a.item_code}})),children:[u.jsx("i",{className:"fa fa-edit"})," Select Variant"]})}),a.notes&&u.jsxs("div",{className:"order-item-notes",children:[u.jsx("i",{className:"fa fa-comment"})," ",a.notes]})]},c)})}):u.jsx("div",{className:"no-items",children:"No items in this order"})]}),u.jsxs("div",{className:"order-totals",children:[u.jsxs("div",{className:"total-row",children:[u.jsx("span",{children:"Subtotal"}),u.jsx("span",{children:o(e.net_total||e.total)})]}),e.total_taxes_and_charges>0&&u.jsxs("div",{className:"total-row",children:[u.jsx("span",{children:"Tax"}),u.jsx("span",{children:o(e.total_taxes_and_charges)})]}),e.discount_amount>0&&u.jsxs("div",{className:"total-row",children:[u.jsx("span",{children:"Discount"}),u.jsxs("span",{children:["-",o(e.discount_amount)]})]}),u.jsxs("div",{className:"total-row grand-total",children:[u.jsx("span",{children:"Grand Total"}),u.jsx("span",{children:o(e.grand_total)})]})]})]})]})}function zw({posMode:e,onModeChange:t,posProfile:n,branch:r,posOpening:s,branding:o,profileData:i,printerStatus:l,onSearchScan:a}){var g,w;const[c,p]=O.useState(!1),[m,y]=O.useState(""),v=(s==null?void 0:s.pos_opening_entry)||(s==null?void 0:s.name),k=((w=(g=s==null?void 0:s.balance_details)==null?void 0:g[0])==null?void 0:w.opening_amount)??(s==null?void 0:s.opening_balance)??0,C=_=>{_.preventDefault(),m.trim()&&(a==null||a(m.trim()),y(""))},F=()=>l!=null&&l.checking?u.jsx("i",{className:"fa fa-spinner fa-spin"}):l!=null&&l.connected?u.jsx("i",{className:"fa fa-check-circle",style:{color:"#10b981"}}):u.jsx("i",{className:"fa fa-exclamation-triangle",style:{color:"#f59e0b"}});return u.jsx("header",{className:"cashier-header",children:u.jsxs("div",{className:"header-container",children:[u.jsxs("div",{className:"header-left",children:[(o==null?void 0:o.logo)&&u.jsx("div",{className:"branding-logo",children:u.jsx("img",{src:o.logo,alt:o.company_name||"Logo"})}),u.jsxs("div",{className:"pos-context",children:[u.jsxs("div",{className:"pos-context-item",children:[u.jsx("i",{className:"fa fa-building"}),u.jsx("span",{children:(r==null?void 0:r.name)||r||"N/A"})]}),u.jsxs("div",{className:"pos-context-item",children:[u.jsx("i",{className:"fa fa-cash-register"}),u.jsx("span",{children:(n==null?void 0:n.name)||n||"N/A"})]})]}),u.jsx("button",{className:"info-button",onClick:()=>p(!c),title:"POS Information","aria-label":"Show POS Information",children:u.jsx("i",{className:"fa fa-info-circle"})}),c&&u.jsxs("div",{className:"pos-info-popup",children:[u.jsxs("div",{className:"pos-info-header",children:[u.jsx("strong",{children:"POS Information"}),u.jsx("button",{onClick:()=>p(!1),className:"close-btn","aria-label":"Close",children:u.jsx("i",{className:"fa fa-times"})})]}),u.jsxs("div",{className:"pos-info-body",children:[u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"POS Profile:"}),u.jsx("span",{className:"info-value",children:(n==null?void 0:n.name)||n||"N/A"})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"Branch:"}),u.jsx("span",{className:"info-value",children:(r==null?void 0:r.name)||r||"N/A"})]}),s&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"Opening Entry:"}),u.jsx("span",{className:"info-value",children:v})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"Opening Balance:"}),u.jsx("span",{className:"info-value",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(k)})]})]}),(o==null?void 0:o.company_name)&&u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"Company:"}),u.jsx("span",{className:"info-value",children:o.company_name})]}),u.jsx("div",{className:"info-section-header",children:"Channels"}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"Self Order:"}),u.jsx("span",{className:"info-value",children:(i==null?void 0:i.imogi_enable_self_order)===1?u.jsx("span",{style:{color:"#10b981"},children:" Enabled"}):u.jsx("span",{style:{color:"#6b7280"},children:" Disabled"})})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"Kiosk:"}),u.jsx("span",{className:"info-value",children:(i==null?void 0:i.imogi_enable_kiosk)===1?u.jsx("span",{style:{color:"#10b981"},children:" Enabled"}):u.jsx("span",{style:{color:"#6b7280"},children:" Disabled"})})]})]})]})]}),u.jsx("div",{className:"header-center",children:u.jsxs("div",{className:"segmented-control",children:[u.jsxs("button",{className:`segment ${e==="Counter"?"active":""}`,onClick:()=>t==null?void 0:t("Counter"),style:{"--active-color":(o==null?void 0:o.primary_color)||"#ff9800"},children:[u.jsx("i",{className:"fa fa-cash-register"}),u.jsx("span",{children:"Counter"})]}),u.jsxs("button",{className:`segment ${e==="Table"?"active":""}`,onClick:()=>t==null?void 0:t("Table"),style:{"--active-color":(o==null?void 0:o.primary_color)||"#2196f3"},children:[u.jsx("i",{className:"fa fa-utensils"}),u.jsx("span",{children:"Dine In"})]})]})}),u.jsxs("div",{className:"header-right",children:[u.jsxs("button",{className:"header-action-btn",onClick:()=>window.dispatchEvent(new CustomEvent("showShiftSummary")),title:"Ringkasan Shift","aria-label":"Show Shift Summary",children:[u.jsx("i",{className:"fa fa-chart-bar"}),u.jsx("span",{className:"action-label",children:"Ringkasan"})]}),u.jsxs("button",{className:"header-action-btn close-shift-btn",onClick:()=>window.dispatchEvent(new CustomEvent("closeShift")),title:"Tutup Shift","aria-label":"Close Shift",children:[u.jsx("i",{className:"fa fa-door-closed"}),u.jsx("span",{className:"action-label",children:"Tutup Shift"})]}),u.jsxs("form",{className:"search-scan-form",onSubmit:C,children:[u.jsx("input",{type:"text",placeholder:"Scan or search...",className:"search-scan-input",value:m,onChange:_=>y(_.target.value)}),u.jsx("button",{type:"submit",className:"search-scan-button","aria-label":"Search",children:u.jsx("i",{className:"fa fa-search"})})]}),u.jsx("div",{className:"printer-status",title:l!=null&&l.connected?"Printer Ready":"Printer Not Connected",children:F()})]})]})})}function Bw({selectedOrder:e,viewMode:t,onViewChange:n,onNewOrder:r,onPrintBill:s,onSplitBill:o,onRequestPayment:i,onHoldOrder:l,onClearOrder:a,posMode:c,selectedTable:p,creatingOrder:m,isCustomerDisplayOpen:y,onOpenCustomerDisplay:v,onCloseCustomerDisplay:k}){const[C,F]=O.useState(!1),g=!!e,w=c==="Counter",_=c==="Table",b=m?{label:"Creating...",icon:"fa-spinner fa-spin",disabled:!0,onClick:null}:_&&!p?{label:"Select Table",icon:"fa-chair",disabled:!1,onClick:r}:g&&t==="catalog"?{label:"Charge",icon:"fa-credit-card",disabled:!1,onClick:i,accent:!0}:{label:w?"New Order":"New Table",icon:"fa-plus",disabled:!1,onClick:r},A=[{label:"Hold Order",icon:"fa-pause",onClick:l,disabled:!g,show:!0},{label:"Clear Order",icon:"fa-trash",onClick:a,disabled:!g,show:!0,danger:!0}];return u.jsx("div",{className:"cashier-action-bar",children:u.jsxs("div",{className:"action-bar-container",children:[u.jsxs("div",{className:"view-controls-mobile",children:[u.jsxs("button",{className:`view-tab ${t==="orders"?"active":""}`,onClick:()=>n("orders"),"aria-label":"View Orders",children:[u.jsx("i",{className:"fa fa-list"}),u.jsx("span",{className:"view-tab-label",children:"Orders"})]}),u.jsxs("button",{className:`view-tab ${t==="catalog"?"active":""}`,onClick:()=>n("catalog"),disabled:!g,"aria-label":"View Catalog",children:[u.jsx("i",{className:"fa fa-shopping-cart"}),u.jsx("span",{className:"view-tab-label",children:"Catalog"})]})]}),u.jsxs("div",{className:"quick-actions",children:[u.jsx("button",{className:"action-btn icon-btn",onClick:s,disabled:!g,title:"Print Bill","aria-label":"Print Bill",children:u.jsx("i",{className:"fa fa-print"})}),u.jsx("button",{className:"action-btn icon-btn",onClick:o,disabled:!g,title:"Split Bill","aria-label":"Split Bill",children:u.jsx("i",{className:"fa fa-cut"})}),u.jsx("button",{className:`action-btn icon-btn ${y?"active":""}`,onClick:y?k:v,title:y?"Close Customer Display":"Open Customer Display","aria-label":"Customer Display",children:u.jsx("i",{className:`fa ${y?"fa-eye-slash":"fa-desktop"}`})}),u.jsxs("div",{className:"more-actions-container",children:[u.jsx("button",{className:"action-btn icon-btn more-btn",onClick:()=>F(!C),title:"More Actions","aria-label":"More Actions",children:u.jsx("i",{className:"fa fa-ellipsis-v"})}),C&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"more-actions-overlay",onClick:()=>F(!1)}),u.jsx("div",{className:"more-actions-menu",children:A.filter(L=>L.show).map((L,R)=>u.jsxs("button",{className:`more-action-item ${L.danger?"danger":""}`,onClick:()=>{var K;(K=L.onClick)==null||K.call(L),F(!1)},disabled:L.disabled,children:[u.jsx("i",{className:`fa ${L.icon}`}),u.jsx("span",{children:L.label})]},R))})]})]})]}),u.jsxs("button",{className:`action-btn primary-cta ${b.accent?"accent":""}`,onClick:b.onClick,disabled:b.disabled,children:[u.jsx("i",{className:`fa ${b.icon}`}),u.jsx("span",{children:b.label})]})]})})}function $w({order:e,onClose:t,onPaymentComplete:n,posProfile:r,effectiveOpeningName:s,revalidateOpening:o}){const[i,l]=O.useState(null),[a,c]=O.useState(""),[p,m]=O.useState(!1),[y,v]=O.useState(!1),[k,C]=O.useState(null),{data:F,isLoading:g}=Iw(r),w=(F==null?void 0:F.payment_methods)||[],_=Y=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Y||0),S=Y=>{C(null),l(Y),Y.mode_of_payment==="Cash"?m(!0):b(Y)},b=async Y=>{v(!0),C(null);try{await L(Y.mode_of_payment,e.grand_total,e.grand_total)}catch(J){console.error("[Payment] Non-cash payment error:",J),C(J.message||"Payment processing failed")}finally{v(!1)}},A=async()=>{const Y=parseFloat(a),J=(e==null?void 0:e.grand_total)||0;if(Y<J){C("Insufficient cash amount");return}v(!0),C(null);try{await L("Cash",Y,J),m(!1)}catch(ee){console.error("[Payment] Cash payment error:",ee),C(ee.message||"Payment processing failed")}finally{v(!1)}},L=async(Y,J,ee)=>{var q;if(o){console.log("[Payment] Re-validating opening before payment...");try{if(await o(),!s)throw console.error("[Payment] Opening validation failed"),new Error("Opening validation failed. Please reload.")}catch(X){throw console.error("[Payment] Opening revalidation error:",X),new Error("Opening validation failed. Please reload.")}}console.log("[Payment] Checking POS opening...");const P=await ve("imogi_pos.api.cashier.get_active_opening");if(!(P!=null&&P.has_opening))throw console.error("[Payment] No active POS Opening:",P),new Error("Tidak ada POS Opening aktif. Silakan buka POS terlebih dulu.");console.log("[Payment] Active opening found:",(q=P.opening)==null?void 0:q.name),console.log("[Payment] Creating invoice from order:",e.name);const Z=await ve("imogi_pos.api.cashier.create_invoice_from_order",{order_name:e.name,customer:e.customer,customer_name:e.customer_name});if(!(Z!=null&&Z.success))throw console.error("[Payment] Create invoice failed:",Z),new Error((Z==null?void 0:Z.error)||"Failed to create invoice");console.log("[Payment] Invoice created:",Z.invoice),console.log("[Payment] Processing payment for invoice:",Z.invoice);const U=await ve("imogi_pos.api.cashier.process_payment",{invoice_name:Z.invoice,payments:[{mode_of_payment:Y,amount:J}],cash_received:Y==="Cash"?J:ee});if(!(U!=null&&U.success))throw console.error("[Payment] Process payment failed:",U),new Error((U==null?void 0:U.error)||"Failed to process payment");console.log("[Payment] Payment successful:",U),console.log("[Payment] Completing order:",e.name);const I=await ve("imogi_pos.api.cashier.complete_order",{order_name:e.name});I!=null&&I.success||console.warn("[Payment] Complete order warning:",I),n&&n({method:Y,amount:J,change:U.change_amount||(Y==="Cash"?J-ee:0),invoice:Z.invoice,session:Z.session})},R=Y=>{c(J=>J+Y)},K=()=>{c("")},B=Y=>{c(Y.toString())},re=()=>{const Y=parseFloat(a)||0,J=(e==null?void 0:e.grand_total)||0;return Y-J};return e?u.jsxs("div",{className:"payment-panel",children:[u.jsxs("div",{className:"payment-container",children:[u.jsxs("div",{className:"payment-header",children:[u.jsx("h3",{children:"Payment Request"}),u.jsx("button",{onClick:t,className:"btn-close",disabled:y,children:u.jsx("i",{className:"fa fa-times"})})]}),k&&u.jsxs("div",{className:"payment-error",style:{padding:"12px",margin:"12px 16px",backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"4px",color:"#c33"},children:[u.jsx("i",{className:"fa fa-exclamation-triangle",style:{marginRight:"8px"}}),k]}),u.jsxs("div",{className:"payment-content",children:[u.jsxs("div",{className:"payment-info",children:[u.jsxs("div",{className:"payment-info-row",children:[u.jsx("div",{className:"payment-info-label",children:"Order Number"}),u.jsx("div",{className:"payment-info-value",children:e.name})]}),u.jsxs("div",{className:"payment-info-row",children:[u.jsx("div",{className:"payment-info-label",children:"Total Amount"}),u.jsx("div",{className:"payment-info-value grand-total",children:_(e.grand_total)})]}),e.table_name&&u.jsxs("div",{className:"payment-info-row",children:[u.jsx("div",{className:"payment-info-label",children:"Table"}),u.jsx("div",{className:"payment-info-value",children:e.table_name})]})]}),u.jsxs("div",{className:"payment-actions",children:[u.jsx("h4",{style:{margin:"16px 0 12px",fontSize:"14px",color:"#666"},children:"Select Payment Method"}),g?u.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:[u.jsx("i",{className:"fa fa-spinner fa-spin"})," Loading payment methods..."]}):w.length===0?u.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:"No payment methods configured in POS Profile"}):u.jsx("div",{className:"payment-method-buttons",children:w.map(Y=>u.jsxs("button",{className:"payment-method-button",onClick:()=>S(Y),disabled:y,children:[u.jsx("i",{className:`fa ${Y.mode_of_payment==="Cash"?"fa-money-bill":Y.mode_of_payment==="Card"?"fa-credit-card":Y.mode_of_payment==="Bank Transfer"?"fa-university":"fa-wallet"}`}),Y.mode_of_payment]},Y.mode_of_payment))})]})]})]}),p&&u.jsx("div",{className:"modal-overlay",onClick:()=>!y&&m(!1),children:u.jsxs("div",{className:"modal-content",onClick:Y=>Y.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:"Cash Payment"}),u.jsx("button",{className:"modal-close",onClick:()=>{m(!1),C(null)},disabled:y,children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"payment-amount-display",children:[u.jsx("div",{className:"amount-label",children:"Total Amount"}),u.jsx("div",{className:"amount-value",children:_(e.grand_total)})]}),u.jsxs("div",{className:"cash-payment-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Cash Received"}),u.jsx("input",{type:"text",className:"payment-amount-input",value:a,onChange:Y=>c(Y.target.value.replace(/[^0-9]/g,"")),placeholder:"0",disabled:y})]}),u.jsx("div",{className:"quick-amounts",children:[5e4,1e5,2e5,5e5].map(Y=>u.jsx("button",{className:"quick-amount-btn",onClick:()=>B(Y),disabled:y,children:_(Y)},Y))}),u.jsx("div",{className:"payment-keypad",children:[1,2,3,4,5,6,7,8,9,"000",0,"C"].map(Y=>u.jsx("button",{className:`keypad-btn ${Y==="C"?"clear":""}`,onClick:()=>Y==="C"?K():R(Y.toString()),disabled:y,children:Y},Y))}),a&&u.jsxs("div",{className:"change-display",children:[u.jsx("div",{className:"change-label",children:"Change"}),u.jsx("div",{className:`change-value ${re()<0?"insufficient":""}`,children:_(re())})]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"btn-secondary",onClick:()=>{m(!1),C(null)},disabled:y,children:"Cancel"}),u.jsx("button",{className:"btn-primary",onClick:A,disabled:!a||re()<0||y,children:y?u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa fa-spinner fa-spin",style:{marginRight:"8px"}}),"Processing..."]}):"Confirm Payment"})]})]})})]}):null}function hc({title:e,message:t,actions:n=[],error:r=null}){return u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"max-w-md w-full mx-4 bg-white rounded-lg shadow-lg border border-gray-200 p-8",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 text-center mb-2",children:e}),u.jsx("p",{className:"text-gray-600 text-center mb-6",children:t}),r&&u.jsx("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded text-sm",children:u.jsx("div",{className:"font-mono text-red-800 break-words",children:typeof r=="string"?r:r.message||JSON.stringify(r)})}),n.length>0&&u.jsx("div",{className:"space-y-3",children:n.map((s,o)=>{const i=o===0;return u.jsx("a",{href:s.href,className:`
                    block w-full py-3 px-4 rounded-md text-center font-medium
                    transition-colors duration-200
                    ${i?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                  `,onClick:s.onClick,children:s.label},o)})}),u.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:u.jsx("p",{className:"text-xs text-gray-500 text-center",children:" Tip: Buka browser console (F12) untuk lihat error details"})})]})})}function Vw({posProfile:e,posOpening:t,onClose:n}){const[r,s]=O.useState(!0),[o,i]=O.useState(null),[l,a]=O.useState(null),[c,p]=O.useState(!0),[m,y]=O.useState(!1);O.useEffect(()=>{v()},[]);const v=async()=>{try{p(!0);const S=await ve("imogi_pos.api.cashier.get_active_opening");if(!(S!=null&&S.success)||!(S!=null&&S.has_opening)){console.error("[ShiftSummary] No active opening found"),y(!1),p(!1);return}y(!0),p(!1),s(!0);const b=await ve("imogi_pos.api.cashier.get_opening_summary");if(!(b!=null&&b.success))throw new Error((b==null?void 0:b.error)||"Failed to load summary");a(b),i(null)}catch(S){console.error("[ShiftSummary] Load failed:",S),i(S.message||"Failed to load shift summary")}finally{s(!1)}},k=S=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(S||0),C=()=>{v()},F=()=>{window.print()};if(c)return u.jsx(Wr,{message:"Checking POS opening..."});if(!m)return u.jsx(hc,{title:"Tidak ada POS Opening aktif",message:"Silakan buat POS Opening Entry lalu klik Open POS untuk memulai shift.",actions:[{label:"Buat POS Opening Entry",href:`/app/pos-opening-entry/new-pos-opening-entry-1?pos_profile=${encodeURIComponent(e||"")}`},{label:"Kembali",onClick:n}]});if(r)return u.jsx(Wr,{message:"Loading shift summary..."});if(o)return u.jsx(Oi,{error:o,onRetry:C});const g=(l==null?void 0:l.totals_by_mode)||[],w=(l==null?void 0:l.grand_total)||0,_=(l==null?void 0:l.opening)||(t==null?void 0:t.name)||"N/A";return u.jsxs("div",{className:"shift-summary-view",children:[u.jsxs("div",{className:"summary-header",children:[u.jsxs("div",{className:"summary-title",children:[u.jsx("h2",{children:"Ringkasan Shift"}),u.jsxs("p",{className:"summary-subtitle",children:["Opening: ",_]})]}),u.jsxs("div",{className:"summary-actions",children:[u.jsxs("button",{onClick:C,className:"btn-secondary",children:[u.jsx("i",{className:"fa fa-sync"})," Refresh"]}),u.jsxs("button",{onClick:F,className:"btn-secondary",children:[u.jsx("i",{className:"fa fa-print"})," Print"]}),u.jsxs("button",{onClick:n,className:"btn-secondary",children:[u.jsx("i",{className:"fa fa-times"})," Tutup"]})]})]}),u.jsx("div",{className:"summary-content",children:g.length===0?u.jsxs("div",{className:"empty-summary",children:[u.jsx("i",{className:"fa fa-inbox fa-3x"}),u.jsx("p",{children:"Belum ada pembayaran pada shift ini"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"summary-table",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Metode Pembayaran"}),u.jsx("th",{className:"text-center",children:"Jumlah Transaksi"}),u.jsx("th",{className:"text-right",children:"Total"})]})}),u.jsx("tbody",{children:g.map((S,b)=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("strong",{children:S.mode_of_payment})}),u.jsx("td",{className:"text-center",children:S.invoice_count}),u.jsx("td",{className:"text-right",children:k(S.total)})]},b))}),u.jsx("tfoot",{children:u.jsxs("tr",{className:"grand-total-row",children:[u.jsx("td",{children:u.jsx("strong",{children:"Total Keseluruhan"})}),u.jsx("td",{className:"text-center",children:u.jsx("strong",{children:g.reduce((S,b)=>S+(b.invoice_count||0),0)})}),u.jsx("td",{className:"text-right",children:u.jsx("strong",{children:k(w)})})]})})]})}),u.jsxs("div",{className:"summary-chart",children:[u.jsx("h3",{children:"Distribusi Pembayaran"}),u.jsx("div",{className:"chart-bars",children:g.map((S,b)=>{const A=w>0?S.total/w*100:0;return u.jsxs("div",{className:"chart-bar-item",children:[u.jsxs("div",{className:"chart-bar-label",children:[u.jsx("span",{children:S.mode_of_payment}),u.jsxs("span",{children:[A.toFixed(1),"%"]})]}),u.jsx("div",{className:"chart-bar-track",children:u.jsx("div",{className:"chart-bar-fill",style:{width:`${A}%`}})}),u.jsx("div",{className:"chart-bar-amount",children:k(S.total)})]},b)})})]})]})}),u.jsx("style",{jsx:!0,children:`
        .shift-summary-view {
          padding: 1.5rem;
          max-width: 1200px;
          margin: 0 auto;
        }

        .summary-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
          padding-bottom: 1rem;
          border-bottom: 2px solid #e5e7eb;
        }

        .summary-title h2 {
          margin: 0;
          font-size: 1.75rem;
          color: #111827;
        }

        .summary-subtitle {
          margin: 0.25rem 0 0 0;
          color: #6b7280;
          font-size: 0.875rem;
        }

        .summary-actions {
          display: flex;
          gap: 0.75rem;
        }

        .btn-secondary {
          padding: 0.5rem 1rem;
          background: white;
          border: 1px solid #d1d5db;
          border-radius: 0.375rem;
          cursor: pointer;
          font-size: 0.875rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          transition: all 0.2s;
        }

        .btn-secondary:hover {
          background: #f9fafb;
          border-color: #9ca3af;
        }

        .empty-summary {
          text-align: center;
          padding: 4rem 2rem;
          color: #6b7280;
        }

        .empty-summary i {
          color: #d1d5db;
          margin-bottom: 1rem;
        }

        .summary-table {
          background: white;
          border-radius: 0.5rem;
          box-shadow: 0 1px 3px rgba(0,0,0,0.1);
          overflow: hidden;
          margin-bottom: 2rem;
        }

        .summary-table table {
          width: 100%;
          border-collapse: collapse;
        }

        .summary-table th {
          background: #f9fafb;
          padding: 0.75rem 1rem;
          text-align: left;
          font-weight: 600;
          color: #374151;
          font-size: 0.875rem;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .summary-table td {
          padding: 1rem;
          border-top: 1px solid #e5e7eb;
        }

        .text-center {
          text-align: center;
        }

        .text-right {
          text-align: right;
        }

        .grand-total-row {
          background: #f9fafb;
          font-size: 1.125rem;
        }

        .grand-total-row td {
          padding: 1.25rem 1rem;
          border-top: 2px solid #d1d5db;
        }

        .summary-chart {
          background: white;
          padding: 1.5rem;
          border-radius: 0.5rem;
          box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .summary-chart h3 {
          margin: 0 0 1.5rem 0;
          font-size: 1.125rem;
          color: #111827;
        }

        .chart-bars {
          display: flex;
          flex-direction: column;
          gap: 1.25rem;
        }

        .chart-bar-item {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }

        .chart-bar-label {
          display: flex;
          justify-content: space-between;
          font-size: 0.875rem;
          font-weight: 500;
          color: #374151;
        }

        .chart-bar-track {
          height: 2rem;
          background: #f3f4f6;
          border-radius: 0.375rem;
          overflow: hidden;
        }

        .chart-bar-fill {
          height: 100%;
          background: linear-gradient(90deg, #3b82f6, #2563eb);
          transition: width 0.5s ease;
        }

        .chart-bar-amount {
          font-size: 0.875rem;
          color: #6b7280;
          text-align: right;
        }

        @media print {
          .summary-actions {
            display: none;
          }
          
          .summary-chart {
            page-break-before: always;
          }
        }
      `})]})}function Hw({posProfile:e,posOpening:t,onClose:n,onShiftClosed:r,effectiveOpeningName:s,revalidateOpening:o}){const[i,l]=O.useState(!0),[a,c]=O.useState(null),[p,m]=O.useState(!0),[y,v]=O.useState(!1),[k,C]=O.useState(null),[F,g]=O.useState({}),[w,_]=O.useState(!1),[S,b]=O.useState(null);O.useEffect(()=>{A()},[]);const A=async()=>{var J;try{if(m(!0),o){console.log("[CloseShift] Re-validating opening...");try{if(await o(),!s){console.error("[CloseShift] Opening validation failed"),v(!1),m(!1);return}}catch(U){console.error("[CloseShift] Opening revalidation error:",U),v(!1),m(!1);return}}const ee=await ve("imogi_pos.api.cashier.get_active_opening");if(!(ee!=null&&ee.success)||!(ee!=null&&ee.has_opening)){console.error("[CloseShift] No active opening found"),v(!1),m(!1);return}v(!0),m(!1),l(!0);const P=await ve("imogi_pos.api.cashier.get_opening_summary");if(!(P!=null&&P.success))throw new Error((P==null?void 0:P.error)||"Failed to load summary");C(P);const Z={};(J=P.totals_by_mode)==null||J.forEach(U=>{Z[U.mode_of_payment]=U.total||0}),g(Z),c(null)}catch(ee){console.error("[CloseShift] Load failed:",ee),c(ee.message||"Failed to load shift data")}finally{l(!1)}},L=(J,ee)=>{g(P=>({...P,[J]:parseFloat(ee)||0}))},R=async()=>{try{_(!0),c(null);const J=Object.entries(F).map(([Z,U])=>({mode_of_payment:Z,closing_amount:U})),ee=(k==null?void 0:k.opening)||(t==null?void 0:t.name);if(!ee)throw new Error("Opening name not found");const P=await ve("imogi_pos.api.cashier.close_pos_opening",{opening_name:ee,counted_balances:J});if(!(P!=null&&P.success))throw new Error((P==null?void 0:P.error)||"Failed to close shift");b(P),r&&r(P)}catch(J){console.error("[CloseShift] Submit failed:",J),c(J.message||"Failed to close shift")}finally{_(!1)}},K=()=>{window.print()},B=J=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(J||0);if(p)return u.jsx(Wr,{message:"Checking POS opening..."});if(!y)return u.jsx(hc,{title:"Tidak ada POS Opening aktif",message:"Buat POS Opening Entry dulu dari ERPNext (POS  POS Opening Entry  Open POS). Setelah itu refresh halaman ini.",actions:[{label:"Open POS Opening Entry",href:"/app/pos-opening-entry"},{label:"Refresh",onClick:()=>window.location.reload()},{label:"Kembali",onClick:n}]});if(i)return u.jsx(Wr,{message:"Loading shift data..."});if(a&&!S)return u.jsx(Oi,{error:a,onRetry:A});if(S){const J=S.reconciliation_summary||[],ee=J.reduce((P,Z)=>P+(Z.difference||0),0);return u.jsxs("div",{className:"close-shift-result",children:[u.jsxs("div",{className:"result-header",children:[u.jsx("div",{className:"success-icon",children:u.jsx("i",{className:"fa fa-check-circle"})}),u.jsx("h2",{children:"Shift Ditutup"}),u.jsxs("p",{className:"result-subtitle",children:["Closing: ",S.closing]}),u.jsxs("p",{className:"result-subtitle",children:["Opening: ",S.opening]})]}),u.jsxs("div",{className:"reconciliation-table",children:[u.jsx("h3",{children:"Rekonsiliasi"}),u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Metode Pembayaran"}),u.jsx("th",{className:"text-right",children:"Expected"}),u.jsx("th",{className:"text-right",children:"Counted"}),u.jsx("th",{className:"text-right",children:"Selisih"})]})}),u.jsx("tbody",{children:J.map((P,Z)=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("strong",{children:P.mode_of_payment})}),u.jsx("td",{className:"text-right",children:B(P.expected)}),u.jsx("td",{className:"text-right",children:B(P.counted)}),u.jsx("td",{className:`text-right ${P.difference>0?"surplus":P.difference<0?"shortage":""}`,children:B(P.difference)})]},Z))}),u.jsx("tfoot",{children:u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("strong",{children:"Total Selisih"})}),u.jsx("td",{}),u.jsx("td",{}),u.jsx("td",{className:`text-right ${ee>0?"surplus":ee<0?"shortage":""}`,children:u.jsx("strong",{children:B(ee)})})]})})]})]}),u.jsxs("div",{className:"result-actions",children:[u.jsxs("button",{onClick:K,className:"btn-secondary",children:[u.jsx("i",{className:"fa fa-print"})," Print Closing"]}),u.jsxs("button",{onClick:n,className:"btn-primary",children:[u.jsx("i",{className:"fa fa-arrow-left"})," Back to Orders"]})]}),u.jsx("style",{jsx:!0,children:`
          .close-shift-result {
            padding: 2rem;
            max-width: 900px;
            margin: 0 auto;
          }

          .result-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid #e5e7eb;
          }

          .success-icon {
            margin-bottom: 1rem;
          }

          .success-icon i {
            font-size: 4rem;
            color: #10b981;
          }

          .result-header h2 {
            margin: 0.5rem 0;
            font-size: 1.75rem;
            color: #111827;
          }

          .result-subtitle {
            margin: 0.25rem 0;
            color: #6b7280;
            font-size: 0.875rem;
          }

          .reconciliation-table {
            background: white;
            padding: 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
          }

          .reconciliation-table h3 {
            margin: 0 0 1rem 0;
            font-size: 1.125rem;
            color: #111827;
          }

          .reconciliation-table table {
            width: 100%;
            border-collapse: collapse;
          }

          .reconciliation-table th {
            background: #f9fafb;
            padding: 0.75rem;
            text-align: left;
            font-weight: 600;
            color: #374151;
            font-size: 0.875rem;
            text-transform: uppercase;
            border-bottom: 2px solid #e5e7eb;
          }

          .reconciliation-table td {
            padding: 1rem 0.75rem;
            border-bottom: 1px solid #e5e7eb;
          }

          .text-right {
            text-align: right;
          }

          .surplus {
            color: #10b981;
            font-weight: 600;
          }

          .shortage {
            color: #ef4444;
            font-weight: 600;
          }

          .reconciliation-table tfoot td {
            padding: 1rem 0.75rem;
            border-top: 2px solid #d1d5db;
            font-size: 1.125rem;
          }

          .result-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
          }

          .btn-secondary,
          .btn-primary {
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border: none;
          }

          .btn-secondary {
            background: white;
            color: #374151;
            border: 1px solid #d1d5db;
          }

          .btn-secondary:hover {
            background: #f9fafb;
          }

          .btn-primary {
            background: #3b82f6;
            color: white;
          }

          .btn-primary:hover {
            background: #2563eb;
          }

          @media print {
            .result-actions {
              display: none;
            }
          }
        `})]})}const re=(k==null?void 0:k.totals_by_mode)||[],Y=(k==null?void 0:k.opening)||(t==null?void 0:t.name);return u.jsxs("div",{className:"close-shift-view",children:[u.jsxs("div",{className:"close-header",children:[u.jsx("h2",{children:"Tutup Shift"}),u.jsxs("p",{className:"close-subtitle",children:["Opening: ",Y]})]}),a&&u.jsxs("div",{className:"error-banner",children:[u.jsx("i",{className:"fa fa-exclamation-triangle"}),u.jsx("span",{children:a})]}),u.jsxs("div",{className:"close-content",children:[u.jsxs("div",{className:"instructions",children:[u.jsx("i",{className:"fa fa-info-circle"}),u.jsx("p",{children:"Masukkan jumlah uang yang dihitung untuk setiap metode pembayaran. Sistem akan menghitung selisih antara expected dan counted."})]}),u.jsx("div",{className:"balance-form",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Metode Pembayaran"}),u.jsx("th",{className:"text-right",children:"Expected"}),u.jsx("th",{className:"text-right",children:"Counted"}),u.jsx("th",{className:"text-right",children:"Selisih"})]})}),u.jsx("tbody",{children:re.map((J,ee)=>{const P=J.total||0,Z=F[J.mode_of_payment]||0,U=Z-P;return u.jsxs("tr",{children:[u.jsxs("td",{children:[u.jsx("strong",{children:J.mode_of_payment}),u.jsxs("div",{className:"invoice-count",children:[J.invoice_count," transaksi"]})]}),u.jsx("td",{className:"text-right",children:B(P)}),u.jsx("td",{className:"input-cell",children:u.jsx("input",{type:"number",step:"1000",value:Z,onChange:I=>L(J.mode_of_payment,I.target.value),className:"counted-input"})}),u.jsx("td",{className:`text-right ${U>0?"surplus":U<0?"shortage":""}`,children:B(U)})]},ee)})})]})}),u.jsxs("div",{className:"close-actions",children:[u.jsxs("button",{onClick:n,className:"btn-secondary",disabled:w,children:[u.jsx("i",{className:"fa fa-times"})," Batal"]}),u.jsx("button",{onClick:R,className:"btn-primary",disabled:w,children:w?u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa fa-spinner fa-spin"})," Menutup Shift..."]}):u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa fa-check"})," Tutup Shift"]})})]})]}),u.jsx("style",{jsx:!0,children:`
        .close-shift-view {
          padding: 1.5rem;
          max-width: 1000px;
          margin: 0 auto;
        }

        .close-header {
          margin-bottom: 2rem;
          padding-bottom: 1rem;
          border-bottom: 2px solid #e5e7eb;
        }

        .close-header h2 {
          margin: 0;
          font-size: 1.75rem;
          color: #111827;
        }

        .close-subtitle {
          margin: 0.5rem 0 0 0;
          color: #6b7280;
          font-size: 0.875rem;
        }

        .error-banner {
          background: #fee2e2;
          border: 1px solid #fecaca;
          color: #991b1b;
          padding: 1rem;
          border-radius: 0.375rem;
          display: flex;
          align-items: center;
          gap: 0.75rem;
          margin-bottom: 1.5rem;
        }

        .instructions {
          background: #dbeafe;
          border: 1px solid #bfdbfe;
          color: #1e40af;
          padding: 1rem;
          border-radius: 0.375rem;
          display: flex;
          align-items: flex-start;
          gap: 0.75rem;
          margin-bottom: 1.5rem;
        }

        .instructions i {
          margin-top: 0.125rem;
          font-size: 1.125rem;
        }

        .instructions p {
          margin: 0;
          font-size: 0.875rem;
          line-height: 1.5;
        }

        .balance-form {
          background: white;
          border-radius: 0.5rem;
          box-shadow: 0 1px 3px rgba(0,0,0,0.1);
          overflow: hidden;
          margin-bottom: 2rem;
        }

        .balance-form table {
          width: 100%;
          border-collapse: collapse;
        }

        .balance-form th {
          background: #f9fafb;
          padding: 0.75rem 1rem;
          text-align: left;
          font-weight: 600;
          color: #374151;
          font-size: 0.875rem;
          text-transform: uppercase;
          border-bottom: 2px solid #e5e7eb;
        }

        .balance-form td {
          padding: 1rem;
          border-bottom: 1px solid #e5e7eb;
        }

        .invoice-count {
          font-size: 0.75rem;
          color: #6b7280;
          margin-top: 0.25rem;
        }

        .text-right {
          text-align: right;
        }

        .input-cell {
          text-align: right;
        }

        .counted-input {
          width: 100%;
          max-width: 180px;
          padding: 0.5rem 0.75rem;
          border: 1px solid #d1d5db;
          border-radius: 0.375rem;
          font-size: 1rem;
          text-align: right;
          transition: all 0.2s;
        }

        .counted-input:focus {
          outline: none;
          border-color: #3b82f6;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .surplus {
          color: #10b981;
          font-weight: 600;
        }

        .shortage {
          color: #ef4444;
          font-weight: 600;
        }

        .close-actions {
          display: flex;
          justify-content: flex-end;
          gap: 1rem;
        }

        .btn-secondary,
        .btn-primary {
          padding: 0.75rem 1.5rem;
          border-radius: 0.375rem;
          font-size: 1rem;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          border: none;
        }

        .btn-secondary {
          background: white;
          color: #374151;
          border: 1px solid #d1d5db;
        }

        .btn-secondary:hover:not(:disabled) {
          background: #f9fafb;
        }

        .btn-primary {
          background: #3b82f6;
          color: white;
        }

        .btn-primary:hover:not(:disabled) {
          background: #2563eb;
        }

        .btn-secondary:disabled,
        .btn-primary:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `})]})}function qw({order:e,onClose:t,onSplitConfirm:n}){const[r,s]=O.useState("equal"),[o,i]=O.useState(2),[l,a]=O.useState([]),c=k=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(k||0),p=()=>{if(!e)return[];const k=e.grand_total/o,C=[];for(let F=0;F<o;F++)C.push({number:F+1,items:e.items||[],total:k});return C},m=k=>{s(k),k==="equal"&&a(p())},y=k=>{const C=Math.max(2,Math.min(10,o+k));if(i(C),r==="equal"){const F=e.grand_total/C,g=[];for(let w=0;w<C;w++)g.push({number:w+1,items:e.items||[],total:F});a(g)}},v=()=>{n&&n(l,r)};return O.useState(()=>{e&&l.length===0&&a(p())},[e]),e?u.jsx("div",{className:"split-bill-panel",children:u.jsxs("div",{className:"split-container",children:[u.jsxs("div",{className:"split-header",children:[u.jsxs("h3",{children:["Split Bill - ",e.name]}),u.jsxs("div",{className:"split-controls",children:[u.jsx("button",{onClick:t,className:"split-button",children:"Cancel"}),u.jsx("button",{onClick:v,className:"split-button primary",children:"Confirm Split"})]})]}),u.jsxs("div",{className:"split-content",children:[u.jsxs("div",{className:"split-options",children:[u.jsxs("div",{className:"split-option-group",children:[u.jsx("label",{children:"Split Method"}),u.jsxs("div",{className:"split-option-buttons",children:[u.jsx("button",{className:`split-option-button ${r==="equal"?"active":""}`,onClick:()=>m("equal"),children:"Equal"}),u.jsx("button",{className:`split-option-button ${r==="item"?"active":""}`,onClick:()=>m("item"),children:"By Item"}),u.jsx("button",{className:`split-option-button ${r==="amount"?"active":""}`,onClick:()=>m("amount"),children:"By Amount"})]})]}),u.jsxs("div",{className:"split-option-group",children:[u.jsx("label",{children:"Number of Bills"}),u.jsxs("div",{className:"split-number-selector",children:[u.jsx("button",{className:"split-number-btn",onClick:()=>y(-1),disabled:o<=2,children:"-"}),u.jsx("input",{type:"number",className:"split-number-input",value:o,min:"2",max:"10",readOnly:!0}),u.jsx("button",{className:"split-number-btn",onClick:()=>y(1),disabled:o>=10,children:"+"})]})]})]}),u.jsx("div",{className:"split-bills-container",children:l.map((k,C)=>{var F;return u.jsxs("div",{className:"split-col",children:[u.jsx("div",{className:"split-col-header",children:u.jsxs("span",{className:"split-col-title",children:["Bill ",k.number]})}),u.jsx("div",{className:"split-col-body",children:r==="equal"?u.jsxs("div",{className:"split-equal-info",children:[u.jsx("p",{children:"Equal split of total amount"}),u.jsxs("p",{className:"split-item-count",children:[((F=e.items)==null?void 0:F.length)||0," items included"]})]}):u.jsx("div",{className:"split-items-list",children:k.items.map((g,w)=>u.jsxs("div",{className:"split-item",children:[u.jsxs("div",{className:"split-item-details",children:[u.jsx("div",{className:"split-item-name",children:g.item_name}),u.jsx("div",{className:"split-item-price",children:c(g.rate)})]}),u.jsxs("div",{className:"split-item-qty",children:["x",g.qty]})]},w))})}),u.jsx("div",{className:"split-col-footer",children:u.jsxs("div",{className:"split-total",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:c(k.total)})]})})]},C)})})]})]})}):null}function Ww({isOpen:e,onClose:t,templateName:n,mode:r="add",onSelectVariant:s}){const[o,i]=O.useState([]),[l,a]=O.useState([]),[c,p]=O.useState({}),[m,y]=O.useState(!0),[v,k]=O.useState(null);O.useEffect(()=>{e&&n&&C()},[e,n]);const C=async()=>{y(!0),k(null);try{const R=await ve("imogi_pos.api.variants.get_item_variants",{template:n});i(R.variants||[]),a(R.attributes||[])}catch(R){k("Failed to load variants"),console.error("[imogi][variants] Error loading variants:",R)}finally{y(!1)}},F=(R,K)=>{p(B=>({...B,[R]:K}))},g=()=>{p({})},w=()=>Object.keys(c).length===0?o:o.filter(R=>{const K=R.attributes||{};return Object.entries(c).every(([B,re])=>re?K[B]===re:!0)}),_=R=>{s&&s(R.name,r),t()},S=R=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(R||0),b=R=>{const K=new Set;return o.forEach(B=>{const re=B.attributes||{};re[R]&&K.add(re[R])}),Array.from(K).sort()};if(!e)return null;const A=w(),L=r==="convert"?"Select Variant to Replace Template":"Select Variant";return u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content variant-picker-modal",onClick:R=>R.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:L}),u.jsx("button",{className:"modal-close",onClick:t,children:""})]}),u.jsxs("div",{className:"modal-body",children:[m&&u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading variants..."})]}),v&&u.jsxs("div",{className:"error-message",children:[u.jsx("p",{children:v}),u.jsx("button",{onClick:C,className:"btn-retry",children:"Retry"})]}),!m&&!v&&u.jsxs(u.Fragment,{children:[l.length>0&&u.jsxs("div",{className:"variant-filters",children:[u.jsxs("div",{className:"filter-header",children:[u.jsx("h4",{children:"Filter by Attributes"}),Object.keys(c).length>0&&u.jsx("button",{onClick:g,className:"btn-clear-filters",children:"Clear All"})]}),u.jsx("div",{className:"filter-grid",children:l.map(R=>{const K=R.name||R.attribute,B=b(K);return u.jsxs("div",{className:"variant-filter",children:[u.jsx("label",{children:K}),u.jsxs("select",{value:c[K]||"",onChange:re=>F(K,re.target.value),className:"variant-attribute-select",children:[u.jsxs("option",{value:"",children:["All ",K]}),B.map(re=>u.jsx("option",{value:re,children:re},re))]})]},K)})})]}),u.jsx("div",{className:"variant-list",children:A.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("i",{className:"fa fa-inbox"}),u.jsx("p",{children:"No variants found"}),Object.keys(c).length>0&&u.jsx("button",{onClick:g,className:"btn-secondary",children:"Clear Filters"})]}):u.jsx("div",{className:"variant-grid",children:A.map(R=>{const K=R.attributes||{},B=R.rate||R.standard_rate||0;return u.jsxs("div",{className:"variant-card",onClick:()=>_(R),children:[R.image&&u.jsx("div",{className:"variant-image",children:u.jsx("img",{src:R.image,alt:R.item_name})}),u.jsxs("div",{className:"variant-info",children:[u.jsx("div",{className:"variant-name",children:R.item_name}),Object.keys(K).length>0&&u.jsx("div",{className:"variant-attrs",children:Object.entries(K).map(([re,Y])=>u.jsx("span",{className:"variant-attr-badge",children:Y},re))}),u.jsx("div",{className:"variant-price",children:S(B)})]})]},R.name)})})}),A.length>0&&u.jsxs("div",{className:"variant-count",children:["Showing ",A.length," of ",o.length," variants"]})]})]})]})})}function Kw({posProfile:e,branch:t,menuChannel:n="Cashier",onSelectItem:r}){const[s,o]=O.useState([]),[i,l]=O.useState([]),[a,c]=O.useState("all"),[p,m]=O.useState(!0),[y,v]=O.useState(null),[k,C]=O.useState(null);O.useEffect(()=>()=>{},[]),O.useEffect(()=>{e?F():m(!1)},[e]),O.useEffect(()=>{a&&e?g():e||m(!1)},[a,e,n]);const F=async()=>{if(!e){console.warn("[imogi][catalog] Cannot load item groups: posProfile is null");return}try{const S=await ve("imogi_pos.api.variants.get_item_groups",{pos_profile:e});o(S||[])}catch(S){console.error("[imogi][catalog] Error loading item groups:",S)}},g=async()=>{if(!e){console.warn("[CatalogView] Cannot load items: posProfile is null"),m(!1);return}m(!0),v(null),C(null);try{const b=await ve("imogi_pos.api.variants.get_template_items",{pos_profile:e,item_group:a==="all"?null:a,menu_channel:n,debug:0});let A=[],L=null;Array.isArray(b)?A=b:b&&b.items&&Array.isArray(b.items)?(A=b.items,L=b.debug):b&&Array.isArray(b.message)?A=b.message:b&&b.message&&(console.warn("[CatalogView] Unexpected response format:",b),A=[]),l(A),C(L)}catch(S){const b=(S==null?void 0:S.message)||(S==null?void 0:S.toString())||"Unknown error",A=(S==null?void 0:S.httpStatus)||(S==null?void 0:S.status)||"N/A";v("Failed to load items"),console.error("[CatalogView] API error:",{error:b,status:A,params:{posProfile:e,selectedGroup:a,menuChannel:n},fullError:S})}finally{m(!1)}},w=S=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(S||0),_=S=>{r&&r(S)};return u.jsx("div",{className:"catalog-panel",children:u.jsxs("div",{className:"catalog-container",children:[u.jsx("div",{className:"catalog-sidebar",children:u.jsxs("div",{className:"item-group-list",children:[u.jsxs("button",{className:`item-group-btn ${a==="all"?"active":""}`,onClick:()=>c("all"),children:[u.jsx("i",{className:"fa fa-th"}),"All Items"]}),s.map(S=>u.jsx("button",{className:`item-group-btn ${a===S.name?"active":""}`,onClick:()=>c(S.name),children:S.name},S.name))]})}),u.jsxs("div",{className:"catalog-main",children:[p&&u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading items..."})]}),y&&u.jsxs("div",{className:"error-message",children:[u.jsx("p",{children:y}),u.jsx("button",{onClick:g,className:"btn-retry",children:"Retry"})]}),!p&&!y&&u.jsx("div",{className:"catalog-items",children:i.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("i",{className:"fa fa-shopping-cart empty-icon"}),u.jsx("p",{children:"No items found in this category"})]}):u.jsx("div",{className:"catalog-grid",children:i.map(S=>{const b=S.has_variants===1||S.has_variants===!0,A=b&&S.price_display?S.price_display:w(S.standard_rate||0);return u.jsxs("div",{className:`catalog-item ${b?"has-variants":""}`,onClick:()=>_(S),children:[S.image&&u.jsx("div",{className:"item-image",children:u.jsx("img",{src:S.image,alt:S.item_name})}),u.jsxs("div",{className:"item-details",children:[u.jsxs("div",{className:"item-name",children:[S.item_name,b&&u.jsx("i",{className:"fa fa-list variant-icon",title:"Has variants"})]}),u.jsx("div",{className:"item-price",children:A}),S.description&&u.jsx("div",{className:"item-description",children:S.description})]})]},S.name)})})})]})]})})}function Qw({branch:e,onSelectTable:t,onClose:n}){const[r,s]=O.useState([]),[o,i]=O.useState(!0),[l,a]=O.useState(null),[c,p]=O.useState("Available");O.useEffect(()=>{m()},[e]);const m=async()=>{i(!0),a(null);try{const C=await ve("imogi_pos.api.table.get_tables",{branch:e});s(C||[])}catch(C){a("Failed to load tables"),console.error("[TableSelector] Error loading tables:",C)}finally{i(!1)}},y=r.filter(C=>c==="All"?!0:C.status===c),v=C=>{switch(C){case"Available":return"#10b981";case"Occupied":return"#f59e0b";case"Reserved":return"#3b82f6";case"Inactive":return"#6b7280";default:return"#6b7280"}},k=C=>{C.status==="Available"&&t(C)};return u.jsx("div",{className:"modal-overlay",onClick:n,children:u.jsxs("div",{className:"modal-content table-selector-modal",onClick:C=>C.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:"Select Table"}),u.jsx("button",{onClick:n,className:"btn-close",children:u.jsx("i",{className:"fa fa-times"})})]}),u.jsx("div",{className:"table-selector-filters",children:["Available","Occupied","Reserved","All"].map(C=>u.jsx("button",{className:`filter-btn ${c===C?"active":""}`,onClick:()=>p(C),children:C},C))}),u.jsxs("div",{className:"table-selector-content",children:[o&&u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading tables..."})]}),l&&u.jsxs("div",{className:"error-state",children:[u.jsx("i",{className:"fa fa-exclamation-circle"}),u.jsx("p",{children:l}),u.jsx("button",{className:"btn-retry",onClick:m,children:"Retry"})]}),!o&&!l&&y.length===0&&u.jsxs("div",{className:"empty-state",children:[u.jsx("i",{className:"fa fa-chair"}),u.jsx("p",{children:"No tables found"})]}),!o&&!l&&y.length>0&&u.jsx("div",{className:"table-grid",children:y.map(C=>u.jsxs("div",{className:`table-card ${C.status.toLowerCase()}`,onClick:()=>k(C),style:{borderColor:v(C.status),cursor:C.status==="Available"?"pointer":"not-allowed",opacity:C.status==="Available"?1:.6},children:[u.jsxs("div",{className:"table-card-header",children:[u.jsxs("div",{className:"table-name",children:[u.jsx("i",{className:"fa fa-utensils"}),C.table_name]}),u.jsx("div",{className:"table-status",style:{backgroundColor:v(C.status)},children:C.status})]}),C.capacity&&u.jsxs("div",{className:"table-capacity",children:[u.jsx("i",{className:"fa fa-users"}),"Capacity: ",C.capacity]}),C.current_order&&u.jsx("div",{className:"table-order-info",children:u.jsxs("small",{children:["Order: ",C.current_order]})})]},C.name))})]}),u.jsx("div",{className:"modal-footer",children:u.jsx("button",{className:"btn-secondary",onClick:n,children:"Cancel"})})]})})}function Gw(e,t){const[n,r]=O.useState(null),[s,o]=O.useState(!1),i=()=>{if(n&&!n.closed){n.focus();return}const a=800,c=600,p=window.screen.width-a,y=window.open("","CustomerDisplay",`width=${a},height=${c},left=${p},top=0`);if(y){y.document.title="Customer Display",y.document.body.innerHTML='<div id="customer-display-root"></div>';const v=Array.from(document.styleSheets).map(C=>{try{return Array.from(C.cssRules).map(F=>F.cssText).join(`
`)}catch{return""}}).join(`
`),k=y.document.createElement("style");k.textContent=v,y.document.head.appendChild(k),r(y),o(!0),y.addEventListener("beforeunload",()=>{o(!1),r(null)})}},l=()=>{n&&!n.closed&&n.close(),o(!1),r(null)};return O.useEffect(()=>{if(n&&!n.closed&&e){const a=n.document.getElementById("customer-display-root");a&&(a.innerHTML=`
          <div class="customer-display-container">
            <div class="customer-display-header">
              ${t!=null&&t.logo?`<img src="${t.logo}" class="customer-display-logo" />`:""}
              <h1>${(t==null?void 0:t.company_name)||"IMOGI POS"}</h1>
            </div>
            <div class="customer-display-content">
              ${e.items&&e.items.length>0?`
                <div class="customer-display-items">
                  ${e.items.map(c=>`
                    <div class="customer-display-item">
                      <span>${c.qty}x</span>
                      <span>${c.item_name}</span>
                      <span>${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(c.amount||c.rate*c.qty)}</span>
                    </div>
                  `).join("")}
                </div>
                <div class="customer-display-totals">
                  <div class="total-row grand-total">
                    <span>Total</span>
                    <span>${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e.grand_total)}</span>
                  </div>
                </div>
              `:'<div class="customer-display-welcome"><h2>Welcome!</h2></div>'}
            </div>
          </div>
        `)}},[e,n,t]),{isOpen:s,openDisplay:i,closeDisplay:l}}const Za=e=>Array.isArray(e)?e:[];function Yw({initialState:e}){const{isLoading:t,guardPassed:n,posProfile:r,profileData:s,branch:o,posOpening:i,openingStatus:l,openingError:a,retryOpening:c,error:p,serverContextError:m,retryServerContext:y}=kw({requiresOpening:!0,targetModule:"imogi-cashier"}),{effectiveOpeningName:v,error:k,isValid:C,isUrlOpening:F,revalidate:g}=Lw({requiresOpening:!0,allowUrlParam:!0,autoRefreshMs:3e4}),{mode:w}=ww(),_=o||e.branch||null,S=r||e.pos_profile||null,b=["Counter","Table"],A=(s==null?void 0:s.mode)||w,L=b.includes(A)?A:b.includes(e.pos_mode)?e.pos_mode:"Counter",R=n&&C&&!t,K=L==="Table"?"Dine In":"Counter",{data:B,error:re,isLoading:Y}=Xa(R?S:null,R?_:null,R?K:null),J=R&&(s==null?void 0:s.imogi_enable_self_order)===1,{data:ee}=Xa(J?S:null,J?_:null,J?"Self Order":null),P=R&&(s==null?void 0:s.imogi_enable_kiosk)===1,{data:Z}=Xa(P?S:null,P?_:null,P?"Kiosk":null),[U,I]=O.useState(null),[q,X]=O.useState("orders"),te=H=>{X(H)},[fe,le]=O.useState(!1),[Me,Re]=O.useState(!1),[He,Ge]=O.useState(!1),[ur,Hn]=O.useState(!1),[en,tn]=O.useState(!1),[oe,me]=O.useState(null),[Ce,de]=O.useState(!1),[jt,Nt]=O.useState(null),[Be,Oe]=O.useState(!1),[dt,cr]=O.useState(null),[dr,nn]=O.useState({connected:!1,checking:!0}),{isOpen:Ye,openDisplay:T,closeDisplay:ne}=Gw(U,dt);O.useEffect(()=>{S&&(fr(),yn())},[S]),O.useEffect(()=>{const H=ie=>{const{itemRow:we,itemCode:ye}=ie.detail;me({mode:"convert",templateName:ye,orderItemRow:we}),tn(!0)};return window.addEventListener("selectVariant",H),()=>window.removeEventListener("selectVariant",H)},[U]),O.useEffect(()=>{const H=()=>{Ge(!0),le(!1),Hn(!1),te("summary")};return window.addEventListener("showShiftSummary",H),()=>window.removeEventListener("showShiftSummary",H)},[]),O.useEffect(()=>{const H=()=>{Hn(!0),le(!1),Re(!1),Ge(!1),te("close")};return window.addEventListener("closeShift",H),()=>window.removeEventListener("closeShift",H)},[]),O.useEffect(()=>{if(!t&&!n){const H=setTimeout(()=>{console.warn("[Cashier Console] Guard timeout - redirecting to module selection"),window.location.href="/app/imogi-module-select?reason=timeout&target=imogi-cashier"},1e4);return()=>clearTimeout(H)}},[t,n]);const fr=async()=>{try{const H=await ve("imogi_pos.api.public.get_branding");H&&(cr(H),console.log("[Cashier] Branding loaded:",H))}catch(H){console.warn("[Cashier] Failed to load branding:",H)}},yn=async()=>{try{if(window.escposPrint&&typeof window.escposPrint.getStatus=="function"){const H=await window.escposPrint.getStatus();nn({connected:H.connected||!1,checking:!1})}else nn({connected:!1,checking:!1})}catch(H){console.warn("[Cashier] Printer status check failed:",H),nn({connected:!1,checking:!1})}};if(!t&&(!n||!C)){const H=n?"POS Opening belum ada":"POS Profile tidak tersedia",ie=n?"Silakan buat POS Opening Entry via ERPNext. Setelah itu refresh halaman ini.":"Silakan pilih POS Profile melalui Module Select.",we=n?(k==null?void 0:k.message)||(a==null?void 0:a.message)||k||a||null:(m==null?void 0:m.message)||(p==null?void 0:p.message)||m||p||null;return u.jsx(hc,{title:H,message:ie,error:we,actions:n?[{label:"Buat POS Opening Entry",href:`/app/pos-opening-entry/new-pos-opening-entry-1?pos_profile=${encodeURIComponent(r||"")}`},{label:"Kembali ke Module Select",href:"/app/imogi-module-select"}]:[{label:"Pilih POS Profile",href:"/app/imogi-module-select?target=imogi-cashier"}]})}const Qi=[...Za(B),...Za(ee),...Za(Z)];if(t)return u.jsx(Wr,{message:"Loading Cashier Console..."});if(m){const H=(m==null?void 0:m.message)||(typeof m=="string"?m:"Failed to sync operational context.");return u.jsx(Oi,{error:H,onRetry:()=>y&&y()})}if(l==="error"){const H=(a==null?void 0:a.message)||(i==null?void 0:i.error_message)||(typeof a=="string"?a:"Failed to verify POS opening.");return u.jsx(Oi,{error:H,onRetry:()=>c&&c()})}if(!n)return u.jsx(Wr,{message:"Verifying POS opening..."});const qn=H=>{I(H),te("orders"),le(!1),Re(!1)},Zs=async H=>{if(!H||!H.name)throw console.error("[Cashier] Invalid order for claim",H),new Error("Invalid order");try{if(console.log("[Cashier] Claiming order:",H.name),!v)throw console.error("[Cashier] No effective opening available (validation failed)"),new Error("Opening validation failed. Please reload.");const ie=await ve("imogi_pos.api.order_concurrency.claim_order",{order_name:H.name,opening_entry:v});if(!ie||!ie.success)throw new Error((ie==null?void 0:ie.message)||(ie==null?void 0:ie.error)||"Failed to claim order");console.log("[Cashier] Order claimed successfully:",ie),qn({...H,claimed_by:frappe.session.user})}catch(ie){console.error("[Cashier] Error claiming order:",ie),frappe.msgprint({title:"Claim Error",message:ie.message||"Failed to claim order. You may still process it.",indicator:"orange"}),qn(H)}},eo=()=>{console.log("[Cashier] New Order clicked, mode:",L),L==="Counter"?Gi():de(!0),le(!1),Re(!1)},Gi=async()=>{var H;Oe(!0);try{const ie=await Rf();if(!ie.pos_profile||!ie.branch){alert("POS Profile & Branch wajib dipilih. Silakan pilih dari module select."),console.error("[Cashier] Context not resolved:",ie);return}console.log("[Cashier] Creating counter order with context:",ie.pos_profile,ie.branch);const we=await ve("imogi_pos.api.orders.create_order",{pos_profile:ie.pos_profile,branch:ie.branch,order_type:"Counter",items:[]});if(we!=null&&we.order_name){console.log("[Cashier] Counter order created:",we.order_name);const ye=await ve("imogi_pos.api.orders.get_order",{order_name:we.order_name});ye&&(I(ye),console.log("[Cashier] Order selected:",ye),console.log("[Cashier] Switching viewMode -> catalog (Counter)")),te("catalog")}}catch(ie){console.error("[Cashier] Failed to create counter order:",ie),(H=ie.message)!=null&&H.includes("CONTEXT_")?(alert("Context Error: "+ie.message.split(": ")[1]),window.location.href="/app/imogi-module-select"):alert("Failed to create order: "+(ie.message||"Unknown error"))}finally{Oe(!1)}},Yi=async H=>{var ie;Oe(!0),de(!1);try{const we=await Rf();if(!we.pos_profile||!we.branch){alert("POS Profile & Branch wajib dipilih. Silakan pilih dari module select."),console.error("[Cashier] Context not resolved:",we);return}console.log("[Cashier] Creating table order with context:",we.pos_profile,we.branch);const ye=await ve("imogi_pos.api.orders.create_order",{pos_profile:we.pos_profile,branch:we.branch,order_type:"Dine In",table:H.name,items:[]});if(ye!=null&&ye.order_name){console.log("[Cashier] Table order created:",ye.order_name);const es=await ve("imogi_pos.api.orders.get_order",{order_name:ye.order_name});es&&(I(es),Nt(H),console.log("[Cashier] Order selected:",es),console.log("[Cashier] Switching viewMode -> catalog (Table)")),te("catalog")}}catch(we){console.error("[Cashier] Failed to create table order:",we),(ie=we.message)!=null&&ie.includes("CONTEXT_")?(alert("Context Error: "+we.message.split(": ")[1]),window.location.href="/app/imogi-module-select"):alert("Failed to create order: "+(we.message||"Unknown error"))}finally{Oe(!1)}},pr=H=>{H.has_variants===1||H.has_variants===!0?(me({mode:"add",templateName:H.name,orderItemRow:null}),tn(!0)):hr(H.name)},to=async(H,ie)=>{ie==="convert"&&(oe!=null&&oe.orderItemRow)?await no(oe.orderItemRow,H):await hr(H),tn(!1),me(null)},hr=async H=>{if(!U){alert("Please select an order first or create a new one");return}try{await ve("imogi_pos.api.orders.add_item_to_order",{order_name:U.name,item_code:H,qty:1}),alert("Item added to order successfully")}catch(ie){alert("Failed to add item: "+(ie.message||"Unknown error"))}},no=async(H,ie)=>{if(U)try{await ve("imogi_pos.api.variants.choose_variant_for_order_item",{pos_order:U.name,order_item_row:H,variant_item:ie}),alert("Template converted to variant successfully")}catch(we){alert("Failed to convert: "+(we.message||"Unknown error"))}},Xi=()=>{U&&alert(`Printing bill for order: ${U.name}`)},ro=()=>{U&&(Re(!0),le(!1),Ge(!1),te("split"))},Ji=()=>{U&&(le(!0),Re(!1),te("payment"))},so=H=>{console.log("Payment completed:",H),alert(`Payment successful!
Change: ${H.change}`),le(!1),te("orders")},oo=(H,ie)=>{console.log("Split confirmed:",{splits:H,method:ie}),Ge(!1),te("orders")},Zi=()=>{Ge(!1),Re(!1),te("orders")},ea=()=>{Hn(!1),le(!1),Re(!1),Ge(!1),te("orders")},ta=H=>{console.log("[Cashier] Shift closed:",H),H!=null&&H.success&&(alert("Shift closed successfully!"),window.location.reload())},na=H=>{console.log("[Cashier] Mode change requested:",H),alert(`Mode switching to ${H} - This would update POS Profile configuration`)},Jr=H=>{console.log("[Cashier] Search/Scan:",H),alert(`Searching for: ${H}`)},Zr=()=>{U&&(console.log("[Cashier] Hold order:",U.name),alert(`Order ${U.name} put on hold`))},ra=()=>{if(!U)return;confirm(`Are you sure you want to clear order ${U.name}?`)&&(console.log("[Cashier] Clear order:",U.name),I(null))};return u.jsxs("div",{className:"cashier-console","data-pos-mode":A,children:[u.jsx(zw,{posMode:L,onModeChange:na,posProfile:S,branch:_,posOpening:i,branding:dt,profileData:s,printerStatus:dr,onSearchScan:Jr}),u.jsxs("div",{className:"cashier-console-layout",children:[u.jsx(Dw,{orders:Qi||[],selectedOrder:U,onSelectOrder:qn,onClaimOrder:Zs,posMode:A,isMultiSession:F}),u.jsx("div",{className:"cashier-console-main",children:u.jsxs("div",{className:"cashier-console-content",children:[q==="orders"&&!fe&&!Me&&!He&&!ur&&u.jsx(Uw,{order:U,posMode:A}),q==="catalog"&&u.jsx(Kw,{posProfile:S,branch:_,menuChannel:"Cashier",onSelectItem:pr}),fe&&u.jsx($w,{order:U,posProfile:S,effectiveOpeningName:v,revalidateOpening:g,onClose:()=>{le(!1),te("orders")},onPaymentComplete:so}),He&&u.jsx(Vw,{posProfile:S,posOpening:i,onClose:Zi}),ur&&u.jsx(Hw,{posProfile:S,posOpening:i,effectiveOpeningName:v,revalidateOpening:g,onClose:ea,onShiftClosed:ta}),Me&&u.jsx(qw,{order:U,onClose:()=>{Re(!1),te("orders")},onSplitConfirm:oo})]})})]}),u.jsx(Bw,{selectedOrder:U,viewMode:q,onViewChange:te,onNewOrder:eo,onPrintBill:Xi,onSplitBill:ro,onRequestPayment:Ji,onHoldOrder:Zr,onClearOrder:ra,posMode:L,selectedTable:jt,creatingOrder:Be,isCustomerDisplayOpen:Ye,onOpenCustomerDisplay:T,onCloseCustomerDisplay:ne}),u.jsx(Ww,{isOpen:en,onClose:()=>{tn(!1),me(null)},templateName:oe==null?void 0:oe.templateName,mode:(oe==null?void 0:oe.mode)||"add",onSelectVariant:to}),Ce&&u.jsx(Qw,{branch:_,onSelectTable:Yi,onClose:()=>de(!1)})]})}function Nm({initialState:e}){return u.jsx(Sw,{children:u.jsx(pc,{initialState:e,children:u.jsx(Yw,{initialState:e})})})}const Af=window.__INITIAL_STATE__||{},Lf=document.getElementById("root");Lf&&ri.createRoot(Lf).render(u.jsx(Qr.StrictMode,{children:u.jsx(pc,{initialState:Af,children:u.jsx(Nm,{initialState:Af})})}));let el=0;window.imogiCashierMount=function(e,t={}){var a;const n=t.initialState||window.__INITIAL_STATE__||{},r=typeof frappe<"u"&&(((a=frappe==null?void 0:frappe.boot)==null?void 0:a.developer_mode)||window.location.hostname==="localhost");if(e._reactRoot){r&&console.log("[Cashier Mount] Unmounting element root");try{e._reactRoot.unmount()}catch(c){console.warn("[Cashier Mount] Element unmount error:",c)}e._reactRoot=null,e._reactMountKey=null,e._reactMountTimestamp=null}if(window.__IMOGI_POS_CASHIER_ROOT){r&&console.log("[Cashier Mount] Unmounting window root");try{window.__IMOGI_POS_CASHIER_ROOT.unmount()}catch(c){console.warn("[Cashier Mount] Window unmount error:",c)}delete window.__IMOGI_POS_CASHIER_ROOT}window.__IMOGI_POS_CASHIER_MOUNTED&&delete window.__IMOGI_POS_CASHIER_MOUNTED,window.__IMOGI_POS_CASHIER_MOUNT_KEY&&delete window.__IMOGI_POS_CASHIER_MOUNT_KEY,e.innerHTML&&(e.innerHTML=""),["__IMOGI_POS_CASHIER_STATE__","__IMOGI_POS_CASHIER_STORE__","__IMOGI_POS_CASHIER_CONTEXT__"].forEach(c=>{window[c]&&(r&&console.log(`[Cashier Mount] Clearing ${c}`),delete window[c])}),el++;const o=`cashier-mount-${el}-${Date.now()}`;r&&console.log("[Cashier Mount] Creating FRESH instance",{mountKey:o,count:el,hasState:!!n,route:typeof frappe<"u"?frappe.get_route_str():window.location.pathname});const i=ri.createRoot(e),l=u.jsx(pc,{initialState:n,children:u.jsx(Nm,{initialState:n})},o);return i.render(r?u.jsx(Qr.StrictMode,{children:l}):l),e._reactRoot=i,e._reactMountKey=o,e._reactMountTimestamp=Date.now(),window.__IMOGI_POS_CASHIER_ROOT=i,window.__IMOGI_POS_CASHIER_MOUNTED=!0,window.__IMOGI_POS_CASHIER_MOUNT_KEY=o,r&&console.log("[Cashier Mount]  Mounted successfully",{mountKey:o}),i};window.imogiCashierUnmount=function(e){var s;const t=typeof frappe<"u"&&(((s=frappe==null?void 0:frappe.boot)==null?void 0:s.developer_mode)||window.location.hostname==="localhost"),n=e!=null&&e._reactMountTimestamp?Date.now()-e._reactMountTimestamp:0;if(t&&console.log("[Cashier Unmount] Starting cleanup",{hasElement:!!e,elementRoot:!!(e!=null&&e._reactRoot),windowRoot:!!window.__IMOGI_POS_CASHIER_ROOT,mountDuration:`${n}ms`}),e!=null&&e._reactRoot){t&&console.log("[Cashier Unmount] Destroying element root");try{e._reactRoot.unmount()}catch(o){console.error("[Cashier Unmount] Element unmount error:",o)}e._reactRoot=null,e._reactMountKey=null,e._reactMountTimestamp=null}if(window.__IMOGI_POS_CASHIER_ROOT){t&&console.log("[Cashier Unmount] Destroying window root");try{window.__IMOGI_POS_CASHIER_ROOT.unmount()}catch(o){console.error("[Cashier Unmount] Window unmount error:",o)}delete window.__IMOGI_POS_CASHIER_ROOT}window.__IMOGI_POS_CASHIER_MOUNTED&&delete window.__IMOGI_POS_CASHIER_MOUNTED,window.__IMOGI_POS_CASHIER_MOUNT_KEY&&delete window.__IMOGI_POS_CASHIER_MOUNT_KEY,e!=null&&e.innerHTML&&(e.innerHTML=""),["__IMOGI_POS_CASHIER_STATE__","__IMOGI_POS_CASHIER_STORE__","__IMOGI_POS_CASHIER_CONTEXT__","__INITIAL_STATE__"].forEach(o=>{window[o]&&(t&&console.log(`[Cashier Unmount] Clearing ${o}`),delete window[o])}),t&&console.log("[Cashier Unmount]  Cleanup complete")};
