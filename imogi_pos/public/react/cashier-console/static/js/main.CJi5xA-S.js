var Sg=Object.defineProperty;var Eg=(e,t,n)=>t in e?Sg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var zc=(e,t,n)=>Eg(e,typeof t!="symbol"?t+"":t,n);function Af(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lf={exports:{}},Mi={},If={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),kg=Symbol.for("react.portal"),Cg=Symbol.for("react.fragment"),Ng=Symbol.for("react.strict_mode"),jg=Symbol.for("react.profiler"),bg=Symbol.for("react.provider"),Tg=Symbol.for("react.context"),Og=Symbol.for("react.forward_ref"),Rg=Symbol.for("react.suspense"),Pg=Symbol.for("react.memo"),Ag=Symbol.for("react.lazy"),$c=Symbol.iterator;function Lg(e){return e===null||typeof e!="object"?null:(e=$c&&e[$c]||e["@@iterator"],typeof e=="function"?e:null)}var Mf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ff=Object.assign,Df={};function rs(e,t,n){this.props=e,this.context=t,this.refs=Df,this.updater=n||Mf}rs.prototype.isReactComponent={};rs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bf(){}Bf.prototype=rs.prototype;function iu(e,t,n){this.props=e,this.context=t,this.refs=Df,this.updater=n||Mf}var au=iu.prototype=new Bf;au.constructor=iu;Ff(au,rs.prototype);au.isPureReactComponent=!0;var Vc=Array.isArray,Uf=Object.prototype.hasOwnProperty,lu={current:null},zf={key:!0,ref:!0,__self:!0,__source:!0};function $f(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Uf.call(t,r)&&!zf.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Zs,type:e,key:o,ref:i,props:s,_owner:lu.current}}function Ig(e,t){return{$$typeof:Zs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zs}function Mg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hc=/\/+/g;function pa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mg(""+e.key):t.toString(36)}function Wo(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Zs:case kg:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+pa(i,0):r,Vc(s)?(n="",e!=null&&(n=e.replace(Hc,"$&/")+"/"),Wo(s,t,n,"",function(c){return c})):s!=null&&(uu(s)&&(s=Ig(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Hc,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Vc(e))for(var l=0;l<e.length;l++){o=e[l];var u=r+pa(o,l);i+=Wo(o,t,n,u,s)}else if(u=Lg(e),typeof u=="function")for(e=u.call(e),l=0;!(o=e.next()).done;)o=o.value,u=r+pa(o,l++),i+=Wo(o,t,n,u,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ko(e,t,n){if(e==null)return e;var r=[],s=0;return Wo(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Fg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ct={current:null},Ko={transition:null},Dg={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:Ko,ReactCurrentOwner:lu};function Vf(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:ko,forEach:function(e,t,n){ko(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ko(e,function(){t++}),t},toArray:function(e){return ko(e,function(t){return t})||[]},only:function(e){if(!uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=rs;de.Fragment=Cg;de.Profiler=jg;de.PureComponent=iu;de.StrictMode=Ng;de.Suspense=Rg;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dg;de.act=Vf;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ff({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=lu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Uf.call(t,u)&&!zf.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Zs,type:e.type,key:s,ref:o,props:r,_owner:i}};de.createContext=function(e){return e={$$typeof:Tg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bg,_context:e},e.Consumer=e};de.createElement=$f;de.createFactory=function(e){var t=$f.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:Og,render:e}};de.isValidElement=uu;de.lazy=function(e){return{$$typeof:Ag,_payload:{_status:-1,_result:e},_init:Fg}};de.memo=function(e,t){return{$$typeof:Pg,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Ko.transition;Ko.transition={};try{e()}finally{Ko.transition=t}};de.unstable_act=Vf;de.useCallback=function(e,t){return ct.current.useCallback(e,t)};de.useContext=function(e){return ct.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return ct.current.useDeferredValue(e)};de.useEffect=function(e,t){return ct.current.useEffect(e,t)};de.useId=function(){return ct.current.useId()};de.useImperativeHandle=function(e,t,n){return ct.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return ct.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return ct.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return ct.current.useMemo(e,t)};de.useReducer=function(e,t,n){return ct.current.useReducer(e,t,n)};de.useRef=function(e){return ct.current.useRef(e)};de.useState=function(e){return ct.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return ct.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return ct.current.useTransition()};de.version="18.3.1";If.exports=de;var N=If.exports;const wr=Af(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg=N,Ug=Symbol.for("react.element"),zg=Symbol.for("react.fragment"),$g=Object.prototype.hasOwnProperty,Vg=Bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hg={key:!0,ref:!0,__self:!0,__source:!0};function Hf(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)$g.call(t,r)&&!Hg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Ug,type:e,key:o,ref:i,props:s,_owner:Vg.current}}Mi.Fragment=zg;Mi.jsx=Hf;Mi.jsxs=Hf;Lf.exports=Mi;var a=Lf.exports,ui={},qf={exports:{}},St={},Gf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,H){var D=M.length;M.push(H);e:for(;0<D;){var ne=D-1>>>1,te=M[ne];if(0<s(te,H))M[ne]=H,M[D]=te,D=ne;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var H=M[0],D=M.pop();if(D!==H){M[0]=D;e:for(var ne=0,te=M.length,ve=te>>>1;ne<ve;){var Te=2*(ne+1)-1,ze=M[Te],ie=Te+1,ue=M[ie];if(0>s(ze,D))ie<te&&0>s(ue,ze)?(M[ne]=ue,M[ie]=D,ne=ie):(M[ne]=ze,M[Te]=D,ne=Te);else if(ie<te&&0>s(ue,D))M[ne]=ue,M[ie]=D,ne=ie;else break e}}return H}function s(M,H){var D=M.sortIndex-H.sortIndex;return D!==0?D:M.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var u=[],c=[],f=1,y=null,v=3,m=!1,S=!1,E=!1,F=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=M)r(c),H.sortIndex=H.expirationTime,t(u,H);else break;H=n(c)}}function k(M){if(E=!1,x(M),!S)if(n(u)!==null)S=!0,Z(T);else{var H=n(c);H!==null&&pe(k,H.startTime-M)}}function T(M,H){S=!1,E&&(E=!1,g(P),P=-1),m=!0;var D=v;try{for(x(H),y=n(u);y!==null&&(!(y.expirationTime>H)||M&&!$());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,v=y.priorityLevel;var te=ne(y.expirationTime<=H);H=e.unstable_now(),typeof te=="function"?y.callback=te:y===n(u)&&r(u),x(H)}else r(u);y=n(u)}if(y!==null)var ve=!0;else{var Te=n(c);Te!==null&&pe(k,Te.startTime-H),ve=!1}return ve}finally{y=null,v=D,m=!1}}var A=!1,I=null,P=-1,q=5,L=-1;function $(){return!(e.unstable_now()-L<q)}function G(){if(I!==null){var M=e.unstable_now();L=M;var H=!0;try{H=I(!0,M)}finally{H?Q():(A=!1,I=null)}}else A=!1}var Q;if(typeof _=="function")Q=function(){_(G)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,U=R.port2;R.port1.onmessage=G,Q=function(){U.postMessage(null)}}else Q=function(){F(G,0)};function Z(M){I=M,A||(A=!0,Q())}function pe(M,H){P=F(function(){M(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){S||m||(S=!0,Z(T))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(M){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var D=v;v=H;try{return M()}finally{v=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,H){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=v;v=M;try{return H()}finally{v=D}},e.unstable_scheduleCallback=function(M,H,D){var ne=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?ne+D:ne):D=ne,M){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=D+te,M={id:f++,callback:H,priorityLevel:M,startTime:D,expirationTime:te,sortIndex:-1},D>ne?(M.sortIndex=D,t(c,M),n(u)===null&&M===n(c)&&(E?(g(P),P=-1):E=!0,pe(k,D-ne))):(M.sortIndex=te,t(u,M),S||m||(S=!0,Z(T))),M},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(M){var H=v;return function(){var D=v;v=H;try{return M.apply(this,arguments)}finally{v=D}}}})(Wf);Gf.exports=Wf;var qg=Gf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg=N,xt=qg;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kf=new Set,Is={};function _r(e,t){Qr(e,t),Qr(e+"Capture",t)}function Qr(e,t){for(Is[e]=t,e=0;e<t.length;e++)Kf.add(t[e])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=Object.prototype.hasOwnProperty,Wg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qc={},Gc={};function Kg(e){return Za.call(Gc,e)?!0:Za.call(qc,e)?!1:Wg.test(e)?Gc[e]=!0:(qc[e]=!0,!1)}function Qg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yg(e,t,n,r){if(t===null||typeof t>"u"||Qg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){et[e]=new dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){et[e]=new dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){et[e]=new dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){et[e]=new dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var cu=/[\-:]([a-z])/g;function du(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cu,du);et[t]=new dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cu,du);et[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cu,du);et[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){et[e]=new dt(e,1,!1,e.toLowerCase(),null,!1,!1)});et.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){et[e]=new dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function fu(e,t,n,r){var s=et.hasOwnProperty(t)?et[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yg(t,n,s,r)&&(n=null),r||s===null?Kg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Cn=Gg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),Or=Symbol.for("react.portal"),Rr=Symbol.for("react.fragment"),pu=Symbol.for("react.strict_mode"),el=Symbol.for("react.profiler"),Qf=Symbol.for("react.provider"),Yf=Symbol.for("react.context"),hu=Symbol.for("react.forward_ref"),tl=Symbol.for("react.suspense"),nl=Symbol.for("react.suspense_list"),mu=Symbol.for("react.memo"),Pn=Symbol.for("react.lazy"),Jf=Symbol.for("react.offscreen"),Wc=Symbol.iterator;function cs(e){return e===null||typeof e!="object"?null:(e=Wc&&e[Wc]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,ha;function xs(e){if(ha===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ha=t&&t[1]||""}return`
`+ha+e}var ma=!1;function ga(e,t){if(!e||ma)return"";ma=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var u=`
`+s[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=l);break}}}finally{ma=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xs(e):""}function Jg(e){switch(e.tag){case 5:return xs(e.type);case 16:return xs("Lazy");case 13:return xs("Suspense");case 19:return xs("SuspenseList");case 0:case 2:case 15:return e=ga(e.type,!1),e;case 11:return e=ga(e.type.render,!1),e;case 1:return e=ga(e.type,!0),e;default:return""}}function rl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rr:return"Fragment";case Or:return"Portal";case el:return"Profiler";case pu:return"StrictMode";case tl:return"Suspense";case nl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yf:return(e.displayName||"Context")+".Consumer";case Qf:return(e._context.displayName||"Context")+".Provider";case hu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mu:return t=e.displayName||null,t!==null?t:rl(e.type)||"Memo";case Pn:t=e._payload,e=e._init;try{return rl(e(t))}catch{}}return null}function Xg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rl(t);case 8:return t===pu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zg(e){var t=Xf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function No(e){e._valueTracker||(e._valueTracker=Zg(e))}function Zf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sl(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Kc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ep(e,t){t=t.checked,t!=null&&fu(e,"checked",t,!1)}function ol(e,t){ep(e,t);var n=Wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?il(e,t.type,n):t.hasOwnProperty("defaultValue")&&il(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function il(e,t,n){(t!=="number"||ci(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ss=Array.isArray;function $r(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function al(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Ss(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wn(n)}}function tp(e,t){var n=Wn(t.value),r=Wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Jc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function np(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ll(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?np(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jo,rp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ms(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ey=["Webkit","ms","Moz","O"];Object.keys(Ns).forEach(function(e){ey.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ns[t]=Ns[e]})});function sp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ns.hasOwnProperty(e)&&Ns[e]?(""+t).trim():t+"px"}function op(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var ty=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(e,t){if(t){if(ty[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function cl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=null;function gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fl=null,Vr=null,Hr=null;function Xc(e){if(e=no(e)){if(typeof fl!="function")throw Error(B(280));var t=e.stateNode;t&&(t=zi(t),fl(e.stateNode,e.type,t))}}function ip(e){Vr?Hr?Hr.push(e):Hr=[e]:Vr=e}function ap(){if(Vr){var e=Vr,t=Hr;if(Hr=Vr=null,Xc(e),t)for(e=0;e<t.length;e++)Xc(t[e])}}function lp(e,t){return e(t)}function up(){}var ya=!1;function cp(e,t,n){if(ya)return e(t,n);ya=!0;try{return lp(e,t,n)}finally{ya=!1,(Vr!==null||Hr!==null)&&(up(),ap())}}function Fs(e,t){var n=e.stateNode;if(n===null)return null;var r=zi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var pl=!1;if(_n)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){pl=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{pl=!1}function ny(e,t,n,r,s,o,i,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var js=!1,di=null,fi=!1,hl=null,ry={onError:function(e){js=!0,di=e}};function sy(e,t,n,r,s,o,i,l,u){js=!1,di=null,ny.apply(ry,arguments)}function oy(e,t,n,r,s,o,i,l,u){if(sy.apply(this,arguments),js){if(js){var c=di;js=!1,di=null}else throw Error(B(198));fi||(fi=!0,hl=c)}}function xr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zc(e){if(xr(e)!==e)throw Error(B(188))}function iy(e){var t=e.alternate;if(!t){if(t=xr(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Zc(s),e;if(o===r)return Zc(s),t;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function fp(e){return e=iy(e),e!==null?pp(e):null}function pp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pp(e);if(t!==null)return t;e=e.sibling}return null}var hp=xt.unstable_scheduleCallback,ed=xt.unstable_cancelCallback,ay=xt.unstable_shouldYield,ly=xt.unstable_requestPaint,Me=xt.unstable_now,uy=xt.unstable_getCurrentPriorityLevel,yu=xt.unstable_ImmediatePriority,mp=xt.unstable_UserBlockingPriority,pi=xt.unstable_NormalPriority,cy=xt.unstable_LowPriority,gp=xt.unstable_IdlePriority,Fi=null,ln=null;function dy(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Fi,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:hy,fy=Math.log,py=Math.LN2;function hy(e){return e>>>=0,e===0?32:31-(fy(e)/py|0)|0}var bo=64,To=4194304;function Es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Es(l):(o&=i,o!==0&&(r=Es(o)))}else i=n&~s,i!==0?r=Es(i):o!==0&&(r=Es(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qt(t),s=1<<n,r|=e[n],t&=~s;return r}function my(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Qt(o),l=1<<i,u=s[i];u===-1?(!(l&n)||l&r)&&(s[i]=my(l,t)):u<=t&&(e.expiredLanes|=l),o&=~l}}function ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yp(){var e=bo;return bo<<=1,!(bo&4194240)&&(bo=64),e}function va(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=n}function yy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Qt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function vu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var we=0;function vp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wp,wu,_p,xp,Sp,gl=!1,Oo=[],Bn=null,Un=null,zn=null,Ds=new Map,Bs=new Map,Ln=[],vy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function td(e,t){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(t.pointerId)}}function fs(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=no(t),t!==null&&wu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function wy(e,t,n,r,s){switch(t){case"focusin":return Bn=fs(Bn,e,t,n,r,s),!0;case"dragenter":return Un=fs(Un,e,t,n,r,s),!0;case"mouseover":return zn=fs(zn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ds.set(o,fs(Ds.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Bs.set(o,fs(Bs.get(o)||null,e,t,n,r,s)),!0}return!1}function Ep(e){var t=ur(e.target);if(t!==null){var n=xr(t);if(n!==null){if(t=n.tag,t===13){if(t=dp(n),t!==null){e.blockedOn=t,Sp(e.priority,function(){_p(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);dl=r,n.target.dispatchEvent(r),dl=null}else return t=no(n),t!==null&&wu(t),e.blockedOn=n,!1;t.shift()}return!0}function nd(e,t,n){Qo(e)&&n.delete(t)}function _y(){gl=!1,Bn!==null&&Qo(Bn)&&(Bn=null),Un!==null&&Qo(Un)&&(Un=null),zn!==null&&Qo(zn)&&(zn=null),Ds.forEach(nd),Bs.forEach(nd)}function ps(e,t){e.blockedOn===t&&(e.blockedOn=null,gl||(gl=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,_y)))}function Us(e){function t(s){return ps(s,e)}if(0<Oo.length){ps(Oo[0],e);for(var n=1;n<Oo.length;n++){var r=Oo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bn!==null&&ps(Bn,e),Un!==null&&ps(Un,e),zn!==null&&ps(zn,e),Ds.forEach(t),Bs.forEach(t),n=0;n<Ln.length;n++)r=Ln[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)Ep(n),n.blockedOn===null&&Ln.shift()}var qr=Cn.ReactCurrentBatchConfig,mi=!0;function xy(e,t,n,r){var s=we,o=qr.transition;qr.transition=null;try{we=1,_u(e,t,n,r)}finally{we=s,qr.transition=o}}function Sy(e,t,n,r){var s=we,o=qr.transition;qr.transition=null;try{we=4,_u(e,t,n,r)}finally{we=s,qr.transition=o}}function _u(e,t,n,r){if(mi){var s=yl(e,t,n,r);if(s===null)ba(e,t,r,gi,n),td(e,r);else if(wy(s,e,t,n,r))r.stopPropagation();else if(td(e,r),t&4&&-1<vy.indexOf(e)){for(;s!==null;){var o=no(s);if(o!==null&&wp(o),o=yl(e,t,n,r),o===null&&ba(e,t,r,gi,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else ba(e,t,r,null,n)}}var gi=null;function yl(e,t,n,r){if(gi=null,e=gu(r),e=ur(e),e!==null)if(t=xr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gi=e,null}function kp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uy()){case yu:return 1;case mp:return 4;case pi:case cy:return 16;case gp:return 536870912;default:return 16}default:return 16}}var Mn=null,xu=null,Yo=null;function Cp(){if(Yo)return Yo;var e,t=xu,n=t.length,r,s="value"in Mn?Mn.value:Mn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Yo=s.slice(e,1<r?1-r:void 0)}function Jo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ro(){return!0}function rd(){return!1}function Et(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ro:rd,this.isPropagationStopped=rd,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),t}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=Et(ss),to=Pe({},ss,{view:0,detail:0}),Ey=Et(to),wa,_a,hs,Di=Pe({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hs&&(hs&&e.type==="mousemove"?(wa=e.screenX-hs.screenX,_a=e.screenY-hs.screenY):_a=wa=0,hs=e),wa)},movementY:function(e){return"movementY"in e?e.movementY:_a}}),sd=Et(Di),ky=Pe({},Di,{dataTransfer:0}),Cy=Et(ky),Ny=Pe({},to,{relatedTarget:0}),xa=Et(Ny),jy=Pe({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),by=Et(jy),Ty=Pe({},ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Oy=Et(Ty),Ry=Pe({},ss,{data:0}),od=Et(Ry),Py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ly[e])?!!t[e]:!1}function Eu(){return Iy}var My=Pe({},to,{key:function(e){if(e.key){var t=Py[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ay[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(e){return e.type==="keypress"?Jo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fy=Et(My),Dy=Pe({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=Et(Dy),By=Pe({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),Uy=Et(By),zy=Pe({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),$y=Et(zy),Vy=Pe({},Di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hy=Et(Vy),qy=[9,13,27,32],ku=_n&&"CompositionEvent"in window,bs=null;_n&&"documentMode"in document&&(bs=document.documentMode);var Gy=_n&&"TextEvent"in window&&!bs,Np=_n&&(!ku||bs&&8<bs&&11>=bs),ad=" ",ld=!1;function jp(e,t){switch(e){case"keyup":return qy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function Wy(e,t){switch(e){case"compositionend":return bp(t);case"keypress":return t.which!==32?null:(ld=!0,ad);case"textInput":return e=t.data,e===ad&&ld?null:e;default:return null}}function Ky(e,t){if(Pr)return e==="compositionend"||!ku&&jp(e,t)?(e=Cp(),Yo=xu=Mn=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Np&&t.locale!=="ko"?null:t.data;default:return null}}var Qy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qy[e.type]:t==="textarea"}function Tp(e,t,n,r){ip(r),t=yi(t,"onChange"),0<t.length&&(n=new Su("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ts=null,zs=null;function Yy(e){Up(e,0)}function Bi(e){var t=Ir(e);if(Zf(t))return e}function Jy(e,t){if(e==="change")return t}var Op=!1;if(_n){var Sa;if(_n){var Ea="oninput"in document;if(!Ea){var cd=document.createElement("div");cd.setAttribute("oninput","return;"),Ea=typeof cd.oninput=="function"}Sa=Ea}else Sa=!1;Op=Sa&&(!document.documentMode||9<document.documentMode)}function dd(){Ts&&(Ts.detachEvent("onpropertychange",Rp),zs=Ts=null)}function Rp(e){if(e.propertyName==="value"&&Bi(zs)){var t=[];Tp(t,zs,e,gu(e)),cp(Yy,t)}}function Xy(e,t,n){e==="focusin"?(dd(),Ts=t,zs=n,Ts.attachEvent("onpropertychange",Rp)):e==="focusout"&&dd()}function Zy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bi(zs)}function ev(e,t){if(e==="click")return Bi(t)}function tv(e,t){if(e==="input"||e==="change")return Bi(t)}function nv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:nv;function $s(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Za.call(t,s)||!Jt(e[s],t[s]))return!1}return!0}function fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pd(e,t){var n=fd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fd(n)}}function Pp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ap(){for(var e=window,t=ci();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ci(e.document)}return t}function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rv(e){var t=Ap(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pp(n.ownerDocument.documentElement,n)){if(r!==null&&Cu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=pd(n,o);var i=pd(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sv=_n&&"documentMode"in document&&11>=document.documentMode,Ar=null,vl=null,Os=null,wl=!1;function hd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wl||Ar==null||Ar!==ci(r)||(r=Ar,"selectionStart"in r&&Cu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Os&&$s(Os,r)||(Os=r,r=yi(vl,"onSelect"),0<r.length&&(t=new Su("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}function Po(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lr={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},ka={},Lp={};_n&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Ui(e){if(ka[e])return ka[e];if(!Lr[e])return e;var t=Lr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lp)return ka[e]=t[n];return e}var Ip=Ui("animationend"),Mp=Ui("animationiteration"),Fp=Ui("animationstart"),Dp=Ui("transitionend"),Bp=new Map,md="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){Bp.set(e,t),_r(t,[e])}for(var Ca=0;Ca<md.length;Ca++){var Na=md[Ca],ov=Na.toLowerCase(),iv=Na[0].toUpperCase()+Na.slice(1);Yn(ov,"on"+iv)}Yn(Ip,"onAnimationEnd");Yn(Mp,"onAnimationIteration");Yn(Fp,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(Dp,"onTransitionEnd");Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),av=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function gd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oy(r,t,void 0,e),e.currentTarget=null}function Up(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&s.isPropagationStopped())break e;gd(s,l,c),o=u}else for(i=0;i<r.length;i++){if(l=r[i],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&s.isPropagationStopped())break e;gd(s,l,c),o=u}}}if(fi)throw e=hl,fi=!1,hl=null,e}function ke(e,t){var n=t[kl];n===void 0&&(n=t[kl]=new Set);var r=e+"__bubble";n.has(r)||(zp(t,e,2,!1),n.add(r))}function ja(e,t,n){var r=0;t&&(r|=4),zp(n,e,r,t)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function Vs(e){if(!e[Ao]){e[Ao]=!0,Kf.forEach(function(n){n!=="selectionchange"&&(av.has(n)||ja(n,!1,e),ja(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ao]||(t[Ao]=!0,ja("selectionchange",!1,t))}}function zp(e,t,n,r){switch(kp(t)){case 1:var s=xy;break;case 4:s=Sy;break;default:s=_u}n=s.bind(null,t,n,e),s=void 0,!pl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ba(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ur(l),i===null)return;if(u=i.tag,u===5||u===6){r=o=i;continue e}l=l.parentNode}}r=r.return}cp(function(){var c=o,f=gu(n),y=[];e:{var v=Bp.get(e);if(v!==void 0){var m=Su,S=e;switch(e){case"keypress":if(Jo(n)===0)break e;case"keydown":case"keyup":m=Fy;break;case"focusin":S="focus",m=xa;break;case"focusout":S="blur",m=xa;break;case"beforeblur":case"afterblur":m=xa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Cy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Uy;break;case Ip:case Mp:case Fp:m=by;break;case Dp:m=$y;break;case"scroll":m=Ey;break;case"wheel":m=Hy;break;case"copy":case"cut":case"paste":m=Oy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=id}var E=(t&4)!==0,F=!E&&e==="scroll",g=E?v!==null?v+"Capture":null:v;E=[];for(var _=c,x;_!==null;){x=_;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,g!==null&&(k=Fs(_,g),k!=null&&E.push(Hs(_,k,x)))),F)break;_=_.return}0<E.length&&(v=new m(v,S,null,n,f),y.push({event:v,listeners:E}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",v&&n!==dl&&(S=n.relatedTarget||n.fromElement)&&(ur(S)||S[xn]))break e;if((m||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=c,S=S?ur(S):null,S!==null&&(F=xr(S),S!==F||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=c),m!==S)){if(E=sd,k="onMouseLeave",g="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(E=id,k="onPointerLeave",g="onPointerEnter",_="pointer"),F=m==null?v:Ir(m),x=S==null?v:Ir(S),v=new E(k,_+"leave",m,n,f),v.target=F,v.relatedTarget=x,k=null,ur(f)===c&&(E=new E(g,_+"enter",S,n,f),E.target=x,E.relatedTarget=F,k=E),F=k,m&&S)t:{for(E=m,g=S,_=0,x=E;x;x=jr(x))_++;for(x=0,k=g;k;k=jr(k))x++;for(;0<_-x;)E=jr(E),_--;for(;0<x-_;)g=jr(g),x--;for(;_--;){if(E===g||g!==null&&E===g.alternate)break t;E=jr(E),g=jr(g)}E=null}else E=null;m!==null&&yd(y,v,m,E,!1),S!==null&&F!==null&&yd(y,F,S,E,!0)}}e:{if(v=c?Ir(c):window,m=v.nodeName&&v.nodeName.toLowerCase(),m==="select"||m==="input"&&v.type==="file")var T=Jy;else if(ud(v))if(Op)T=tv;else{T=Zy;var A=Xy}else(m=v.nodeName)&&m.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(T=ev);if(T&&(T=T(e,c))){Tp(y,T,n,f);break e}A&&A(e,v,c),e==="focusout"&&(A=v._wrapperState)&&A.controlled&&v.type==="number"&&il(v,"number",v.value)}switch(A=c?Ir(c):window,e){case"focusin":(ud(A)||A.contentEditable==="true")&&(Ar=A,vl=c,Os=null);break;case"focusout":Os=vl=Ar=null;break;case"mousedown":wl=!0;break;case"contextmenu":case"mouseup":case"dragend":wl=!1,hd(y,n,f);break;case"selectionchange":if(sv)break;case"keydown":case"keyup":hd(y,n,f)}var I;if(ku)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Pr?jp(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Np&&n.locale!=="ko"&&(Pr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Pr&&(I=Cp()):(Mn=f,xu="value"in Mn?Mn.value:Mn.textContent,Pr=!0)),A=yi(c,P),0<A.length&&(P=new od(P,e,null,n,f),y.push({event:P,listeners:A}),I?P.data=I:(I=bp(n),I!==null&&(P.data=I)))),(I=Gy?Wy(e,n):Ky(e,n))&&(c=yi(c,"onBeforeInput"),0<c.length&&(f=new od("onBeforeInput","beforeinput",null,n,f),y.push({event:f,listeners:c}),f.data=I))}Up(y,t)})}function Hs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Fs(e,n),o!=null&&r.unshift(Hs(e,o,s)),o=Fs(e,t),o!=null&&r.push(Hs(e,o,s))),e=e.return}return r}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yd(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Fs(n,o),u!=null&&i.unshift(Hs(n,u,l))):s||(u=Fs(n,o),u!=null&&i.push(Hs(n,u,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var lv=/\r\n?/g,uv=/\u0000|\uFFFD/g;function vd(e){return(typeof e=="string"?e:""+e).replace(lv,`
`).replace(uv,"")}function Lo(e,t,n){if(t=vd(t),vd(e)!==t&&n)throw Error(B(425))}function vi(){}var _l=null,xl=null;function Sl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var El=typeof setTimeout=="function"?setTimeout:void 0,cv=typeof clearTimeout=="function"?clearTimeout:void 0,wd=typeof Promise=="function"?Promise:void 0,dv=typeof queueMicrotask=="function"?queueMicrotask:typeof wd<"u"?function(e){return wd.resolve(null).then(e).catch(fv)}:El;function fv(e){setTimeout(function(){throw e})}function Ta(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Us(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Us(t)}function $n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _d(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var os=Math.random().toString(36).slice(2),an="__reactFiber$"+os,qs="__reactProps$"+os,xn="__reactContainer$"+os,kl="__reactEvents$"+os,pv="__reactListeners$"+os,hv="__reactHandles$"+os;function ur(e){var t=e[an];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xn]||n[an]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_d(e);e!==null;){if(n=e[an])return n;e=_d(e)}return t}e=n,n=e.parentNode}return null}function no(e){return e=e[an]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function zi(e){return e[qs]||null}var Cl=[],Mr=-1;function Jn(e){return{current:e}}function Ce(e){0>Mr||(e.current=Cl[Mr],Cl[Mr]=null,Mr--)}function Ee(e,t){Mr++,Cl[Mr]=e.current,e.current=t}var Kn={},it=Jn(Kn),ht=Jn(!1),hr=Kn;function Yr(e,t){var n=e.type.contextTypes;if(!n)return Kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function mt(e){return e=e.childContextTypes,e!=null}function wi(){Ce(ht),Ce(it)}function xd(e,t,n){if(it.current!==Kn)throw Error(B(168));Ee(it,t),Ee(ht,n)}function $p(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(B(108,Xg(e)||"Unknown",s));return Pe({},n,r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kn,hr=it.current,Ee(it,e),Ee(ht,ht.current),!0}function Sd(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=$p(e,t,hr),r.__reactInternalMemoizedMergedChildContext=e,Ce(ht),Ce(it),Ee(it,e)):Ce(ht),Ee(ht,n)}var mn=null,$i=!1,Oa=!1;function Vp(e){mn===null?mn=[e]:mn.push(e)}function mv(e){$i=!0,Vp(e)}function Xn(){if(!Oa&&mn!==null){Oa=!0;var e=0,t=we;try{var n=mn;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}mn=null,$i=!1}catch(s){throw mn!==null&&(mn=mn.slice(e+1)),hp(yu,Xn),s}finally{we=t,Oa=!1}}return null}var Fr=[],Dr=0,xi=null,Si=0,jt=[],bt=0,mr=null,yn=1,vn="";function ar(e,t){Fr[Dr++]=Si,Fr[Dr++]=xi,xi=e,Si=t}function Hp(e,t,n){jt[bt++]=yn,jt[bt++]=vn,jt[bt++]=mr,mr=e;var r=yn;e=vn;var s=32-Qt(r)-1;r&=~(1<<s),n+=1;var o=32-Qt(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,yn=1<<32-Qt(t)+s|n<<s|r,vn=o+e}else yn=1<<o|n<<s|r,vn=e}function Nu(e){e.return!==null&&(ar(e,1),Hp(e,1,0))}function ju(e){for(;e===xi;)xi=Fr[--Dr],Fr[Dr]=null,Si=Fr[--Dr],Fr[Dr]=null;for(;e===mr;)mr=jt[--bt],jt[bt]=null,vn=jt[--bt],jt[bt]=null,yn=jt[--bt],jt[bt]=null}var _t=null,wt=null,Ne=!1,Wt=null;function qp(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ed(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_t=e,wt=$n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_t=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mr!==null?{id:yn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,_t=e,wt=null,!0):!1;default:return!1}}function Nl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jl(e){if(Ne){var t=wt;if(t){var n=t;if(!Ed(e,t)){if(Nl(e))throw Error(B(418));t=$n(n.nextSibling);var r=_t;t&&Ed(e,t)?qp(r,n):(e.flags=e.flags&-4097|2,Ne=!1,_t=e)}}else{if(Nl(e))throw Error(B(418));e.flags=e.flags&-4097|2,Ne=!1,_t=e}}}function kd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function Io(e){if(e!==_t)return!1;if(!Ne)return kd(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sl(e.type,e.memoizedProps)),t&&(t=wt)){if(Nl(e))throw Gp(),Error(B(418));for(;t;)qp(e,t),t=$n(t.nextSibling)}if(kd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=$n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=_t?$n(e.stateNode.nextSibling):null;return!0}function Gp(){for(var e=wt;e;)e=$n(e.nextSibling)}function Jr(){wt=_t=null,Ne=!1}function bu(e){Wt===null?Wt=[e]:Wt.push(e)}var gv=Cn.ReactCurrentBatchConfig;function ms(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Mo(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cd(e){var t=e._init;return t(e._payload)}function Wp(e){function t(g,_){if(e){var x=g.deletions;x===null?(g.deletions=[_],g.flags|=16):x.push(_)}}function n(g,_){if(!e)return null;for(;_!==null;)t(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function s(g,_){return g=Gn(g,_),g.index=0,g.sibling=null,g}function o(g,_,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<_?(g.flags|=2,_):x):(g.flags|=2,_)):(g.flags|=1048576,_)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,_,x,k){return _===null||_.tag!==6?(_=Fa(x,g.mode,k),_.return=g,_):(_=s(_,x),_.return=g,_)}function u(g,_,x,k){var T=x.type;return T===Rr?f(g,_,x.props.children,k,x.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Pn&&Cd(T)===_.type)?(k=s(_,x.props),k.ref=ms(g,_,x),k.return=g,k):(k=si(x.type,x.key,x.props,null,g.mode,k),k.ref=ms(g,_,x),k.return=g,k)}function c(g,_,x,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=Da(x,g.mode,k),_.return=g,_):(_=s(_,x.children||[]),_.return=g,_)}function f(g,_,x,k,T){return _===null||_.tag!==7?(_=pr(x,g.mode,k,T),_.return=g,_):(_=s(_,x),_.return=g,_)}function y(g,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Fa(""+_,g.mode,x),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Co:return x=si(_.type,_.key,_.props,null,g.mode,x),x.ref=ms(g,null,_),x.return=g,x;case Or:return _=Da(_,g.mode,x),_.return=g,_;case Pn:var k=_._init;return y(g,k(_._payload),x)}if(Ss(_)||cs(_))return _=pr(_,g.mode,x,null),_.return=g,_;Mo(g,_)}return null}function v(g,_,x,k){var T=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:l(g,_,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Co:return x.key===T?u(g,_,x,k):null;case Or:return x.key===T?c(g,_,x,k):null;case Pn:return T=x._init,v(g,_,T(x._payload),k)}if(Ss(x)||cs(x))return T!==null?null:f(g,_,x,k,null);Mo(g,x)}return null}function m(g,_,x,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(x)||null,l(_,g,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Co:return g=g.get(k.key===null?x:k.key)||null,u(_,g,k,T);case Or:return g=g.get(k.key===null?x:k.key)||null,c(_,g,k,T);case Pn:var A=k._init;return m(g,_,x,A(k._payload),T)}if(Ss(k)||cs(k))return g=g.get(x)||null,f(_,g,k,T,null);Mo(_,k)}return null}function S(g,_,x,k){for(var T=null,A=null,I=_,P=_=0,q=null;I!==null&&P<x.length;P++){I.index>P?(q=I,I=null):q=I.sibling;var L=v(g,I,x[P],k);if(L===null){I===null&&(I=q);break}e&&I&&L.alternate===null&&t(g,I),_=o(L,_,P),A===null?T=L:A.sibling=L,A=L,I=q}if(P===x.length)return n(g,I),Ne&&ar(g,P),T;if(I===null){for(;P<x.length;P++)I=y(g,x[P],k),I!==null&&(_=o(I,_,P),A===null?T=I:A.sibling=I,A=I);return Ne&&ar(g,P),T}for(I=r(g,I);P<x.length;P++)q=m(I,g,P,x[P],k),q!==null&&(e&&q.alternate!==null&&I.delete(q.key===null?P:q.key),_=o(q,_,P),A===null?T=q:A.sibling=q,A=q);return e&&I.forEach(function($){return t(g,$)}),Ne&&ar(g,P),T}function E(g,_,x,k){var T=cs(x);if(typeof T!="function")throw Error(B(150));if(x=T.call(x),x==null)throw Error(B(151));for(var A=T=null,I=_,P=_=0,q=null,L=x.next();I!==null&&!L.done;P++,L=x.next()){I.index>P?(q=I,I=null):q=I.sibling;var $=v(g,I,L.value,k);if($===null){I===null&&(I=q);break}e&&I&&$.alternate===null&&t(g,I),_=o($,_,P),A===null?T=$:A.sibling=$,A=$,I=q}if(L.done)return n(g,I),Ne&&ar(g,P),T;if(I===null){for(;!L.done;P++,L=x.next())L=y(g,L.value,k),L!==null&&(_=o(L,_,P),A===null?T=L:A.sibling=L,A=L);return Ne&&ar(g,P),T}for(I=r(g,I);!L.done;P++,L=x.next())L=m(I,g,P,L.value,k),L!==null&&(e&&L.alternate!==null&&I.delete(L.key===null?P:L.key),_=o(L,_,P),A===null?T=L:A.sibling=L,A=L);return e&&I.forEach(function(G){return t(g,G)}),Ne&&ar(g,P),T}function F(g,_,x,k){if(typeof x=="object"&&x!==null&&x.type===Rr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Co:e:{for(var T=x.key,A=_;A!==null;){if(A.key===T){if(T=x.type,T===Rr){if(A.tag===7){n(g,A.sibling),_=s(A,x.props.children),_.return=g,g=_;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Pn&&Cd(T)===A.type){n(g,A.sibling),_=s(A,x.props),_.ref=ms(g,A,x),_.return=g,g=_;break e}n(g,A);break}else t(g,A);A=A.sibling}x.type===Rr?(_=pr(x.props.children,g.mode,k,x.key),_.return=g,g=_):(k=si(x.type,x.key,x.props,null,g.mode,k),k.ref=ms(g,_,x),k.return=g,g=k)}return i(g);case Or:e:{for(A=x.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(g,_.sibling),_=s(_,x.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else t(g,_);_=_.sibling}_=Da(x,g.mode,k),_.return=g,g=_}return i(g);case Pn:return A=x._init,F(g,_,A(x._payload),k)}if(Ss(x))return S(g,_,x,k);if(cs(x))return E(g,_,x,k);Mo(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(g,_.sibling),_=s(_,x),_.return=g,g=_):(n(g,_),_=Fa(x,g.mode,k),_.return=g,g=_),i(g)):n(g,_)}return F}var Xr=Wp(!0),Kp=Wp(!1),Ei=Jn(null),ki=null,Br=null,Tu=null;function Ou(){Tu=Br=ki=null}function Ru(e){var t=Ei.current;Ce(Ei),e._currentValue=t}function bl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gr(e,t){ki=e,Tu=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pt=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(Tu!==e)if(e={context:e,memoizedValue:t,next:null},Br===null){if(ki===null)throw Error(B(308));Br=e,ki.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return t}var cr=null;function Pu(e){cr===null?cr=[e]:cr.push(e)}function Qp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Pu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Sn(e,r)}function Sn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var An=!1;function Au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Sn(e,n)}return s=r.interleaved,s===null?(t.next=t,Pu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Sn(e,n)}function Xo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vu(e,n)}}function Nd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ci(e,t,n,r){var s=e.updateQueue;An=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,i===null?o=c:i.next=c,i=u;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==i&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(o!==null){var y=s.baseState;i=0,f=c=u=null,l=o;do{var v=l.lane,m=l.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=e,E=l;switch(v=t,m=n,E.tag){case 1:if(S=E.payload,typeof S=="function"){y=S.call(m,y,v);break e}y=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,v=typeof S=="function"?S.call(m,y,v):S,v==null)break e;y=Pe({},y,v);break e;case 2:An=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[l]:v.push(l))}else m={eventTime:m,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=m,u=y):f=f.next=m,i|=v;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;v=l,l=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(f===null&&(u=y),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);yr|=i,e.lanes=i,e.memoizedState=y}}function jd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var ro={},un=Jn(ro),Gs=Jn(ro),Ws=Jn(ro);function dr(e){if(e===ro)throw Error(B(174));return e}function Lu(e,t){switch(Ee(Ws,t),Ee(Gs,e),Ee(un,ro),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ll(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ll(t,e)}Ce(un),Ee(un,t)}function Zr(){Ce(un),Ce(Gs),Ce(Ws)}function Jp(e){dr(Ws.current);var t=dr(un.current),n=ll(t,e.type);t!==n&&(Ee(Gs,e),Ee(un,n))}function Iu(e){Gs.current===e&&(Ce(un),Ce(Gs))}var Oe=Jn(0);function Ni(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra=[];function Mu(){for(var e=0;e<Ra.length;e++)Ra[e]._workInProgressVersionPrimary=null;Ra.length=0}var Zo=Cn.ReactCurrentDispatcher,Pa=Cn.ReactCurrentBatchConfig,gr=0,Re=null,qe=null,Qe=null,ji=!1,Rs=!1,Ks=0,yv=0;function rt(){throw Error(B(321))}function Fu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function Du(e,t,n,r,s,o){if(gr=o,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zo.current=e===null||e.memoizedState===null?xv:Sv,e=n(r,s),Rs){o=0;do{if(Rs=!1,Ks=0,25<=o)throw Error(B(301));o+=1,Qe=qe=null,t.updateQueue=null,Zo.current=Ev,e=n(r,s)}while(Rs)}if(Zo.current=bi,t=qe!==null&&qe.next!==null,gr=0,Qe=qe=Re=null,ji=!1,t)throw Error(B(300));return e}function Bu(){var e=Ks!==0;return Ks=0,e}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Re.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function At(){if(qe===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Qe===null?Re.memoizedState:Qe.next;if(t!==null)Qe=t,qe=e;else{if(e===null)throw Error(B(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Qe===null?Re.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Qs(e,t){return typeof t=="function"?t(e):t}function Aa(e){var t=At(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=qe,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,u=null,c=o;do{var f=c.lane;if((gr&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var y={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=y,i=r):u=u.next=y,Re.lanes|=f,yr|=f}c=c.next}while(c!==null&&c!==o);u===null?i=r:u.next=l,Jt(r,t.memoizedState)||(pt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Re.lanes|=o,yr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function La(e){var t=At(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Jt(o,t.memoizedState)||(pt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Xp(){}function Zp(e,t){var n=Re,r=At(),s=t(),o=!Jt(r.memoizedState,s);if(o&&(r.memoizedState=s,pt=!0),r=r.queue,Uu(nh.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Ys(9,th.bind(null,n,r,s,t),void 0,null),Ye===null)throw Error(B(349));gr&30||eh(n,t,s)}return s}function eh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function th(e,t,n,r){t.value=n,t.getSnapshot=r,rh(t)&&sh(e)}function nh(e,t,n){return n(function(){rh(t)&&sh(e)})}function rh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jt(e,n)}catch{return!0}}function sh(e){var t=Sn(e,1);t!==null&&Yt(t,e,1,-1)}function bd(e){var t=on();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e},t.queue=e,e=e.dispatch=_v.bind(null,Re,e),[t.memoizedState,e]}function Ys(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function oh(){return At().memoizedState}function ei(e,t,n,r){var s=on();Re.flags|=e,s.memoizedState=Ys(1|t,n,void 0,r===void 0?null:r)}function Vi(e,t,n,r){var s=At();r=r===void 0?null:r;var o=void 0;if(qe!==null){var i=qe.memoizedState;if(o=i.destroy,r!==null&&Fu(r,i.deps)){s.memoizedState=Ys(t,n,o,r);return}}Re.flags|=e,s.memoizedState=Ys(1|t,n,o,r)}function Td(e,t){return ei(8390656,8,e,t)}function Uu(e,t){return Vi(2048,8,e,t)}function ih(e,t){return Vi(4,2,e,t)}function ah(e,t){return Vi(4,4,e,t)}function lh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uh(e,t,n){return n=n!=null?n.concat([e]):null,Vi(4,4,lh.bind(null,t,e),n)}function zu(){}function ch(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dh(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fh(e,t,n){return gr&21?(Jt(n,t)||(n=yp(),Re.lanes|=n,yr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n)}function vv(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=Pa.transition;Pa.transition={};try{e(!1),t()}finally{we=n,Pa.transition=r}}function ph(){return At().memoizedState}function wv(e,t,n){var r=qn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hh(e))mh(t,n);else if(n=Qp(e,t,n,r),n!==null){var s=ut();Yt(n,e,r,s),gh(n,t,r)}}function _v(e,t,n){var r=qn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hh(e))mh(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,Jt(l,i)){var u=t.interleaved;u===null?(s.next=s,Pu(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Qp(e,t,s,r),n!==null&&(s=ut(),Yt(n,e,r,s),gh(n,t,r))}}function hh(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function mh(e,t){Rs=ji=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vu(e,n)}}var bi={readContext:Pt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},xv={readContext:Pt,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:Td,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ei(4194308,4,lh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return ei(4,2,e,t)},useMemo:function(e,t){var n=on();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=on();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wv.bind(null,Re,e),[r.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:bd,useDebugValue:zu,useDeferredValue:function(e){return on().memoizedState=e},useTransition:function(){var e=bd(!1),t=e[0];return e=vv.bind(null,e[1]),on().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Re,s=on();if(Ne){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Ye===null)throw Error(B(349));gr&30||eh(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Td(nh.bind(null,r,o,e),[e]),r.flags|=2048,Ys(9,th.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=on(),t=Ye.identifierPrefix;if(Ne){var n=vn,r=yn;n=(r&~(1<<32-Qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ks++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sv={readContext:Pt,useCallback:ch,useContext:Pt,useEffect:Uu,useImperativeHandle:uh,useInsertionEffect:ih,useLayoutEffect:ah,useMemo:dh,useReducer:Aa,useRef:oh,useState:function(){return Aa(Qs)},useDebugValue:zu,useDeferredValue:function(e){var t=At();return fh(t,qe.memoizedState,e)},useTransition:function(){var e=Aa(Qs)[0],t=At().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Zp,useId:ph,unstable_isNewReconciler:!1},Ev={readContext:Pt,useCallback:ch,useContext:Pt,useEffect:Uu,useImperativeHandle:uh,useInsertionEffect:ih,useLayoutEffect:ah,useMemo:dh,useReducer:La,useRef:oh,useState:function(){return La(Qs)},useDebugValue:zu,useDeferredValue:function(e){var t=At();return qe===null?t.memoizedState=e:fh(t,qe.memoizedState,e)},useTransition:function(){var e=La(Qs)[0],t=At().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Zp,useId:ph,unstable_isNewReconciler:!1};function Ht(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hi={isMounted:function(e){return(e=e._reactInternals)?xr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ut(),s=qn(e),o=wn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Vn(e,o,s),t!==null&&(Yt(t,e,s,r),Xo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ut(),s=qn(e),o=wn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Vn(e,o,s),t!==null&&(Yt(t,e,s,r),Xo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ut(),r=qn(e),s=wn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vn(e,s,r),t!==null&&(Yt(t,e,r,n),Xo(t,e,r))}};function Od(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!$s(n,r)||!$s(s,o):!0}function yh(e,t,n){var r=!1,s=Kn,o=t.contextType;return typeof o=="object"&&o!==null?o=Pt(o):(s=mt(t)?hr:it.current,r=t.contextTypes,o=(r=r!=null)?Yr(e,s):Kn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Rd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hi.enqueueReplaceState(t,t.state,null)}function Ol(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Au(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Pt(o):(o=mt(t)?hr:it.current,s.context=Yr(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Tl(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Hi.enqueueReplaceState(s,s.state,null),Ci(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function es(e,t){try{var n="",r=t;do n+=Jg(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Ia(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kv=typeof WeakMap=="function"?WeakMap:Map;function vh(e,t,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Oi||(Oi=!0,zl=r),Rl(e,t)},n}function wh(e,t,n){n=wn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Rl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Rl(e,t),typeof r!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Pd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Dv.bind(null,e,t,n),t.then(e,e))}function Ad(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ld(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wn(-1,1),t.tag=2,Vn(n,t,1))),n.lanes|=1),e)}var Cv=Cn.ReactCurrentOwner,pt=!1;function at(e,t,n,r){t.child=e===null?Kp(t,null,n,r):Xr(t,e.child,n,r)}function Id(e,t,n,r,s){n=n.render;var o=t.ref;return Gr(t,s),r=Du(e,t,n,r,o,s),n=Bu(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,En(e,t,s)):(Ne&&n&&Nu(t),t.flags|=1,at(e,t,r,s),t.child)}function Md(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Qu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,_h(e,t,o,r,s)):(e=si(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:$s,n(i,r)&&e.ref===t.ref)return En(e,t,s)}return t.flags|=1,e=Gn(o,r),e.ref=t.ref,e.return=t,t.child=e}function _h(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if($s(o,r)&&e.ref===t.ref)if(pt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,En(e,t,s)}return Pl(e,t,n,r,s)}function xh(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(zr,yt),yt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(zr,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ee(zr,yt),yt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ee(zr,yt),yt|=r;return at(e,t,s,n),t.child}function Sh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pl(e,t,n,r,s){var o=mt(n)?hr:it.current;return o=Yr(t,o),Gr(t,s),n=Du(e,t,n,r,o,s),r=Bu(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,En(e,t,s)):(Ne&&r&&Nu(t),t.flags|=1,at(e,t,n,s),t.child)}function Fd(e,t,n,r,s){if(mt(n)){var o=!0;_i(t)}else o=!1;if(Gr(t,s),t.stateNode===null)ti(e,t),yh(t,n,r),Ol(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pt(c):(c=mt(n)?hr:it.current,c=Yr(t,c));var f=n.getDerivedStateFromProps,y=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";y||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Rd(t,i,r,c),An=!1;var v=t.memoizedState;i.state=v,Ci(t,r,i,s),u=t.memoizedState,l!==r||v!==u||ht.current||An?(typeof f=="function"&&(Tl(t,n,f,r),u=t.memoizedState),(l=An||Od(t,n,l,r,v,u,c))?(y||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Yp(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Ht(t.type,l),i.props=c,y=t.pendingProps,v=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=Pt(u):(u=mt(n)?hr:it.current,u=Yr(t,u));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==y||v!==u)&&Rd(t,i,r,u),An=!1,v=t.memoizedState,i.state=v,Ci(t,r,i,s);var S=t.memoizedState;l!==y||v!==S||ht.current||An?(typeof m=="function"&&(Tl(t,n,m,r),S=t.memoizedState),(c=An||Od(t,n,c,r,v,S,u)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,S,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,S,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),i.props=r,i.state=S,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return Al(e,t,n,r,o,s)}function Al(e,t,n,r,s,o){Sh(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Sd(t,n,!1),En(e,t,o);r=t.stateNode,Cv.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Xr(t,e.child,null,o),t.child=Xr(t,null,l,o)):at(e,t,l,o),t.memoizedState=r.state,s&&Sd(t,n,!0),t.child}function Eh(e){var t=e.stateNode;t.pendingContext?xd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xd(e,t.context,!1),Lu(e,t.containerInfo)}function Dd(e,t,n,r,s){return Jr(),bu(s),t.flags|=256,at(e,t,n,r),t.child}var Ll={dehydrated:null,treeContext:null,retryLane:0};function Il(e){return{baseLanes:e,cachePool:null,transitions:null}}function kh(e,t,n){var r=t.pendingProps,s=Oe.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ee(Oe,s&1),e===null)return jl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Wi(i,r,0,null),e=pr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Il(n),t.memoizedState=Ll,e):$u(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Nv(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Gn(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Gn(l,o):(o=pr(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Il(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Ll,r}return o=e.child,e=o.sibling,r=Gn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $u(e,t){return t=Wi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fo(e,t,n,r){return r!==null&&bu(r),Xr(t,e.child,null,n),e=$u(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nv(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Ia(Error(B(422))),Fo(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Wi({mode:"visible",children:r.children},s,0,null),o=pr(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Xr(t,e.child,null,i),t.child.memoizedState=Il(i),t.memoizedState=Ll,o);if(!(t.mode&1))return Fo(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(B(419)),r=Ia(o,r,void 0),Fo(e,t,i,r)}if(l=(i&e.childLanes)!==0,pt||l){if(r=Ye,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Sn(e,s),Yt(r,e,s,-1))}return Ku(),r=Ia(Error(B(421))),Fo(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Bv.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,wt=$n(s.nextSibling),_t=t,Ne=!0,Wt=null,e!==null&&(jt[bt++]=yn,jt[bt++]=vn,jt[bt++]=mr,yn=e.id,vn=e.overflow,mr=t),t=$u(t,r.children),t.flags|=4096,t)}function Bd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bl(e.return,t,n)}function Ma(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Ch(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(at(e,t,r.children,n),r=Oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bd(e,n,t);else if(e.tag===19)Bd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(Oe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ni(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ma(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ni(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ma(t,!0,n,null,o);break;case"together":Ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ti(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jv(e,t,n){switch(t.tag){case 3:Eh(t),Jr();break;case 5:Jp(t);break;case 1:mt(t.type)&&_i(t);break;case 4:Lu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ee(Ei,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Oe,Oe.current&1),t.flags|=128,null):n&t.child.childLanes?kh(e,t,n):(Ee(Oe,Oe.current&1),e=En(e,t,n),e!==null?e.sibling:null);Ee(Oe,Oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ch(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(Oe,Oe.current),r)break;return null;case 22:case 23:return t.lanes=0,xh(e,t,n)}return En(e,t,n)}var Nh,Ml,jh,bh;Nh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ml=function(){};jh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,dr(un.current);var o=null;switch(n){case"input":s=sl(e,s),r=sl(e,r),o=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),o=[];break;case"textarea":s=al(e,s),r=al(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vi)}ul(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Is.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Is.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ke("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};bh=function(e,t,n,r){n!==r&&(t.flags|=4)};function gs(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bv(e,t,n){var r=t.pendingProps;switch(ju(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return mt(t.type)&&wi(),st(t),null;case 3:return r=t.stateNode,Zr(),Ce(ht),Ce(it),Mu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Io(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wt!==null&&(Hl(Wt),Wt=null))),Ml(e,t),st(t),null;case 5:Iu(t);var s=dr(Ws.current);if(n=t.type,e!==null&&t.stateNode!=null)jh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return st(t),null}if(e=dr(un.current),Io(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[an]=t,r[qs]=o,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<ks.length;s++)ke(ks[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Kc(r,o),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ke("invalid",r);break;case"textarea":Yc(r,o),ke("invalid",r)}ul(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Lo(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Lo(r.textContent,l,e),s=["children",""+l]):Is.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ke("scroll",r)}switch(n){case"input":No(r),Qc(r,o,!0);break;case"textarea":No(r),Jc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=vi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=np(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[an]=t,e[qs]=r,Nh(e,t,!1,!1),t.stateNode=e;e:{switch(i=cl(n,r),n){case"dialog":ke("cancel",e),ke("close",e),s=r;break;case"iframe":case"object":case"embed":ke("load",e),s=r;break;case"video":case"audio":for(s=0;s<ks.length;s++)ke(ks[s],e);s=r;break;case"source":ke("error",e),s=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),s=r;break;case"details":ke("toggle",e),s=r;break;case"input":Kc(e,r),s=sl(e,r),ke("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),ke("invalid",e);break;case"textarea":Yc(e,r),s=al(e,r),ke("invalid",e);break;default:s=r}ul(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?op(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&rp(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ms(e,u):typeof u=="number"&&Ms(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Is.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ke("scroll",e):u!=null&&fu(e,o,u,i))}switch(n){case"input":No(e),Qc(e,r,!1);break;case"textarea":No(e),Jc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?$r(e,!!r.multiple,o,!1):r.defaultValue!=null&&$r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=vi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)bh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=dr(Ws.current),dr(un.current),Io(t)){if(r=t.stateNode,n=t.memoizedProps,r[an]=t,(o=r.nodeValue!==n)&&(e=_t,e!==null))switch(e.tag){case 3:Lo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[an]=t,t.stateNode=r}return st(t),null;case 13:if(Ce(Oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&wt!==null&&t.mode&1&&!(t.flags&128))Gp(),Jr(),t.flags|=98560,o=!1;else if(o=Io(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(B(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[an]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),o=!1}else Wt!==null&&(Hl(Wt),Wt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?Ge===0&&(Ge=3):Ku())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return Zr(),Ml(e,t),e===null&&Vs(t.stateNode.containerInfo),st(t),null;case 10:return Ru(t.type._context),st(t),null;case 17:return mt(t.type)&&wi(),st(t),null;case 19:if(Ce(Oe),o=t.memoizedState,o===null)return st(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)gs(o,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ni(e),i!==null){for(t.flags|=128,gs(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(Oe,Oe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Me()>ts&&(t.flags|=128,r=!0,gs(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ni(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ne)return st(t),null}else 2*Me()-o.renderingStartTime>ts&&n!==1073741824&&(t.flags|=128,r=!0,gs(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Me(),t.sibling=null,n=Oe.current,Ee(Oe,r?n&1|2:n&1),t):(st(t),null);case 22:case 23:return Wu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yt&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function Tv(e,t){switch(ju(t),t.tag){case 1:return mt(t.type)&&wi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zr(),Ce(ht),Ce(it),Mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Iu(t),null;case 13:if(Ce(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Oe),null;case 4:return Zr(),null;case 10:return Ru(t.type._context),null;case 22:case 23:return Wu(),null;case 24:return null;default:return null}}var Do=!1,ot=!1,Ov=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ur(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(e,t,r)}else n.current=null}function Fl(e,t,n){try{n()}catch(r){Ae(e,t,r)}}var Ud=!1;function Rv(e,t){if(_l=mi,e=Ap(),Cu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,u=-1,c=0,f=0,y=e,v=null;t:for(;;){for(var m;y!==n||s!==0&&y.nodeType!==3||(l=i+s),y!==o||r!==0&&y.nodeType!==3||(u=i+r),y.nodeType===3&&(i+=y.nodeValue.length),(m=y.firstChild)!==null;)v=y,y=m;for(;;){if(y===e)break t;if(v===n&&++c===s&&(l=i),v===o&&++f===r&&(u=i),(m=y.nextSibling)!==null)break;y=v,v=y.parentNode}y=m}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(xl={focusedElem:e,selectionRange:n},mi=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,F=S.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?E:Ht(t.type,E),F);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(k){Ae(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return S=Ud,Ud=!1,S}function Ps(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Fl(t,n,o)}s=s.next}while(s!==r)}}function qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Dl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Th(e){var t=e.alternate;t!==null&&(e.alternate=null,Th(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[an],delete t[qs],delete t[kl],delete t[pv],delete t[hv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oh(e){return e.tag===5||e.tag===3||e.tag===4}function zd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vi));else if(r!==4&&(e=e.child,e!==null))for(Bl(e,t,n),e=e.sibling;e!==null;)Bl(e,t,n),e=e.sibling}function Ul(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}var Je=null,qt=!1;function Rn(e,t,n){for(n=n.child;n!==null;)Rh(e,t,n),n=n.sibling}function Rh(e,t,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Fi,n)}catch{}switch(n.tag){case 5:ot||Ur(n,t);case 6:var r=Je,s=qt;Je=null,Rn(e,t,n),Je=r,qt=s,Je!==null&&(qt?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(qt?(e=Je,n=n.stateNode,e.nodeType===8?Ta(e.parentNode,n):e.nodeType===1&&Ta(e,n),Us(e)):Ta(Je,n.stateNode));break;case 4:r=Je,s=qt,Je=n.stateNode.containerInfo,qt=!0,Rn(e,t,n),Je=r,qt=s;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Fl(n,t,i),s=s.next}while(s!==r)}Rn(e,t,n);break;case 1:if(!ot&&(Ur(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ae(n,t,l)}Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,Rn(e,t,n),ot=r):Rn(e,t,n);break;default:Rn(e,t,n)}}function $d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ov),t.forEach(function(r){var s=Uv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Je=l.stateNode,qt=!1;break e;case 3:Je=l.stateNode.containerInfo,qt=!0;break e;case 4:Je=l.stateNode.containerInfo,qt=!0;break e}l=l.return}if(Je===null)throw Error(B(160));Rh(o,i,s),Je=null,qt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Ae(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ph(t,e),t=t.sibling}function Ph(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),rn(e),r&4){try{Ps(3,e,e.return),qi(3,e)}catch(E){Ae(e,e.return,E)}try{Ps(5,e,e.return)}catch(E){Ae(e,e.return,E)}}break;case 1:Bt(t,e),rn(e),r&512&&n!==null&&Ur(n,n.return);break;case 5:if(Bt(t,e),rn(e),r&512&&n!==null&&Ur(n,n.return),e.flags&32){var s=e.stateNode;try{Ms(s,"")}catch(E){Ae(e,e.return,E)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&ep(s,o),cl(l,i);var c=cl(l,o);for(i=0;i<u.length;i+=2){var f=u[i],y=u[i+1];f==="style"?op(s,y):f==="dangerouslySetInnerHTML"?rp(s,y):f==="children"?Ms(s,y):fu(s,f,y,c)}switch(l){case"input":ol(s,o);break;case"textarea":tp(s,o);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?$r(s,!!o.multiple,m,!1):v!==!!o.multiple&&(o.defaultValue!=null?$r(s,!!o.multiple,o.defaultValue,!0):$r(s,!!o.multiple,o.multiple?[]:"",!1))}s[qs]=o}catch(E){Ae(e,e.return,E)}}break;case 6:if(Bt(t,e),rn(e),r&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(E){Ae(e,e.return,E)}}break;case 3:if(Bt(t,e),rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Us(t.containerInfo)}catch(E){Ae(e,e.return,E)}break;case 4:Bt(t,e),rn(e);break;case 13:Bt(t,e),rn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(qu=Me())),r&4&&$d(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(c=ot)||f,Bt(t,e),ot=c):Bt(t,e),rn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(X=e,f=e.child;f!==null;){for(y=X=f;X!==null;){switch(v=X,m=v.child,v.tag){case 0:case 11:case 14:case 15:Ps(4,v,v.return);break;case 1:Ur(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(E){Ae(r,n,E)}}break;case 5:Ur(v,v.return);break;case 22:if(v.memoizedState!==null){Hd(y);continue}}m!==null?(m.return=v,X=m):Hd(y)}f=f.sibling}e:for(f=null,y=e;;){if(y.tag===5){if(f===null){f=y;try{s=y.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=y.stateNode,u=y.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=sp("display",i))}catch(E){Ae(e,e.return,E)}}}else if(y.tag===6){if(f===null)try{y.stateNode.nodeValue=c?"":y.memoizedProps}catch(E){Ae(e,e.return,E)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;f===y&&(f=null),y=y.return}f===y&&(f=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Bt(t,e),rn(e),r&4&&$d(e);break;case 21:break;default:Bt(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Oh(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ms(s,""),r.flags&=-33);var o=zd(e);Ul(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=zd(e);Bl(e,l,i);break;default:throw Error(B(161))}}catch(u){Ae(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pv(e,t,n){X=e,Ah(e)}function Ah(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var s=X,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Do;if(!i){var l=s.alternate,u=l!==null&&l.memoizedState!==null||ot;l=Do;var c=ot;if(Do=i,(ot=u)&&!c)for(X=s;X!==null;)i=X,u=i.child,i.tag===22&&i.memoizedState!==null?qd(s):u!==null?(u.return=i,X=u):qd(s);for(;o!==null;)X=o,Ah(o),o=o.sibling;X=s,Do=l,ot=c}Vd(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,X=o):Vd(e)}}function Vd(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||qi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ht(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&jd(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jd(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var y=f.dehydrated;y!==null&&Us(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ot||t.flags&512&&Dl(t)}catch(v){Ae(t,t.return,v)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Hd(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function qd(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qi(4,t)}catch(u){Ae(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){Ae(t,s,u)}}var o=t.return;try{Dl(t)}catch(u){Ae(t,o,u)}break;case 5:var i=t.return;try{Dl(t)}catch(u){Ae(t,i,u)}}}catch(u){Ae(t,t.return,u)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var Av=Math.ceil,Ti=Cn.ReactCurrentDispatcher,Vu=Cn.ReactCurrentOwner,Rt=Cn.ReactCurrentBatchConfig,ge=0,Ye=null,Be=null,Ze=0,yt=0,zr=Jn(0),Ge=0,Js=null,yr=0,Gi=0,Hu=0,As=null,ft=null,qu=0,ts=1/0,hn=null,Oi=!1,zl=null,Hn=null,Bo=!1,Fn=null,Ri=0,Ls=0,$l=null,ni=-1,ri=0;function ut(){return ge&6?Me():ni!==-1?ni:ni=Me()}function qn(e){return e.mode&1?ge&2&&Ze!==0?Ze&-Ze:gv.transition!==null?(ri===0&&(ri=yp()),ri):(e=we,e!==0||(e=window.event,e=e===void 0?16:kp(e.type)),e):1}function Yt(e,t,n,r){if(50<Ls)throw Ls=0,$l=null,Error(B(185));eo(e,n,r),(!(ge&2)||e!==Ye)&&(e===Ye&&(!(ge&2)&&(Gi|=n),Ge===4&&In(e,Ze)),gt(e,r),n===1&&ge===0&&!(t.mode&1)&&(ts=Me()+500,$i&&Xn()))}function gt(e,t){var n=e.callbackNode;gy(e,t);var r=hi(e,e===Ye?Ze:0);if(r===0)n!==null&&ed(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ed(n),t===1)e.tag===0?mv(Gd.bind(null,e)):Vp(Gd.bind(null,e)),dv(function(){!(ge&6)&&Xn()}),n=null;else{switch(vp(r)){case 1:n=yu;break;case 4:n=mp;break;case 16:n=pi;break;case 536870912:n=gp;break;default:n=pi}n=zh(n,Lh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lh(e,t){if(ni=-1,ri=0,ge&6)throw Error(B(327));var n=e.callbackNode;if(Wr()&&e.callbackNode!==n)return null;var r=hi(e,e===Ye?Ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Pi(e,r);else{t=r;var s=ge;ge|=2;var o=Mh();(Ye!==e||Ze!==t)&&(hn=null,ts=Me()+500,fr(e,t));do try{Mv();break}catch(l){Ih(e,l)}while(!0);Ou(),Ti.current=o,ge=s,Be!==null?t=0:(Ye=null,Ze=0,t=Ge)}if(t!==0){if(t===2&&(s=ml(e),s!==0&&(r=s,t=Vl(e,s))),t===1)throw n=Js,fr(e,0),In(e,r),gt(e,Me()),n;if(t===6)In(e,r);else{if(s=e.current.alternate,!(r&30)&&!Lv(s)&&(t=Pi(e,r),t===2&&(o=ml(e),o!==0&&(r=o,t=Vl(e,o))),t===1))throw n=Js,fr(e,0),In(e,r),gt(e,Me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:lr(e,ft,hn);break;case 3:if(In(e,r),(r&130023424)===r&&(t=qu+500-Me(),10<t)){if(hi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ut(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=El(lr.bind(null,e,ft,hn),t);break}lr(e,ft,hn);break;case 4:if(In(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Qt(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Av(r/1960))-r,10<r){e.timeoutHandle=El(lr.bind(null,e,ft,hn),r);break}lr(e,ft,hn);break;case 5:lr(e,ft,hn);break;default:throw Error(B(329))}}}return gt(e,Me()),e.callbackNode===n?Lh.bind(null,e):null}function Vl(e,t){var n=As;return e.current.memoizedState.isDehydrated&&(fr(e,t).flags|=256),e=Pi(e,t),e!==2&&(t=ft,ft=n,t!==null&&Hl(t)),e}function Hl(e){ft===null?ft=e:ft.push.apply(ft,e)}function Lv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Jt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function In(e,t){for(t&=~Hu,t&=~Gi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qt(t),r=1<<n;e[n]=-1,t&=~r}}function Gd(e){if(ge&6)throw Error(B(327));Wr();var t=hi(e,0);if(!(t&1))return gt(e,Me()),null;var n=Pi(e,t);if(e.tag!==0&&n===2){var r=ml(e);r!==0&&(t=r,n=Vl(e,r))}if(n===1)throw n=Js,fr(e,0),In(e,t),gt(e,Me()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lr(e,ft,hn),gt(e,Me()),null}function Gu(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(ts=Me()+500,$i&&Xn())}}function vr(e){Fn!==null&&Fn.tag===0&&!(ge&6)&&Wr();var t=ge;ge|=1;var n=Rt.transition,r=we;try{if(Rt.transition=null,we=1,e)return e()}finally{we=r,Rt.transition=n,ge=t,!(ge&6)&&Xn()}}function Wu(){yt=zr.current,Ce(zr)}function fr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,cv(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(ju(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wi();break;case 3:Zr(),Ce(ht),Ce(it),Mu();break;case 5:Iu(r);break;case 4:Zr();break;case 13:Ce(Oe);break;case 19:Ce(Oe);break;case 10:Ru(r.type._context);break;case 22:case 23:Wu()}n=n.return}if(Ye=e,Be=e=Gn(e.current,null),Ze=yt=t,Ge=0,Js=null,Hu=Gi=yr=0,ft=As=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}cr=null}return e}function Ih(e,t){do{var n=Be;try{if(Ou(),Zo.current=bi,ji){for(var r=Re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ji=!1}if(gr=0,Qe=qe=Re=null,Rs=!1,Ks=0,Vu.current=null,n===null||n.return===null){Ge=1,Js=t,Be=null;break}e:{var o=e,i=n.return,l=n,u=t;if(t=Ze,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,y=f.tag;if(!(f.mode&1)&&(y===0||y===11||y===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=Ad(i);if(m!==null){m.flags&=-257,Ld(m,i,l,o,t),m.mode&1&&Pd(o,c,t),t=m,u=c;var S=t.updateQueue;if(S===null){var E=new Set;E.add(u),t.updateQueue=E}else S.add(u);break e}else{if(!(t&1)){Pd(o,c,t),Ku();break e}u=Error(B(426))}}else if(Ne&&l.mode&1){var F=Ad(i);if(F!==null){!(F.flags&65536)&&(F.flags|=256),Ld(F,i,l,o,t),bu(es(u,l));break e}}o=u=es(u,l),Ge!==4&&(Ge=2),As===null?As=[o]:As.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=vh(o,u,t);Nd(o,g);break e;case 1:l=u;var _=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Hn===null||!Hn.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=wh(o,l,t);Nd(o,k);break e}}o=o.return}while(o!==null)}Dh(n)}catch(T){t=T,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function Mh(){var e=Ti.current;return Ti.current=bi,e===null?bi:e}function Ku(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ye===null||!(yr&268435455)&&!(Gi&268435455)||In(Ye,Ze)}function Pi(e,t){var n=ge;ge|=2;var r=Mh();(Ye!==e||Ze!==t)&&(hn=null,fr(e,t));do try{Iv();break}catch(s){Ih(e,s)}while(!0);if(Ou(),ge=n,Ti.current=r,Be!==null)throw Error(B(261));return Ye=null,Ze=0,Ge}function Iv(){for(;Be!==null;)Fh(Be)}function Mv(){for(;Be!==null&&!ay();)Fh(Be)}function Fh(e){var t=Uh(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Dh(e):Be=t,Vu.current=null}function Dh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Tv(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Be=null;return}}else if(n=bv(n,t,yt),n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ge===0&&(Ge=5)}function lr(e,t,n){var r=we,s=Rt.transition;try{Rt.transition=null,we=1,Fv(e,t,n,r)}finally{Rt.transition=s,we=r}return null}function Fv(e,t,n,r){do Wr();while(Fn!==null);if(ge&6)throw Error(B(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(yy(e,o),e===Ye&&(Be=Ye=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bo||(Bo=!0,zh(pi,function(){return Wr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Rt.transition,Rt.transition=null;var i=we;we=1;var l=ge;ge|=4,Vu.current=null,Rv(e,n),Ph(n,e),rv(xl),mi=!!_l,xl=_l=null,e.current=n,Pv(n),ly(),ge=l,we=i,Rt.transition=o}else e.current=n;if(Bo&&(Bo=!1,Fn=e,Ri=s),o=e.pendingLanes,o===0&&(Hn=null),dy(n.stateNode),gt(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Oi)throw Oi=!1,e=zl,zl=null,e;return Ri&1&&e.tag!==0&&Wr(),o=e.pendingLanes,o&1?e===$l?Ls++:(Ls=0,$l=e):Ls=0,Xn(),null}function Wr(){if(Fn!==null){var e=vp(Ri),t=Rt.transition,n=we;try{if(Rt.transition=null,we=16>e?16:e,Fn===null)var r=!1;else{if(e=Fn,Fn=null,Ri=0,ge&6)throw Error(B(331));var s=ge;for(ge|=4,X=e.current;X!==null;){var o=X,i=o.child;if(X.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(X=c;X!==null;){var f=X;switch(f.tag){case 0:case 11:case 15:Ps(8,f,o)}var y=f.child;if(y!==null)y.return=f,X=y;else for(;X!==null;){f=X;var v=f.sibling,m=f.return;if(Th(f),f===c){X=null;break}if(v!==null){v.return=m,X=v;break}X=m}}}var S=o.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var F=E.sibling;E.sibling=null,E=F}while(E!==null)}}X=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,X=i;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ps(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,X=g;break e}X=o.return}}var _=e.current;for(X=_;X!==null;){i=X;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,X=x;else e:for(i=_;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qi(9,l)}}catch(T){Ae(l,l.return,T)}if(l===i){X=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,X=k;break e}X=l.return}}if(ge=s,Xn(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Fi,e)}catch{}r=!0}return r}finally{we=n,Rt.transition=t}}return!1}function Wd(e,t,n){t=es(n,t),t=vh(e,t,1),e=Vn(e,t,1),t=ut(),e!==null&&(eo(e,1,t),gt(e,t))}function Ae(e,t,n){if(e.tag===3)Wd(e,e,n);else for(;t!==null;){if(t.tag===3){Wd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hn===null||!Hn.has(r))){e=es(n,e),e=wh(t,e,1),t=Vn(t,e,1),e=ut(),t!==null&&(eo(t,1,e),gt(t,e));break}}t=t.return}}function Dv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ut(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(Ze&n)===n&&(Ge===4||Ge===3&&(Ze&130023424)===Ze&&500>Me()-qu?fr(e,0):Hu|=n),gt(e,t)}function Bh(e,t){t===0&&(e.mode&1?(t=To,To<<=1,!(To&130023424)&&(To=4194304)):t=1);var n=ut();e=Sn(e,t),e!==null&&(eo(e,t,n),gt(e,n))}function Bv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bh(e,n)}function Uv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),Bh(e,n)}var Uh;Uh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pt=!1,jv(e,t,n);pt=!!(e.flags&131072)}else pt=!1,Ne&&t.flags&1048576&&Hp(t,Si,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ti(e,t),e=t.pendingProps;var s=Yr(t,it.current);Gr(t,n),s=Du(null,t,r,e,s,n);var o=Bu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(r)?(o=!0,_i(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Au(t),s.updater=Hi,t.stateNode=s,s._reactInternals=t,Ol(t,r,e,n),t=Al(null,t,r,!0,o,n)):(t.tag=0,Ne&&o&&Nu(t),at(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ti(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=$v(r),e=Ht(r,e),s){case 0:t=Pl(null,t,r,e,n);break e;case 1:t=Fd(null,t,r,e,n);break e;case 11:t=Id(null,t,r,e,n);break e;case 14:t=Md(null,t,r,Ht(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ht(r,s),Pl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ht(r,s),Fd(e,t,r,s,n);case 3:e:{if(Eh(t),e===null)throw Error(B(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Yp(e,t),Ci(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=es(Error(B(423)),t),t=Dd(e,t,r,n,s);break e}else if(r!==s){s=es(Error(B(424)),t),t=Dd(e,t,r,n,s);break e}else for(wt=$n(t.stateNode.containerInfo.firstChild),_t=t,Ne=!0,Wt=null,n=Kp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),r===s){t=En(e,t,n);break e}at(e,t,r,n)}t=t.child}return t;case 5:return Jp(t),e===null&&jl(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Sl(r,s)?i=null:o!==null&&Sl(r,o)&&(t.flags|=32),Sh(e,t),at(e,t,i,n),t.child;case 6:return e===null&&jl(t),null;case 13:return kh(e,t,n);case 4:return Lu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xr(t,null,r,n):at(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ht(r,s),Id(e,t,r,s,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ee(Ei,r._currentValue),r._currentValue=i,o!==null)if(Jt(o.value,i)){if(o.children===s.children&&!ht.current){t=En(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=wn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),bl(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(B(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),bl(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}at(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Gr(t,n),s=Pt(s),r=r(s),t.flags|=1,at(e,t,r,n),t.child;case 14:return r=t.type,s=Ht(r,t.pendingProps),s=Ht(r.type,s),Md(e,t,r,s,n);case 15:return _h(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ht(r,s),ti(e,t),t.tag=1,mt(r)?(e=!0,_i(t)):e=!1,Gr(t,n),yh(t,r,s),Ol(t,r,s,n),Al(null,t,r,!0,e,n);case 19:return Ch(e,t,n);case 22:return xh(e,t,n)}throw Error(B(156,t.tag))};function zh(e,t){return hp(e,t)}function zv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,r){return new zv(e,t,n,r)}function Qu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $v(e){if(typeof e=="function")return Qu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hu)return 11;if(e===mu)return 14}return 2}function Gn(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function si(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Qu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Rr:return pr(n.children,s,o,t);case pu:i=8,s|=8;break;case el:return e=Ot(12,n,t,s|2),e.elementType=el,e.lanes=o,e;case tl:return e=Ot(13,n,t,s),e.elementType=tl,e.lanes=o,e;case nl:return e=Ot(19,n,t,s),e.elementType=nl,e.lanes=o,e;case Jf:return Wi(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qf:i=10;break e;case Yf:i=9;break e;case hu:i=11;break e;case mu:i=14;break e;case Pn:i=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=Ot(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function pr(e,t,n,r){return e=Ot(7,e,r,t),e.lanes=n,e}function Wi(e,t,n,r){return e=Ot(22,e,r,t),e.elementType=Jf,e.lanes=n,e.stateNode={isHidden:!1},e}function Fa(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function Da(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yu(e,t,n,r,s,o,i,l,u){return e=new Vv(e,t,n,l,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ot(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Au(o),e}function Hv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Or,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $h(e){if(!e)return Kn;e=e._reactInternals;e:{if(xr(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(mt(n))return $p(e,n,t)}return t}function Vh(e,t,n,r,s,o,i,l,u){return e=Yu(n,r,!0,e,s,o,i,l,u),e.context=$h(null),n=e.current,r=ut(),s=qn(n),o=wn(r,s),o.callback=t??null,Vn(n,o,s),e.current.lanes=s,eo(e,s,r),gt(e,r),e}function Ki(e,t,n,r){var s=t.current,o=ut(),i=qn(s);return n=$h(n),t.context===null?t.context=n:t.pendingContext=n,t=wn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vn(s,t,i),e!==null&&(Yt(e,s,i,o),Xo(e,s,i)),i}function Ai(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ju(e,t){Kd(e,t),(e=e.alternate)&&Kd(e,t)}function qv(){return null}var Hh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}Qi.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Ki(e,t,null,null)};Qi.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vr(function(){Ki(null,e,null,null)}),t[xn]=null}};function Qi(e){this._internalRoot=e}Qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=xp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ln.length&&t!==0&&t<Ln[n].priority;n++);Ln.splice(n,0,e),n===0&&Ep(e)}};function Zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qd(){}function Gv(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=Ai(i);o.call(c)}}var i=Vh(t,r,e,0,null,!1,!1,"",Qd);return e._reactRootContainer=i,e[xn]=i.current,Vs(e.nodeType===8?e.parentNode:e),vr(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Ai(u);l.call(c)}}var u=Yu(e,0,!1,null,null,!1,!1,"",Qd);return e._reactRootContainer=u,e[xn]=u.current,Vs(e.nodeType===8?e.parentNode:e),vr(function(){Ki(t,u,n,r)}),u}function Ji(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var u=Ai(i);l.call(u)}}Ki(t,i,e,s)}else i=Gv(n,t,e,s,r);return Ai(i)}wp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Es(t.pendingLanes);n!==0&&(vu(t,n|1),gt(t,Me()),!(ge&6)&&(ts=Me()+500,Xn()))}break;case 13:vr(function(){var r=Sn(e,1);if(r!==null){var s=ut();Yt(r,e,1,s)}}),Ju(e,1)}};wu=function(e){if(e.tag===13){var t=Sn(e,134217728);if(t!==null){var n=ut();Yt(t,e,134217728,n)}Ju(e,134217728)}};_p=function(e){if(e.tag===13){var t=qn(e),n=Sn(e,t);if(n!==null){var r=ut();Yt(n,e,t,r)}Ju(e,t)}};xp=function(){return we};Sp=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};fl=function(e,t,n){switch(t){case"input":if(ol(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=zi(r);if(!s)throw Error(B(90));Zf(r),ol(r,s)}}}break;case"textarea":tp(e,n);break;case"select":t=n.value,t!=null&&$r(e,!!n.multiple,t,!1)}};lp=Gu;up=vr;var Wv={usingClientEntryPoint:!1,Events:[no,Ir,zi,ip,ap,Gu]},ys={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kv={bundleType:ys.bundleType,version:ys.version,rendererPackageName:ys.rendererPackageName,rendererConfig:ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fp(e),e===null?null:e.stateNode},findFiberByHostInstance:ys.findFiberByHostInstance||qv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{Fi=Uo.inject(Kv),ln=Uo}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wv;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zu(t))throw Error(B(200));return Hv(e,t,null,n)};St.createRoot=function(e,t){if(!Zu(e))throw Error(B(299));var n=!1,r="",s=Hh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Yu(e,1,!1,null,null,n,!1,r,s),e[xn]=t.current,Vs(e.nodeType===8?e.parentNode:e),new Xu(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=fp(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return vr(e)};St.hydrate=function(e,t,n){if(!Yi(t))throw Error(B(200));return Ji(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!Zu(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Hh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Vh(t,null,e,1,n??null,s,!1,o,i),e[xn]=t.current,Vs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Qi(t)};St.render=function(e,t,n){if(!Yi(t))throw Error(B(200));return Ji(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!Yi(e))throw Error(B(40));return e._reactRootContainer?(vr(function(){Ji(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1};St.unstable_batchedUpdates=Gu;St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yi(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Ji(e,t,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function qh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qh)}catch(e){console.error(e)}}qh(),qf.exports=St;var Qv=qf.exports,Yd=Qv;ui.createRoot=Yd.createRoot,ui.hydrateRoot=Yd.hydrateRoot;var Yv=Object.defineProperty,Jv=(e,t,n)=>t in e?Yv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ir=(e,t,n)=>Jv(e,typeof t!="symbol"?t+"":t,n),Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},br={},vs={},Ut={},Jd;function Gh(){if(Jd)return Ut;Jd=1;var e=Ut&&Ut.__assign||function(){return e=Object.assign||function(s){for(var o,i=1,l=arguments.length;i<l;i++){o=arguments[i];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u])}return s},e.apply(this,arguments)},t=Ut&&Ut.__awaiter||function(s,o,i,l){function u(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function y(S){try{m(l.next(S))}catch(E){f(E)}}function v(S){try{m(l.throw(S))}catch(E){f(E)}}function m(S){S.done?c(S.value):u(S.value).then(y,v)}m((l=l.apply(s,o||[])).next())})},n=Ut&&Ut.__generator||function(s,o){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},l,u,c,f;return f={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function y(m){return function(S){return v([m,S])}}function v(m){if(l)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(i=0)),i;)try{if(l=1,u&&(c=m[0]&2?u.return:m[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,m[1])).done)return c;switch(u=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,u=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){i.label=m[1];break}if(m[0]===6&&i.label<c[1]){i.label=c[1],c=m;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(m);break}c[2]&&i.ops.pop(),i.trys.pop();continue}m=o.call(s,i)}catch(S){m=[6,S],u=0}finally{l=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.FrappeCall=void 0;var r=function(){function s(o,i,l,u,c){this.appURL=o,this.axios=i,this.useToken=l??!1,this.token=u,this.tokenType=c}return s.prototype.get=function(o,i){return t(this,void 0,void 0,function(){var l;return n(this,function(u){return l=new URLSearchParams,i&&Object.entries(i).forEach(function(c){var f=c[0],y=c[1];if(y!=null){var v=typeof y=="object"?JSON.stringify(y):y;l.set(f,v)}}),[2,this.axios.get("/api/method/".concat(o),{params:l}).then(function(c){return c.data}).catch(function(c){var f,y;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(f=c.response.data.message)!==null&&f!==void 0?f:"There was an error.",exception:(y=c.response.data.exception)!==null&&y!==void 0?y:""})})]})})},s.prototype.post=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/".concat(o),e({},i)).then(function(u){return u.data}).catch(function(u){var c,f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(c=u.response.data.message)!==null&&c!==void 0?c:"There was an error.",exception:(f=u.response.data.exception)!==null&&f!==void 0?f:""})})]})})},s.prototype.put=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.put("/api/method/".concat(o),e({},i)).then(function(u){return u.data}).catch(function(u){var c,f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(c=u.response.data.message)!==null&&c!==void 0?c:"There was an error.",exception:(f=u.response.data.exception)!==null&&f!==void 0?f:""})})]})})},s.prototype.delete=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.delete("/api/method/".concat(o),{params:i}).then(function(u){return u.data}).catch(function(u){var c,f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(c=u.response.data.message)!==null&&c!==void 0?c:"There was an error.",exception:(f=u.response.data.exception)!==null&&f!==void 0?f:""})})]})})},s}();return Ut.FrappeCall=r,Ut}var zt={},Xd;function Wh(){if(Xd)return zt;Xd=1;var e=zt&&zt.__assign||function(){return e=Object.assign||function(s){for(var o,i=1,l=arguments.length;i<l;i++){o=arguments[i];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u])}return s},e.apply(this,arguments)},t=zt&&zt.__awaiter||function(s,o,i,l){function u(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function y(S){try{m(l.next(S))}catch(E){f(E)}}function v(S){try{m(l.throw(S))}catch(E){f(E)}}function m(S){S.done?c(S.value):u(S.value).then(y,v)}m((l=l.apply(s,o||[])).next())})},n=zt&&zt.__generator||function(s,o){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},l,u,c,f;return f={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function y(m){return function(S){return v([m,S])}}function v(m){if(l)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(i=0)),i;)try{if(l=1,u&&(c=m[0]&2?u.return:m[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,m[1])).done)return c;switch(u=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,u=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){i.label=m[1];break}if(m[0]===6&&i.label<c[1]){i.label=c[1],c=m;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(m);break}c[2]&&i.ops.pop(),i.trys.pop();continue}m=o.call(s,i)}catch(S){m=[6,S],u=0}finally{l=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(zt,"__esModule",{value:!0}),zt.FrappeDB=void 0;var r=function(){function s(o,i,l,u,c){this.appURL=o,this.axios=i,this.useToken=l??!1,this.token=u,this.tokenType=c}return s.prototype.getDoc=function(o,i){return i===void 0&&(i=""),t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(i))).then(function(u){return u.data.data}).catch(function(u){var c,f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:"There was an error while fetching the document.",exception:(f=(c=u.response.data.exception)!==null&&c!==void 0?c:u.response.data.exc_type)!==null&&f!==void 0?f:""})})]})})},s.prototype.getDocList=function(o,i){var l;return t(this,void 0,void 0,function(){var u,c,f,y,v,m,S,E,F,g,_;return n(this,function(x){return u={},i&&(c=i.fields,f=i.filters,y=i.orFilters,v=i.orderBy,m=i.limit,S=i.limit_start,E=i.groupBy,F=i.asDict,g=F===void 0?!0:F,_=v?"".concat(String(v==null?void 0:v.field)," ").concat((l=v==null?void 0:v.order)!==null&&l!==void 0?l:"asc"):"",u={fields:c?JSON.stringify(c):void 0,filters:f?JSON.stringify(f):void 0,or_filters:y?JSON.stringify(y):void 0,order_by:_,group_by:E,limit:m,limit_start:S,as_dict:g}),[2,this.axios.get("/api/resource/".concat(o),{params:u}).then(function(k){return k.data.data}).catch(function(k){var T,A;throw e(e({},k.response.data),{httpStatus:k.response.status,httpStatusText:k.response.statusText,message:"There was an error while fetching the documents.",exception:(A=(T=k.response.data.exception)!==null&&T!==void 0?T:k.response.data.exc_type)!==null&&A!==void 0?A:""})})]})})},s.prototype.createDoc=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/resource/".concat(o),e({},i)).then(function(u){return u.data.data}).catch(function(u){var c,f,y;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:(c=u.response.data.message)!==null&&c!==void 0?c:"There was an error while creating the document.",exception:(y=(f=u.response.data.exception)!==null&&f!==void 0?f:u.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},s.prototype.updateDoc=function(o,i,l){return t(this,void 0,void 0,function(){return n(this,function(u){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(i&&encodeURIComponent(i)),e({},l)).then(function(c){return c.data.data}).catch(function(c){var f,y,v;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(f=c.response.data.message)!==null&&f!==void 0?f:"There was an error while updating the document.",exception:(v=(y=c.response.data.exception)!==null&&y!==void 0?y:c.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},s.prototype.deleteDoc=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(i&&encodeURIComponent(i))).then(function(u){return u.data}).catch(function(u){var c,f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:"There was an error while deleting the document.",exception:(f=(c=u.response.data.exception)!==null&&c!==void 0?c:u.response.data.exc_type)!==null&&f!==void 0?f:""})})]})})},s.prototype.getCount=function(o,i,l){return l===void 0&&(l=!1),t(this,void 0,void 0,function(){var u;return n(this,function(c){return u={doctype:o,filters:[]},l&&(u.debug=l),i&&(u.filters=i?JSON.stringify(i):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:u}).then(function(f){return f.data.message}).catch(function(f){var y,v;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while getting the count.",exception:(v=(y=f.response.data.exception)!==null&&y!==void 0?y:f.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},s.prototype.getLastDoc=function(o,i){return t(this,void 0,void 0,function(){var l,u;return n(this,function(c){switch(c.label){case 0:return l={orderBy:{field:"creation",order:"desc"}},i&&(l=e(e({},l),i)),[4,this.getDocList(o,e(e({},l),{limit:1,fields:["name"]}))];case 1:return u=c.sent(),u.length>0?[2,this.getDoc(o,u[0].name)]:[2,{}]}})})},s.prototype.renameDoc=function(o,i,l,u){return u===void 0&&(u=!1),t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:i,new_name:l,merge:u}).then(function(f){return f.data}).catch(function(f){var y,v,m;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:(y=f.response.data.message)!==null&&y!==void 0?y:"There was an error while renaming the document.",exception:(m=(v=f.response.data.exception)!==null&&v!==void 0?v:f.response.data.exc_type)!==null&&m!==void 0?m:""})})]})})},s.prototype.getValue=function(o,i,l,u,c,f){return u===void 0&&(u=!0),c===void 0&&(c=!1),f===void 0&&(f=null),t(this,void 0,void 0,function(){var y;return n(this,function(v){return y={doctype:o,fieldname:"[]",filters:[],as_dict:u,debug:c,parent:null},i&&(y.fieldname=typeof i=="object"?JSON.stringify(i):i),l&&(y.filters=l?JSON.stringify(l):void 0),f&&(y.parent=f),[2,this.axios.get("/api/method/frappe.client.get_value",{params:y}).then(function(m){return m.data}).catch(function(m){var S,E;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:"There was an error while getting the value.",exception:(E=(S=m.response.data.exception)!==null&&S!==void 0?S:m.response.data.exc_type)!==null&&E!==void 0?E:""})})]})})},s.prototype.setValue=function(o,i,l,u){return t(this,void 0,void 0,function(){return n(this,function(c){return l!==null&&typeof l=="object"&&!Array.isArray(l)&&(u=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:i,fieldname:l,value:u}).then(function(f){return f.data}).catch(function(f){var y,v;throw e(e({},f.response.data),{httpStatus:f.response.status,httpStatusText:f.response.statusText,message:"There was an error while setting the value.",exception:(v=(y=f.response.data.exception)!==null&&y!==void 0?y:f.response.data.exc_type)!==null&&v!==void 0?v:""})})]})})},s.prototype.getSingleValue=function(o,i){return t(this,void 0,void 0,function(){var l;return n(this,function(u){return l={doctype:o,field:i},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:l}).then(function(c){return c.data}).catch(function(c){var f,y;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(y=(f=c.response.data.exception)!==null&&f!==void 0?f:c.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},s.prototype.submit=function(o){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(l){return l.data.message}).catch(function(l){var u,c;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:"There was an error while submitting the document.",exception:(c=(u=l.response.data.exception)!==null&&u!==void 0?u:l.response.data.exc_type)!==null&&c!==void 0?c:""})})]})})},s.prototype.cancel=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:i}).then(function(u){return u.data}).catch(function(u){var c,f;throw e(e({},u.response.data),{httpStatus:u.response.status,httpStatusText:u.response.statusText,message:"There was an error while cancelling the document.",exception:(f=(c=u.response.data.exception)!==null&&c!==void 0?c:u.response.data.exc_type)!==null&&f!==void 0?f:""})})]})})},s}();return zt.FrappeDB=r,zt}var $t={},pn={};/*! Axios v1.12.2 Copyright (c) 2025 Matt Zabriskie and contributors */var Ba,Zd;function Zv(){if(Zd)return Ba;Zd=1;function e(d,p){return function(){return d.apply(p,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,{iterator:r,toStringTag:s}=Symbol,o=(d=>p=>{const h=t.call(p);return d[h]||(d[h]=h.slice(8,-1).toLowerCase())})(Object.create(null)),i=d=>(d=d.toLowerCase(),p=>o(p)===d),l=d=>p=>typeof p===d,{isArray:u}=Array,c=l("undefined");function f(d){return d!==null&&!c(d)&&d.constructor!==null&&!c(d.constructor)&&S(d.constructor.isBuffer)&&d.constructor.isBuffer(d)}const y=i("ArrayBuffer");function v(d){let p;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?p=ArrayBuffer.isView(d):p=d&&d.buffer&&y(d.buffer),p}const m=l("string"),S=l("function"),E=l("number"),F=d=>d!==null&&typeof d=="object",g=d=>d===!0||d===!1,_=d=>{if(o(d)!=="object")return!1;const p=n(d);return(p===null||p===Object.prototype||Object.getPrototypeOf(p)===null)&&!(s in d)&&!(r in d)},x=d=>{if(!F(d)||f(d))return!1;try{return Object.keys(d).length===0&&Object.getPrototypeOf(d)===Object.prototype}catch{return!1}},k=i("Date"),T=i("File"),A=i("Blob"),I=i("FileList"),P=d=>F(d)&&S(d.pipe),q=d=>{let p;return d&&(typeof FormData=="function"&&d instanceof FormData||S(d.append)&&((p=o(d))==="formdata"||p==="object"&&S(d.toString)&&d.toString()==="[object FormData]"))},L=i("URLSearchParams"),[$,G,Q,R]=["ReadableStream","Request","Response","Headers"].map(i),U=d=>d.trim?d.trim():d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Z(d,p,{allOwnKeys:h=!1}={}){if(d===null||typeof d>"u")return;let w,C;if(typeof d!="object"&&(d=[d]),u(d))for(w=0,C=d.length;w<C;w++)p.call(null,d[w],w,d);else{if(f(d))return;const j=h?Object.getOwnPropertyNames(d):Object.keys(d),b=j.length;let z;for(w=0;w<b;w++)z=j[w],p.call(null,d[z],z,d)}}function pe(d,p){if(f(d))return null;p=p.toLowerCase();const h=Object.keys(d);let w=h.length,C;for(;w-- >0;)if(C=h[w],p===C.toLowerCase())return C;return null}const M=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Xv,H=d=>!c(d)&&d!==M;function D(){const{caseless:d,skipUndefined:p}=H(this)&&this||{},h={},w=(C,j)=>{const b=d&&pe(h,j)||j;_(h[b])&&_(C)?h[b]=D(h[b],C):_(C)?h[b]=D({},C):u(C)?h[b]=C.slice():(!p||!c(C))&&(h[b]=C)};for(let C=0,j=arguments.length;C<j;C++)arguments[C]&&Z(arguments[C],w);return h}const ne=(d,p,h,{allOwnKeys:w}={})=>(Z(p,(C,j)=>{h&&S(C)?d[j]=e(C,h):d[j]=C},{allOwnKeys:w}),d),te=d=>(d.charCodeAt(0)===65279&&(d=d.slice(1)),d),ve=(d,p,h,w)=>{d.prototype=Object.create(p.prototype,w),d.prototype.constructor=d,Object.defineProperty(d,"super",{value:p.prototype}),h&&Object.assign(d.prototype,h)},Te=(d,p,h,w)=>{let C,j,b;const z={};if(p=p||{},d==null)return p;do{for(C=Object.getOwnPropertyNames(d),j=C.length;j-- >0;)b=C[j],(!w||w(b,d,p))&&!z[b]&&(p[b]=d[b],z[b]=!0);d=h!==!1&&n(d)}while(d&&(!h||h(d,p))&&d!==Object.prototype);return p},ze=(d,p,h)=>{d=String(d),(h===void 0||h>d.length)&&(h=d.length),h-=p.length;const w=d.indexOf(p,h);return w!==-1&&w===h},ie=d=>{if(!d)return null;if(u(d))return d;let p=d.length;if(!E(p))return null;const h=new Array(p);for(;p-- >0;)h[p]=d[p];return h},ue=(d=>p=>d&&p instanceof d)(typeof Uint8Array<"u"&&n(Uint8Array)),We=(d,p)=>{const h=(d&&d[r]).call(d);let w;for(;(w=h.next())&&!w.done;){const C=w.value;p.call(d,C[0],C[1])}},Lt=(d,p)=>{let h;const w=[];for(;(h=d.exec(p))!==null;)w.push(h);return w},kt=i("HTMLFormElement"),Ct=d=>d.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(p,h,w){return h.toUpperCase()+w}),ce=(({hasOwnProperty:d})=>(p,h)=>d.call(p,h))(Object.prototype),ye=i("RegExp"),xe=(d,p)=>{const h=Object.getOwnPropertyDescriptors(d),w={};Z(h,(C,j)=>{let b;(b=p(C,j,d))!==!1&&(w[j]=b||C)}),Object.defineProperties(d,w)},le=d=>{xe(d,(p,h)=>{if(S(d)&&["arguments","caller","callee"].indexOf(h)!==-1)return!1;const w=d[h];if(S(w)){if(p.enumerable=!1,"writable"in p){p.writable=!1;return}p.set||(p.set=()=>{throw Error("Can not rewrite read-only method '"+h+"'")})}})},It=(d,p)=>{const h={},w=C=>{C.forEach(j=>{h[j]=!0})};return u(d)?w(d):w(String(d).split(p)),h},Mt=()=>{},Ke=(d,p)=>d!=null&&Number.isFinite(d=+d)?d:p;function Le(d){return!!(d&&S(d.append)&&d[s]==="FormData"&&d[r])}const Nt=d=>{const p=new Array(10),h=(w,C)=>{if(F(w)){if(p.indexOf(w)>=0)return;if(f(w))return w;if(!("toJSON"in w)){p[C]=w;const j=u(w)?[]:{};return Z(w,(b,z)=>{const Y=h(b,C+1);!c(Y)&&(j[z]=Y)}),p[C]=void 0,j}}return w};return h(d,0)},Zn=i("AsyncFunction"),Nn=d=>d&&(F(d)||S(d))&&S(d.then)&&S(d.catch),fn=((d,p)=>d?setImmediate:p?((h,w)=>(M.addEventListener("message",({source:C,data:j})=>{C===M&&j===h&&w.length&&w.shift()()},!1),C=>{w.push(C),M.postMessage(h,"*")}))(`axios@${Math.random()}`,[]):h=>setTimeout(h))(typeof setImmediate=="function",S(M.postMessage)),$e=typeof queueMicrotask<"u"?queueMicrotask.bind(M):typeof process<"u"&&process.nextTick||fn;var O={isArray:u,isArrayBuffer:y,isBuffer:f,isFormData:q,isArrayBufferView:v,isString:m,isNumber:E,isBoolean:g,isObject:F,isPlainObject:_,isEmptyObject:x,isReadableStream:$,isRequest:G,isResponse:Q,isHeaders:R,isUndefined:c,isDate:k,isFile:T,isBlob:A,isRegExp:ye,isFunction:S,isStream:P,isURLSearchParams:L,isTypedArray:ue,isFileList:I,forEach:Z,merge:D,extend:ne,trim:U,stripBOM:te,inherits:ve,toFlatObject:Te,kindOf:o,kindOfTest:i,endsWith:ze,toArray:ie,forEachEntry:We,matchAll:Lt,isHTMLForm:kt,hasOwnProperty:ce,hasOwnProp:ce,reduceDescriptors:xe,freezeMethods:le,toObjectSet:It,toCamelCase:Ct,noop:Mt,toFiniteNumber:Ke,findKey:pe,global:M,isContextDefined:H,isSpecCompliantForm:Le,toJSONObject:Nt,isAsyncFn:Zn,isThenable:Nn,setImmediate:fn,asap:$e,isIterable:d=>d!=null&&S(d[r])};function re(d,p,h,w,C){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=d,this.name="AxiosError",p&&(this.code=p),h&&(this.config=h),w&&(this.request=w),C&&(this.response=C,this.status=C.status?C.status:null)}O.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const er=re.prototype,Xt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(d=>{Xt[d]={value:d}}),Object.defineProperties(re,Xt),Object.defineProperty(er,"isAxiosError",{value:!0}),re.from=(d,p,h,w,C,j)=>{const b=Object.create(er);O.toFlatObject(d,b,function(V){return V!==Error.prototype},V=>V!=="isAxiosError");const z=d&&d.message?d.message:"Error",Y=p==null&&d?d.code:p;return re.call(b,z,Y,h,w,C),d&&b.cause==null&&Object.defineProperty(b,"cause",{value:d,configurable:!0}),b.name=d&&d.name||"Error",j&&Object.assign(b,j),b};var Sr=null;function Ft(d){return O.isPlainObject(d)||O.isArray(d)}function ao(d){return O.endsWith(d,"[]")?d.slice(0,-2):d}function lo(d,p,h){return d?d.concat(p).map(function(w,C){return w=ao(w),!h&&C?"["+w+"]":w}).join(h?".":""):p}function uo(d){return O.isArray(d)&&!d.some(Ft)}const co=O.toFlatObject(O,{},null,function(d){return/^is[A-Z]/.test(d)});function Er(d,p,h){if(!O.isObject(d))throw new TypeError("target must be an object");p=p||new FormData,h=O.toFlatObject(h,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ae,W){return!O.isUndefined(W[ae])});const w=h.metaTokens,C=h.visitor||V,j=h.dots,b=h.indexes,z=(h.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(p);if(!O.isFunction(C))throw new TypeError("visitor must be a function");function Y(ae){if(ae===null)return"";if(O.isDate(ae))return ae.toISOString();if(O.isBoolean(ae))return ae.toString();if(!z&&O.isBlob(ae))throw new re("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(ae)||O.isTypedArray(ae)?z&&typeof Blob=="function"?new Blob([ae]):Buffer.from(ae):ae}function V(ae,W,J){let De=ae;if(ae&&!J&&typeof ae=="object"){if(O.endsWith(W,"{}"))W=w?W:W.slice(0,-2),ae=JSON.stringify(ae);else if(O.isArray(ae)&&uo(ae)||(O.isFileList(ae)||O.endsWith(W,"[]"))&&(De=O.toArray(ae)))return W=ao(W),De.forEach(function(nt,He){!(O.isUndefined(nt)||nt===null)&&p.append(b===!0?lo([W],He,j):b===null?W:W+"[]",Y(nt))}),!1}return Ft(ae)?!0:(p.append(lo(J,W,j),Y(ae)),!1)}const K=[],oe=Object.assign(co,{defaultVisitor:V,convertValue:Y,isVisitable:Ft});function Se(ae,W){if(!O.isUndefined(ae)){if(K.indexOf(ae)!==-1)throw Error("Circular reference detected in "+W.join("."));K.push(ae),O.forEach(ae,function(J,De){(!(O.isUndefined(J)||J===null)&&C.call(p,J,O.isString(De)?De.trim():De,W,oe))===!0&&Se(J,W?W.concat(De):[De])}),K.pop()}}if(!O.isObject(d))throw new TypeError("data must be an object");return Se(d),p}function tr(d){const p={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(d).replace(/[!'()~]|%20|%00/g,function(h){return p[h]})}function as(d,p){this._pairs=[],d&&Er(d,this,p)}const fo=as.prototype;fo.append=function(d,p){this._pairs.push([d,p])},fo.toString=function(d){const p=d?function(h){return d.call(this,h,tr)}:tr;return this._pairs.map(function(h){return p(h[0])+"="+p(h[1])},"").join("&")};function se(d){return encodeURIComponent(d).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function he(d,p,h){if(!p)return d;const w=h&&h.encode||se;O.isFunction(h)&&(h={serialize:h});const C=h&&h.serialize;let j;if(C?j=C(p,h):j=O.isURLSearchParams(p)?p.toString():new as(p,h).toString(w),j){const b=d.indexOf("#");b!==-1&&(d=d.slice(0,b)),d+=(d.indexOf("?")===-1?"?":"&")+j}return d}class Ve{constructor(){this.handlers=[]}use(p,h,w){return this.handlers.push({fulfilled:p,rejected:h,synchronous:w?w.synchronous:!1,runWhen:w?w.runWhen:null}),this.handlers.length-1}eject(p){this.handlers[p]&&(this.handlers[p]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(p){O.forEach(this.handlers,function(h){h!==null&&p(h)})}}var nr=Ve,Zt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kr=typeof URLSearchParams<"u"?URLSearchParams:as,rr=typeof FormData<"u"?FormData:null,Dm=typeof Blob<"u"?Blob:null,Bm={isBrowser:!0,classes:{URLSearchParams:kr,FormData:rr,Blob:Dm},protocols:["http","https","file","blob","url","data"]};const ea=typeof window<"u"&&typeof document<"u",ta=typeof navigator=="object"&&navigator||void 0,Um=ea&&(!ta||["ReactNative","NativeScript","NS"].indexOf(ta.product)<0),zm=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$m=ea&&window.location.href||"http://localhost";var Vm=Object.freeze({__proto__:null,hasBrowserEnv:ea,hasStandardBrowserWebWorkerEnv:zm,hasStandardBrowserEnv:Um,navigator:ta,origin:$m}),tt={...Vm,...Bm};function Hm(d,p){return Er(d,new tt.classes.URLSearchParams,{visitor:function(h,w,C,j){return tt.isNode&&O.isBuffer(h)?(this.append(w,h.toString("base64")),!1):j.defaultVisitor.apply(this,arguments)},...p})}function qm(d){return O.matchAll(/\w+|\[(\w*)]/g,d).map(p=>p[0]==="[]"?"":p[1]||p[0])}function Gm(d){const p={},h=Object.keys(d);let w;const C=h.length;let j;for(w=0;w<C;w++)j=h[w],p[j]=d[j];return p}function pc(d){function p(h,w,C,j){let b=h[j++];if(b==="__proto__")return!0;const z=Number.isFinite(+b),Y=j>=h.length;return b=!b&&O.isArray(C)?C.length:b,Y?(O.hasOwnProp(C,b)?C[b]=[C[b],w]:C[b]=w,!z):((!C[b]||!O.isObject(C[b]))&&(C[b]=[]),p(h,w,C[b],j)&&O.isArray(C[b])&&(C[b]=Gm(C[b])),!z)}if(O.isFormData(d)&&O.isFunction(d.entries)){const h={};return O.forEachEntry(d,(w,C)=>{p(qm(w),C,h,0)}),h}return null}function Wm(d,p,h){if(O.isString(d))try{return(p||JSON.parse)(d),O.trim(d)}catch(w){if(w.name!=="SyntaxError")throw w}return(h||JSON.stringify)(d)}const na={transitional:Zt,adapter:["xhr","http","fetch"],transformRequest:[function(d,p){const h=p.getContentType()||"",w=h.indexOf("application/json")>-1,C=O.isObject(d);if(C&&O.isHTMLForm(d)&&(d=new FormData(d)),O.isFormData(d))return w?JSON.stringify(pc(d)):d;if(O.isArrayBuffer(d)||O.isBuffer(d)||O.isStream(d)||O.isFile(d)||O.isBlob(d)||O.isReadableStream(d))return d;if(O.isArrayBufferView(d))return d.buffer;if(O.isURLSearchParams(d))return p.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),d.toString();let j;if(C){if(h.indexOf("application/x-www-form-urlencoded")>-1)return Hm(d,this.formSerializer).toString();if((j=O.isFileList(d))||h.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Er(j?{"files[]":d}:d,b&&new b,this.formSerializer)}}return C||w?(p.setContentType("application/json",!1),Wm(d)):d}],transformResponse:[function(d){const p=this.transitional||na.transitional,h=p&&p.forcedJSONParsing,w=this.responseType==="json";if(O.isResponse(d)||O.isReadableStream(d))return d;if(d&&O.isString(d)&&(h&&!this.responseType||w)){const C=!(p&&p.silentJSONParsing)&&w;try{return JSON.parse(d,this.parseReviver)}catch(j){if(C)throw j.name==="SyntaxError"?re.from(j,re.ERR_BAD_RESPONSE,this,null,this.response):j}}return d}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tt.classes.FormData,Blob:tt.classes.Blob},validateStatus:function(d){return d>=200&&d<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],d=>{na.headers[d]={}});var ra=na;const Km=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Qm=d=>{const p={};let h,w,C;return d&&d.split(`
`).forEach(function(j){C=j.indexOf(":"),h=j.substring(0,C).trim().toLowerCase(),w=j.substring(C+1).trim(),!(!h||p[h]&&Km[h])&&(h==="set-cookie"?p[h]?p[h].push(w):p[h]=[w]:p[h]=p[h]?p[h]+", "+w:w)}),p};const hc=Symbol("internals");function ls(d){return d&&String(d).trim().toLowerCase()}function po(d){return d===!1||d==null?d:O.isArray(d)?d.map(po):String(d)}function Ym(d){const p=Object.create(null),h=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let w;for(;w=h.exec(d);)p[w[1]]=w[2];return p}const Jm=d=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(d.trim());function sa(d,p,h,w,C){if(O.isFunction(w))return w.call(this,p,h);if(C&&(p=h),!!O.isString(p)){if(O.isString(w))return p.indexOf(w)!==-1;if(O.isRegExp(w))return w.test(p)}}function Xm(d){return d.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(p,h,w)=>h.toUpperCase()+w)}function Zm(d,p){const h=O.toCamelCase(" "+p);["get","set","has"].forEach(w=>{Object.defineProperty(d,w+h,{value:function(C,j,b){return this[w].call(this,p,C,j,b)},configurable:!0})})}class ho{constructor(p){p&&this.set(p)}set(p,h,w){const C=this;function j(z,Y,V){const K=ls(Y);if(!K)throw new Error("header name must be a non-empty string");const oe=O.findKey(C,K);(!oe||C[oe]===void 0||V===!0||V===void 0&&C[oe]!==!1)&&(C[oe||Y]=po(z))}const b=(z,Y)=>O.forEach(z,(V,K)=>j(V,K,Y));if(O.isPlainObject(p)||p instanceof this.constructor)b(p,h);else if(O.isString(p)&&(p=p.trim())&&!Jm(p))b(Qm(p),h);else if(O.isObject(p)&&O.isIterable(p)){let z={},Y,V;for(const K of p){if(!O.isArray(K))throw TypeError("Object iterator must return a key-value pair");z[V=K[0]]=(Y=z[V])?O.isArray(Y)?[...Y,K[1]]:[Y,K[1]]:K[1]}b(z,h)}else p!=null&&j(h,p,w);return this}get(p,h){if(p=ls(p),p){const w=O.findKey(this,p);if(w){const C=this[w];if(!h)return C;if(h===!0)return Ym(C);if(O.isFunction(h))return h.call(this,C,w);if(O.isRegExp(h))return h.exec(C);throw new TypeError("parser must be boolean|regexp|function")}}}has(p,h){if(p=ls(p),p){const w=O.findKey(this,p);return!!(w&&this[w]!==void 0&&(!h||sa(this,this[w],w,h)))}return!1}delete(p,h){const w=this;let C=!1;function j(b){if(b=ls(b),b){const z=O.findKey(w,b);z&&(!h||sa(w,w[z],z,h))&&(delete w[z],C=!0)}}return O.isArray(p)?p.forEach(j):j(p),C}clear(p){const h=Object.keys(this);let w=h.length,C=!1;for(;w--;){const j=h[w];(!p||sa(this,this[j],j,p,!0))&&(delete this[j],C=!0)}return C}normalize(p){const h=this,w={};return O.forEach(this,(C,j)=>{const b=O.findKey(w,j);if(b){h[b]=po(C),delete h[j];return}const z=p?Xm(j):String(j).trim();z!==j&&delete h[j],h[z]=po(C),w[z]=!0}),this}concat(...p){return this.constructor.concat(this,...p)}toJSON(p){const h=Object.create(null);return O.forEach(this,(w,C)=>{w!=null&&w!==!1&&(h[C]=p&&O.isArray(w)?w.join(", "):w)}),h}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([p,h])=>p+": "+h).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(p){return p instanceof this?p:new this(p)}static concat(p,...h){const w=new this(p);return h.forEach(C=>w.set(C)),w}static accessor(p){const h=(this[hc]=this[hc]={accessors:{}}).accessors,w=this.prototype;function C(j){const b=ls(j);h[b]||(Zm(w,j),h[b]=!0)}return O.isArray(p)?p.forEach(C):C(p),this}}ho.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),O.reduceDescriptors(ho.prototype,({value:d},p)=>{let h=p[0].toUpperCase()+p.slice(1);return{get:()=>d,set(w){this[h]=w}}}),O.freezeMethods(ho);var Dt=ho;function oa(d,p){const h=this||ra,w=p||h,C=Dt.from(w.headers);let j=w.data;return O.forEach(d,function(b){j=b.call(h,j,C.normalize(),p?p.status:void 0)}),C.normalize(),j}function mc(d){return!!(d&&d.__CANCEL__)}function Cr(d,p,h){re.call(this,d??"canceled",re.ERR_CANCELED,p,h),this.name="CanceledError"}O.inherits(Cr,re,{__CANCEL__:!0});function gc(d,p,h){const w=h.config.validateStatus;!h.status||!w||w(h.status)?d(h):p(new re("Request failed with status code "+h.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(h.status/100)-4],h.config,h.request,h))}function eg(d){const p=/^([-+\w]{1,25})(:?\/\/|:)/.exec(d);return p&&p[1]||""}function tg(d,p){d=d||10;const h=new Array(d),w=new Array(d);let C=0,j=0,b;return p=p!==void 0?p:1e3,function(z){const Y=Date.now(),V=w[j];b||(b=Y),h[C]=z,w[C]=Y;let K=j,oe=0;for(;K!==C;)oe+=h[K++],K=K%d;if(C=(C+1)%d,C===j&&(j=(j+1)%d),Y-b<p)return;const Se=V&&Y-V;return Se?Math.round(oe*1e3/Se):void 0}}function ng(d,p){let h=0,w=1e3/p,C,j;const b=(z,Y=Date.now())=>{h=Y,C=null,j&&(clearTimeout(j),j=null),d(...z)};return[(...z)=>{const Y=Date.now(),V=Y-h;V>=w?b(z,Y):(C=z,j||(j=setTimeout(()=>{j=null,b(C)},w-V)))},()=>C&&b(C)]}const mo=(d,p,h=3)=>{let w=0;const C=tg(50,250);return ng(j=>{const b=j.loaded,z=j.lengthComputable?j.total:void 0,Y=b-w,V=C(Y),K=b<=z;w=b;const oe={loaded:b,total:z,progress:z?b/z:void 0,bytes:Y,rate:V||void 0,estimated:V&&z&&K?(z-b)/V:void 0,event:j,lengthComputable:z!=null,[p?"download":"upload"]:!0};d(oe)},h)},yc=(d,p)=>{const h=d!=null;return[w=>p[0]({lengthComputable:h,total:d,loaded:w}),p[1]]},vc=d=>(...p)=>O.asap(()=>d(...p));var rg=tt.hasStandardBrowserEnv?((d,p)=>h=>(h=new URL(h,tt.origin),d.protocol===h.protocol&&d.host===h.host&&(p||d.port===h.port)))(new URL(tt.origin),tt.navigator&&/(msie|trident)/i.test(tt.navigator.userAgent)):()=>!0,sg=tt.hasStandardBrowserEnv?{write(d,p,h,w,C,j){const b=[d+"="+encodeURIComponent(p)];O.isNumber(h)&&b.push("expires="+new Date(h).toGMTString()),O.isString(w)&&b.push("path="+w),O.isString(C)&&b.push("domain="+C),j===!0&&b.push("secure"),document.cookie=b.join("; ")},read(d){const p=document.cookie.match(new RegExp("(^|;\\s*)("+d+")=([^;]*)"));return p?decodeURIComponent(p[3]):null},remove(d){this.write(d,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function og(d){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(d)}function ig(d,p){return p?d.replace(/\/?\/$/,"")+"/"+p.replace(/^\/+/,""):d}function wc(d,p,h){let w=!og(p);return d&&(w||h==!1)?ig(d,p):p}const _c=d=>d instanceof Dt?{...d}:d;function sr(d,p){p=p||{};const h={};function w(V,K,oe,Se){return O.isPlainObject(V)&&O.isPlainObject(K)?O.merge.call({caseless:Se},V,K):O.isPlainObject(K)?O.merge({},K):O.isArray(K)?K.slice():K}function C(V,K,oe,Se){if(O.isUndefined(K)){if(!O.isUndefined(V))return w(void 0,V,oe,Se)}else return w(V,K,oe,Se)}function j(V,K){if(!O.isUndefined(K))return w(void 0,K)}function b(V,K){if(O.isUndefined(K)){if(!O.isUndefined(V))return w(void 0,V)}else return w(void 0,K)}function z(V,K,oe){if(oe in p)return w(V,K);if(oe in d)return w(void 0,V)}const Y={url:j,method:j,data:j,baseURL:b,transformRequest:b,transformResponse:b,paramsSerializer:b,timeout:b,timeoutMessage:b,withCredentials:b,withXSRFToken:b,adapter:b,responseType:b,xsrfCookieName:b,xsrfHeaderName:b,onUploadProgress:b,onDownloadProgress:b,decompress:b,maxContentLength:b,maxBodyLength:b,beforeRedirect:b,transport:b,httpAgent:b,httpsAgent:b,cancelToken:b,socketPath:b,responseEncoding:b,validateStatus:z,headers:(V,K,oe)=>C(_c(V),_c(K),oe,!0)};return O.forEach(Object.keys({...d,...p}),function(V){const K=Y[V]||C,oe=K(d[V],p[V],V);O.isUndefined(oe)&&K!==z||(h[V]=oe)}),h}var xc=d=>{const p=sr({},d);let{data:h,withXSRFToken:w,xsrfHeaderName:C,xsrfCookieName:j,headers:b,auth:z}=p;if(p.headers=b=Dt.from(b),p.url=he(wc(p.baseURL,p.url,p.allowAbsoluteUrls),d.params,d.paramsSerializer),z&&b.set("Authorization","Basic "+btoa((z.username||"")+":"+(z.password?unescape(encodeURIComponent(z.password)):""))),O.isFormData(h)){if(tt.hasStandardBrowserEnv||tt.hasStandardBrowserWebWorkerEnv)b.setContentType(void 0);else if(O.isFunction(h.getHeaders)){const Y=h.getHeaders(),V=["content-type","content-length"];Object.entries(Y).forEach(([K,oe])=>{V.includes(K.toLowerCase())&&b.set(K,oe)})}}if(tt.hasStandardBrowserEnv&&(w&&O.isFunction(w)&&(w=w(p)),w||w!==!1&&rg(p.url))){const Y=C&&j&&sg.read(j);Y&&b.set(C,Y)}return p},ag=typeof XMLHttpRequest<"u"&&function(d){return new Promise(function(p,h){const w=xc(d);let C=w.data;const j=Dt.from(w.headers).normalize();let{responseType:b,onUploadProgress:z,onDownloadProgress:Y}=w,V,K,oe,Se,ae;function W(){Se&&Se(),ae&&ae(),w.cancelToken&&w.cancelToken.unsubscribe(V),w.signal&&w.signal.removeEventListener("abort",V)}let J=new XMLHttpRequest;J.open(w.method.toUpperCase(),w.url,!0),J.timeout=w.timeout;function De(){if(!J)return;const He=Dt.from("getAllResponseHeaders"in J&&J.getAllResponseHeaders()),tn={data:!b||b==="text"||b==="json"?J.responseText:J.response,status:J.status,statusText:J.statusText,headers:He,config:d,request:J};gc(function(jn){p(jn),W()},function(jn){h(jn),W()},tn),J=null}"onloadend"in J?J.onloadend=De:J.onreadystatechange=function(){!J||J.readyState!==4||J.status===0&&!(J.responseURL&&J.responseURL.indexOf("file:")===0)||setTimeout(De)},J.onabort=function(){J&&(h(new re("Request aborted",re.ECONNABORTED,d,J)),J=null)},J.onerror=function(He){const tn=He&&He.message?He.message:"Network Error",jn=new re(tn,re.ERR_NETWORK,d,J);jn.event=He||null,h(jn),J=null},J.ontimeout=function(){let He=w.timeout?"timeout of "+w.timeout+"ms exceeded":"timeout exceeded";const tn=w.transitional||Zt;w.timeoutErrorMessage&&(He=w.timeoutErrorMessage),h(new re(He,tn.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,d,J)),J=null},C===void 0&&j.setContentType(null),"setRequestHeader"in J&&O.forEach(j.toJSON(),function(He,tn){J.setRequestHeader(tn,He)}),O.isUndefined(w.withCredentials)||(J.withCredentials=!!w.withCredentials),b&&b!=="json"&&(J.responseType=w.responseType),Y&&([oe,ae]=mo(Y,!0),J.addEventListener("progress",oe)),z&&J.upload&&([K,Se]=mo(z),J.upload.addEventListener("progress",K),J.upload.addEventListener("loadend",Se)),(w.cancelToken||w.signal)&&(V=He=>{J&&(h(!He||He.type?new Cr(null,d,J):He),J.abort(),J=null)},w.cancelToken&&w.cancelToken.subscribe(V),w.signal&&(w.signal.aborted?V():w.signal.addEventListener("abort",V)));const nt=eg(w.url);if(nt&&tt.protocols.indexOf(nt)===-1){h(new re("Unsupported protocol "+nt+":",re.ERR_BAD_REQUEST,d));return}J.send(C||null)})},lg=(d,p)=>{const{length:h}=d=d?d.filter(Boolean):[];if(p||h){let w=new AbortController,C;const j=function(V){if(!C){C=!0,z();const K=V instanceof Error?V:this.reason;w.abort(K instanceof re?K:new Cr(K instanceof Error?K.message:K))}};let b=p&&setTimeout(()=>{b=null,j(new re(`timeout ${p} of ms exceeded`,re.ETIMEDOUT))},p);const z=()=>{d&&(b&&clearTimeout(b),b=null,d.forEach(V=>{V.unsubscribe?V.unsubscribe(j):V.removeEventListener("abort",j)}),d=null)};d.forEach(V=>V.addEventListener("abort",j));const{signal:Y}=w;return Y.unsubscribe=()=>O.asap(z),Y}};const ug=function*(d,p){let h=d.byteLength;if(h<p){yield d;return}let w=0,C;for(;w<h;)C=w+p,yield d.slice(w,C),w=C},cg=async function*(d,p){for await(const h of dg(d))yield*ug(h,p)},dg=async function*(d){if(d[Symbol.asyncIterator]){yield*d;return}const p=d.getReader();try{for(;;){const{done:h,value:w}=await p.read();if(h)break;yield w}}finally{await p.cancel()}},Sc=(d,p,h,w)=>{const C=cg(d,p);let j=0,b,z=Y=>{b||(b=!0,w&&w(Y))};return new ReadableStream({async pull(Y){try{const{done:V,value:K}=await C.next();if(V){z(),Y.close();return}let oe=K.byteLength;if(h){let Se=j+=oe;h(Se)}Y.enqueue(new Uint8Array(K))}catch(V){throw z(V),V}},cancel(Y){return z(Y),C.return()}},{highWaterMark:2})},Ec=64*1024,{isFunction:go}=O,fg=(({Request:d,Response:p})=>({Request:d,Response:p}))(O.global),{ReadableStream:kc,TextEncoder:Cc}=O.global,Nc=(d,...p)=>{try{return!!d(...p)}catch{return!1}},pg=d=>{d=O.merge.call({skipUndefined:!0},fg,d);const{fetch:p,Request:h,Response:w}=d,C=p?go(p):typeof fetch=="function",j=go(h),b=go(w);if(!C)return!1;const z=C&&go(kc),Y=C&&(typeof Cc=="function"?(W=>J=>W.encode(J))(new Cc):async W=>new Uint8Array(await new h(W).arrayBuffer())),V=j&&z&&Nc(()=>{let W=!1;const J=new h(tt.origin,{body:new kc,method:"POST",get duplex(){return W=!0,"half"}}).headers.has("Content-Type");return W&&!J}),K=b&&z&&Nc(()=>O.isReadableStream(new w("").body)),oe={stream:K&&(W=>W.body)};C&&["text","arrayBuffer","blob","formData","stream"].forEach(W=>{!oe[W]&&(oe[W]=(J,De)=>{let nt=J&&J[W];if(nt)return nt.call(J);throw new re(`Response type '${W}' is not supported`,re.ERR_NOT_SUPPORT,De)})});const Se=async W=>{if(W==null)return 0;if(O.isBlob(W))return W.size;if(O.isSpecCompliantForm(W))return(await new h(tt.origin,{method:"POST",body:W}).arrayBuffer()).byteLength;if(O.isArrayBufferView(W)||O.isArrayBuffer(W))return W.byteLength;if(O.isURLSearchParams(W)&&(W=W+""),O.isString(W))return(await Y(W)).byteLength},ae=async(W,J)=>O.toFiniteNumber(W.getContentLength())??Se(J);return async W=>{let{url:J,method:De,data:nt,signal:He,cancelToken:tn,timeout:jn,onDownloadProgress:ca,onUploadProgress:Lc,responseType:bn,headers:da,withCredentials:xo="same-origin",fetchOptions:Ic}=xc(W),Mc=p||fetch;bn=bn?(bn+"").toLowerCase():"text";let So=lg([He,tn&&tn.toAbortSignal()],jn),us=null;const or=So&&So.unsubscribe&&(()=>{So.unsubscribe()});let Fc;try{if(Lc&&V&&De!=="get"&&De!=="head"&&(Fc=await ae(da,nt))!==0){let On=new h(J,{method:"POST",body:nt,duplex:"half"}),Nr;if(O.isFormData(nt)&&(Nr=On.headers.get("content-type"))&&da.setContentType(Nr),On.body){const[fa,Eo]=yc(Fc,mo(vc(Lc)));nt=Sc(On.body,Ec,fa,Eo)}}O.isString(xo)||(xo=xo?"include":"omit");const nn=j&&"credentials"in h.prototype,Dc={...Ic,signal:So,method:De.toUpperCase(),headers:da.normalize().toJSON(),body:nt,duplex:"half",credentials:nn?xo:void 0};us=j&&new h(J,Dc);let Tn=await(j?Mc(us,Ic):Mc(J,Dc));const Bc=K&&(bn==="stream"||bn==="response");if(K&&(ca||Bc&&or)){const On={};["status","statusText","headers"].forEach(Uc=>{On[Uc]=Tn[Uc]});const Nr=O.toFiniteNumber(Tn.headers.get("content-length")),[fa,Eo]=ca&&yc(Nr,mo(vc(ca),!0))||[];Tn=new w(Sc(Tn.body,Ec,fa,()=>{Eo&&Eo(),or&&or()}),On)}bn=bn||"text";let xg=await oe[O.findKey(oe,bn)||"text"](Tn,W);return!Bc&&or&&or(),await new Promise((On,Nr)=>{gc(On,Nr,{data:xg,headers:Dt.from(Tn.headers),status:Tn.status,statusText:Tn.statusText,config:W,request:us})})}catch(nn){throw or&&or(),nn&&nn.name==="TypeError"&&/Load failed|fetch/i.test(nn.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,W,us),{cause:nn.cause||nn}):re.from(nn,nn&&nn.code,W,us)}}},hg=new Map,jc=d=>{let p=d?d.env:{};const{fetch:h,Request:w,Response:C}=p,j=[w,C,h];let b=j.length,z=b,Y,V,K=hg;for(;z--;)Y=j[z],V=K.get(Y),V===void 0&&K.set(Y,V=z?new Map:pg(p)),K=V;return V};jc();const ia={http:Sr,xhr:ag,fetch:{get:jc}};O.forEach(ia,(d,p)=>{if(d){try{Object.defineProperty(d,"name",{value:p})}catch{}Object.defineProperty(d,"adapterName",{value:p})}});const bc=d=>`- ${d}`,mg=d=>O.isFunction(d)||d===null||d===!1;var Tc={getAdapter:(d,p)=>{d=O.isArray(d)?d:[d];const{length:h}=d;let w,C;const j={};for(let b=0;b<h;b++){w=d[b];let z;if(C=w,!mg(w)&&(C=ia[(z=String(w)).toLowerCase()],C===void 0))throw new re(`Unknown adapter '${z}'`);if(C&&(O.isFunction(C)||(C=C.get(p))))break;j[z||"#"+b]=C}if(!C){const b=Object.entries(j).map(([Y,V])=>`adapter ${Y} `+(V===!1?"is not supported by the environment":"is not available in the build"));let z=h?b.length>1?`since :
`+b.map(bc).join(`
`):" "+bc(b[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+z,"ERR_NOT_SUPPORT")}return C},adapters:ia};function aa(d){if(d.cancelToken&&d.cancelToken.throwIfRequested(),d.signal&&d.signal.aborted)throw new Cr(null,d)}function Oc(d){return aa(d),d.headers=Dt.from(d.headers),d.data=oa.call(d,d.transformRequest),["post","put","patch"].indexOf(d.method)!==-1&&d.headers.setContentType("application/x-www-form-urlencoded",!1),Tc.getAdapter(d.adapter||ra.adapter,d)(d).then(function(p){return aa(d),p.data=oa.call(d,d.transformResponse,p),p.headers=Dt.from(p.headers),p},function(p){return mc(p)||(aa(d),p&&p.response&&(p.response.data=oa.call(d,d.transformResponse,p.response),p.response.headers=Dt.from(p.response.headers))),Promise.reject(p)})}const Rc="1.12.2",yo={};["object","boolean","number","function","string","symbol"].forEach((d,p)=>{yo[d]=function(h){return typeof h===d||"a"+(p<1?"n ":" ")+d}});const Pc={};yo.transitional=function(d,p,h){function w(C,j){return"[Axios v"+Rc+"] Transitional option '"+C+"'"+j+(h?". "+h:"")}return(C,j,b)=>{if(d===!1)throw new re(w(j," has been removed"+(p?" in "+p:"")),re.ERR_DEPRECATED);return p&&!Pc[j]&&(Pc[j]=!0,console.warn(w(j," has been deprecated since v"+p+" and will be removed in the near future"))),d?d(C,j,b):!0}},yo.spelling=function(d){return(p,h)=>(console.warn(`${h} is likely a misspelling of ${d}`),!0)};function gg(d,p,h){if(typeof d!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const w=Object.keys(d);let C=w.length;for(;C-- >0;){const j=w[C],b=p[j];if(b){const z=d[j],Y=z===void 0||b(z,j,d);if(Y!==!0)throw new re("option "+j+" must be "+Y,re.ERR_BAD_OPTION_VALUE);continue}if(h!==!0)throw new re("Unknown option "+j,re.ERR_BAD_OPTION)}}var vo={assertOptions:gg,validators:yo};const en=vo.validators;class wo{constructor(p){this.defaults=p||{},this.interceptors={request:new nr,response:new nr}}async request(p,h){try{return await this._request(p,h)}catch(w){if(w instanceof Error){let C={};Error.captureStackTrace?Error.captureStackTrace(C):C=new Error;const j=C.stack?C.stack.replace(/^.+\n/,""):"";try{w.stack?j&&!String(w.stack).endsWith(j.replace(/^.+\n.+\n/,""))&&(w.stack+=`
`+j):w.stack=j}catch{}}throw w}}_request(p,h){typeof p=="string"?(h=h||{},h.url=p):h=p||{},h=sr(this.defaults,h);const{transitional:w,paramsSerializer:C,headers:j}=h;w!==void 0&&vo.assertOptions(w,{silentJSONParsing:en.transitional(en.boolean),forcedJSONParsing:en.transitional(en.boolean),clarifyTimeoutError:en.transitional(en.boolean)},!1),C!=null&&(O.isFunction(C)?h.paramsSerializer={serialize:C}:vo.assertOptions(C,{encode:en.function,serialize:en.function},!0)),h.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?h.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:h.allowAbsoluteUrls=!0),vo.assertOptions(h,{baseUrl:en.spelling("baseURL"),withXsrfToken:en.spelling("withXSRFToken")},!0),h.method=(h.method||this.defaults.method||"get").toLowerCase();let b=j&&O.merge(j.common,j[h.method]);j&&O.forEach(["delete","get","head","post","put","patch","common"],W=>{delete j[W]}),h.headers=Dt.concat(b,j);const z=[];let Y=!0;this.interceptors.request.forEach(function(W){typeof W.runWhen=="function"&&W.runWhen(h)===!1||(Y=Y&&W.synchronous,z.unshift(W.fulfilled,W.rejected))});const V=[];this.interceptors.response.forEach(function(W){V.push(W.fulfilled,W.rejected)});let K,oe=0,Se;if(!Y){const W=[Oc.bind(this),void 0];for(W.unshift(...z),W.push(...V),Se=W.length,K=Promise.resolve(h);oe<Se;)K=K.then(W[oe++],W[oe++]);return K}Se=z.length;let ae=h;for(;oe<Se;){const W=z[oe++],J=z[oe++];try{ae=W(ae)}catch(De){J.call(this,De);break}}try{K=Oc.call(this,ae)}catch(W){return Promise.reject(W)}for(oe=0,Se=V.length;oe<Se;)K=K.then(V[oe++],V[oe++]);return K}getUri(p){p=sr(this.defaults,p);const h=wc(p.baseURL,p.url,p.allowAbsoluteUrls);return he(h,p.params,p.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(d){wo.prototype[d]=function(p,h){return this.request(sr(h||{},{method:d,url:p,data:(h||{}).data}))}}),O.forEach(["post","put","patch"],function(d){function p(h){return function(w,C,j){return this.request(sr(j||{},{method:d,headers:h?{"Content-Type":"multipart/form-data"}:{},url:w,data:C}))}}wo.prototype[d]=p(),wo.prototype[d+"Form"]=p(!0)});var _o=wo;class la{constructor(p){if(typeof p!="function")throw new TypeError("executor must be a function.");let h;this.promise=new Promise(function(C){h=C});const w=this;this.promise.then(C=>{if(!w._listeners)return;let j=w._listeners.length;for(;j-- >0;)w._listeners[j](C);w._listeners=null}),this.promise.then=C=>{let j;const b=new Promise(z=>{w.subscribe(z),j=z}).then(C);return b.cancel=function(){w.unsubscribe(j)},b},p(function(C,j,b){w.reason||(w.reason=new Cr(C,j,b),h(w.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(p){if(this.reason){p(this.reason);return}this._listeners?this._listeners.push(p):this._listeners=[p]}unsubscribe(p){if(!this._listeners)return;const h=this._listeners.indexOf(p);h!==-1&&this._listeners.splice(h,1)}toAbortSignal(){const p=new AbortController,h=w=>{p.abort(w)};return this.subscribe(h),p.signal.unsubscribe=()=>this.unsubscribe(h),p.signal}static source(){let p;return{token:new la(function(h){p=h}),cancel:p}}}var yg=la;function vg(d){return function(p){return d.apply(null,p)}}function wg(d){return O.isObject(d)&&d.isAxiosError===!0}const ua={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ua).forEach(([d,p])=>{ua[p]=d});var _g=ua;function Ac(d){const p=new _o(d),h=e(_o.prototype.request,p);return O.extend(h,_o.prototype,p,{allOwnKeys:!0}),O.extend(h,p,null,{allOwnKeys:!0}),h.create=function(w){return Ac(sr(d,w))},h}const Fe=Ac(ra);return Fe.Axios=_o,Fe.CanceledError=Cr,Fe.CancelToken=yg,Fe.isCancel=mc,Fe.VERSION=Rc,Fe.toFormData=Er,Fe.AxiosError=re,Fe.Cancel=Fe.CanceledError,Fe.all=function(d){return Promise.all(d)},Fe.spread=vg,Fe.isAxiosError=wg,Fe.mergeConfig=sr,Fe.AxiosHeaders=Dt,Fe.formToJSON=d=>pc(O.isHTMLForm(d)?new FormData(d):d),Fe.getAdapter=Tc.getAdapter,Fe.HttpStatusCode=_g,Fe.default=Fe,Ba=Fe,Ba}var ef;function Kh(){if(ef)return pn;ef=1;var e=pn&&pn.__assign||function(){return e=Object.assign||function(s){for(var o,i=1,l=arguments.length;i<l;i++){o=arguments[i];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u])}return s},e.apply(this,arguments)};Object.defineProperty(pn,"__esModule",{value:!0}),pn.getRequestHeaders=pn.getAxiosClient=void 0;var t=Zv();function n(s,o,i,l,u){var c=t.default.create({baseURL:s,headers:r(o,l,i,s,u),withCredentials:!0});return c.interceptors.request.use(function(f){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(f.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&l&&i&&(f.headers.Authorization="".concat(l," ").concat(i())),f}),c}pn.getAxiosClient=n;function r(s,o,i,l,u){s===void 0&&(s=!1);var c={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return s&&o&&i&&(c.Authorization="".concat(o," ").concat(i())),typeof window<"u"&&typeof document<"u"&&(window.location&&(l&&l!==window.location.origin||(c["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(c["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},c),u??{})}return pn.getRequestHeaders=r,pn}var tf;function Qh(){if(tf)return $t;tf=1;var e=$t&&$t.__assign||function(){return e=Object.assign||function(o){for(var i,l=1,u=arguments.length;l<u;l++){i=arguments[l];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(o[c]=i[c])}return o},e.apply(this,arguments)},t=$t&&$t.__awaiter||function(o,i,l,u){function c(f){return f instanceof l?f:new l(function(y){y(f)})}return new(l||(l=Promise))(function(f,y){function v(E){try{S(u.next(E))}catch(F){y(F)}}function m(E){try{S(u.throw(E))}catch(F){y(F)}}function S(E){E.done?f(E.value):c(E.value).then(v,m)}S((u=u.apply(o,i||[])).next())})},n=$t&&$t.__generator||function(o,i){var l={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,c,f,y;return y={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function v(S){return function(E){return m([S,E])}}function m(S){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,S[0]&&(l=0)),l;)try{if(u=1,c&&(f=S[0]&2?c.return:S[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,S[1])).done)return f;switch(c=0,f&&(S=[S[0]&2,f.value]),S[0]){case 0:case 1:f=S;break;case 4:return l.label++,{value:S[1],done:!1};case 5:l.label++,c=S[1],S=[0];continue;case 7:S=l.ops.pop(),l.trys.pop();continue;default:if(f=l.trys,!(f=f.length>0&&f[f.length-1])&&(S[0]===6||S[0]===2)){l=0;continue}if(S[0]===3&&(!f||S[1]>f[0]&&S[1]<f[3])){l.label=S[1];break}if(S[0]===6&&l.label<f[1]){l.label=f[1],f=S;break}if(f&&l.label<f[2]){l.label=f[2],l.ops.push(S);break}f[2]&&l.ops.pop(),l.trys.pop();continue}S=i.call(o,l)}catch(E){S=[6,E],c=0}finally{u=f=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty($t,"__esModule",{value:!0}),$t.FrappeFileUpload=void 0;var r=Kh(),s=function(){function o(i,l,u,c,f,y){this.appURL=i,this.axios=l,this.useToken=u??!1,this.token=c,this.tokenType=f,this.customHeaders=y}return o.prototype.uploadFile=function(i,l,u,c){return c===void 0&&(c="upload_file"),t(this,void 0,void 0,function(){var f,y,v,m,S,E,F,g;return n(this,function(_){return f=new FormData,i&&f.append("file",i,i.name),y=l.isPrivate,v=l.folder,m=l.file_url,S=l.doctype,E=l.docname,F=l.fieldname,g=l.otherData,y&&f.append("is_private","1"),v&&f.append("folder",v),m&&f.append("file_url",m),S&&E&&(f.append("doctype",S),f.append("docname",E),F&&f.append("fieldname",F)),g&&Object.keys(g).forEach(function(x){var k=g[x];f.append(x,k)}),[2,this.axios.post("/api/method/".concat(c),f,{onUploadProgress:function(x){u&&u(x.loaded,x.total,x)},headers:e(e({},(0,r.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(x){var k,T;throw e(e({},x.response.data),{httpStatus:x.response.status,httpStatusText:x.response.statusText,message:(k=x.response.data.message)!==null&&k!==void 0?k:"There was an error while uploading the file.",exception:(T=x.response.data.exception)!==null&&T!==void 0?T:""})})]})})},o}();return $t.FrappeFileUpload=s,$t}var nf;function ew(){if(nf)return vs;nf=1,Object.defineProperty(vs,"__esModule",{value:!0}),vs.FrappeApp=void 0;var e=Yh(),t=Gh(),n=Wh(),r=Qh(),s=Kh(),o=function(){function i(l,u,c,f){var y,v;this.url=l,this.name=c??"FrappeApp",this.useToken=(y=u==null?void 0:u.useToken)!==null&&y!==void 0?y:!1,this.token=u==null?void 0:u.token,this.tokenType=(v=u==null?void 0:u.type)!==null&&v!==void 0?v:"Bearer",this.customHeaders=f,this.axios=(0,s.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return i.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},i.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},i.prototype.file=function(){return new r.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},i.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},i}();return vs.FrappeApp=o,vs}var Vt={},rf;function tw(){if(rf)return Vt;rf=1;var e=Vt&&Vt.__assign||function(){return e=Object.assign||function(s){for(var o,i=1,l=arguments.length;i<l;i++){o=arguments[i];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u])}return s},e.apply(this,arguments)},t=Vt&&Vt.__awaiter||function(s,o,i,l){function u(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function y(S){try{m(l.next(S))}catch(E){f(E)}}function v(S){try{m(l.throw(S))}catch(E){f(E)}}function m(S){S.done?c(S.value):u(S.value).then(y,v)}m((l=l.apply(s,o||[])).next())})},n=Vt&&Vt.__generator||function(s,o){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},l,u,c,f;return f={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function y(m){return function(S){return v([m,S])}}function v(m){if(l)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(i=0)),i;)try{if(l=1,u&&(c=m[0]&2?u.return:m[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,m[1])).done)return c;switch(u=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,u=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){i.label=m[1];break}if(m[0]===6&&i.label<c[1]){i.label=c[1],c=m;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(m);break}c[2]&&i.ops.pop(),i.trys.pop();continue}m=o.call(s,i)}catch(S){m=[6,S],u=0}finally{l=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.FrappeAuth=void 0;var r=function(){function s(o,i,l,u,c){this.appURL=o,this.axios=i,this.useToken=l??!1,this.token=u,this.tokenType=c}return s.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(l){return l.data}).catch(function(l){var u,c;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(u=l.response.data.message)!==null&&u!==void 0?u:"There was an error while logging in",exception:(c=l.response.data.exception)!==null&&c!==void 0?c:""})})]})})},s.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(i){return i.data.message}).catch(function(i){var l;throw e(e({},i.response.data),{httpStatus:i.response.status,httpStatusText:i.response.statusText,message:"There was an error while fetching the logged in user",exception:(l=i.response.data.exception)!==null&&l!==void 0?l:""})})]})})},s.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(i){var l,u;throw e(e({},i.response.data),{httpStatus:i.response.status,httpStatusText:i.response.statusText,message:(l=i.response.data.message)!==null&&l!==void 0?l:"There was an error while logging out",exception:(u=i.response.data.exception)!==null&&u!==void 0?u:""})})]})})},s.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(l){var u,c;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(u=l.response.data.message)!==null&&u!==void 0?u:"There was an error sending password reset email.",exception:(c=l.response.data.exception)!==null&&c!==void 0?c:""})})]})})},s}();return Vt.FrappeAuth=r,Vt}var sf;function Yh(){return sf||(sf=1,function(e){var t=br&&br.__createBinding||(Object.create?function(r,s,o,i){i===void 0&&(i=o);var l=Object.getOwnPropertyDescriptor(s,o);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(r,i,l)}:function(r,s,o,i){i===void 0&&(i=o),r[i]=s[o]}),n=br&&br.__exportStar||function(r,s){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(ew(),e),n(tw(),e),n(Wh(),e),n(Qh(),e),n(Gh(),e)}(br)),br}var nw=Yh(),of={exports:{}},Ua={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af;function rw(){if(af)return Ua;af=1;var e=wr;function t(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function l(y,v){var m=v(),S=r({inst:{value:m,getSnapshot:v}}),E=S[0].inst,F=S[1];return o(function(){E.value=m,E.getSnapshot=v,u(E)&&F({inst:E})},[y,m,v]),s(function(){return u(E)&&F({inst:E}),y(function(){u(E)&&F({inst:E})})},[y]),i(m),m}function u(y){var v=y.getSnapshot;y=y.value;try{var m=v();return!n(y,m)}catch{return!0}}function c(y,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return Ua.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Ua}var lf;function sw(){return lf||(lf=1,of.exports=rw()),of.exports}var ow=sw();const Jh=0,Xh=1,Zh=2,uf=3;var cf=Object.prototype.hasOwnProperty;function ql(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&ql(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(cf.call(e,n)&&++r&&!cf.call(t,n)||!(n in t)||!ql(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const gn=new WeakMap,Dn=()=>{},Xe=Dn(),Li=Object,me=e=>e===Xe,Kt=e=>typeof e=="function",kn=(e,t)=>({...e,...t}),em=e=>Kt(e.then),za={},zo={},ec="undefined",so=typeof window!=ec,Gl=typeof document!=ec,iw=so&&"Deno"in window,aw=()=>so&&typeof window.requestAnimationFrame!=ec,tm=(e,t)=>{const n=gn.get(e);return[()=>!me(t)&&e.get(t)||za,r=>{if(!me(t)){const s=e.get(t);t in zo||(zo[t]=s),n[5](t,kn(s,r),s||za)}},n[6],()=>!me(t)&&t in zo?zo[t]:!me(t)&&e.get(t)||za]};let Wl=!0;const lw=()=>Wl,[Kl,Ql]=so&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Dn,Dn],uw=()=>{const e=Gl&&document.visibilityState;return me(e)||e!=="hidden"},cw=e=>(Gl&&document.addEventListener("visibilitychange",e),Kl("focus",e),()=>{Gl&&document.removeEventListener("visibilitychange",e),Ql("focus",e)}),dw=e=>{const t=()=>{Wl=!0,e()},n=()=>{Wl=!1};return Kl("online",t),Kl("offline",n),()=>{Ql("online",t),Ql("offline",n)}},fw={isOnline:lw,isVisible:uw},pw={initFocus:cw,initReconnect:dw},df=!wr.useId,Xs=!so||iw,hw=e=>aw()?window.requestAnimationFrame(e):setTimeout(e,1),oi=Xs?N.useEffect:N.useLayoutEffect,$a=typeof navigator<"u"&&navigator.connection,ff=!Xs&&$a&&(["slow-2g","2g"].includes($a.effectiveType)||$a.saveData),$o=new WeakMap,mw=e=>Li.prototype.toString.call(e),Va=(e,t)=>e===`[object ${t}]`;let gw=0;const Yl=e=>{const t=typeof e,n=mw(e),r=Va(n,"Date"),s=Va(n,"RegExp"),o=Va(n,"Object");let i,l;if(Li(e)===e&&!r&&!s){if(i=$o.get(e),i)return i;if(i=++gw+"~",$o.set(e,i),Array.isArray(e)){for(i="@",l=0;l<e.length;l++)i+=Yl(e[l])+",";$o.set(e,i)}if(o){i="#";const u=Li.keys(e).sort();for(;!me(l=u.pop());)me(e[l])||(i+=l+":"+Yl(e[l])+",");$o.set(e,i)}}else i=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},tc=e=>{if(Kt(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Yl(e):"",[e,t]};let yw=0;const Jl=()=>++yw;async function nm(...e){const[t,n,r,s]=e,o=kn({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let i=o.populateCache;const l=o.rollbackOnError;let u=o.optimisticData;const c=v=>typeof l=="function"?l(v):l!==!1,f=o.throwOnError;if(Kt(n)){const v=n,m=[],S=t.keys();for(const E of S)!/^\$(inf|sub)\$/.test(E)&&v(t.get(E)._k)&&m.push(E);return Promise.all(m.map(y))}return y(n);async function y(v){const[m]=tc(v);if(!m)return;const[S,E]=tm(t,m),[F,g,_,x]=gn.get(t),k=()=>{const R=F[m];return(Kt(o.revalidate)?o.revalidate(S().data,v):o.revalidate!==!1)&&(delete _[m],delete x[m],R&&R[0])?R[0](Zh).then(()=>S().data):S().data};if(e.length<3)return k();let T=r,A,I=!1;const P=Jl();g[m]=[P,0];const q=!me(u),L=S(),$=L.data,G=L._c,Q=me(G)?$:G;if(q&&(u=Kt(u)?u(Q,$):u,E({data:u,_c:Q})),Kt(T))try{T=T(Q)}catch(R){A=R,I=!0}if(T&&em(T))if(T=await T.catch(R=>{A=R,I=!0}),P!==g[m][0]){if(I)throw A;return T}else I&&q&&c(A)&&(i=!0,E({data:Q,_c:Xe}));if(i&&!I)if(Kt(i)){const R=i(T,Q);E({data:R,error:Xe,_c:Xe})}else E({data:T,error:Xe,_c:Xe});if(g[m][1]=Jl(),Promise.resolve(k()).then(()=>{E({_c:Xe})}),I){if(f)throw A;return}return T}}const pf=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},rm=(e,t)=>{if(!gn.has(e)){const n=kn(pw,t),r=Object.create(null),s=nm.bind(Xe,e);let o=Dn;const i=Object.create(null),l=(f,y)=>{const v=i[f]||[];return i[f]=v,v.push(y),()=>v.splice(v.indexOf(y),1)},u=(f,y,v)=>{e.set(f,y);const m=i[f];if(m)for(const S of m)S(y,v)},c=()=>{if(!gn.has(e)&&(gn.set(e,[r,Object.create(null),Object.create(null),Object.create(null),s,u,l]),!Xs)){const f=n.initFocus(setTimeout.bind(Xe,pf.bind(Xe,r,Jh))),y=n.initReconnect(setTimeout.bind(Xe,pf.bind(Xe,r,Xh)));o=()=>{f&&f(),y&&y(),gn.delete(e)}}};return c(),[e,s,c,o]}return[e,gn.get(e)[4]]},vw=(e,t,n,r,s)=>{const o=n.errorRetryCount,i=s.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;!me(o)&&i>o||setTimeout(r,l,s)},ww=ql,[nc,_w]=rm(new Map),sm=kn({onLoadingSlow:Dn,onSuccess:Dn,onError:Dn,onErrorRetry:vw,onDiscarded:Dn,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ff?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ff?5e3:3e3,compare:ww,isPaused:()=>!1,cache:nc,mutate:_w,fallback:{}},fw),om=(e,t)=>{const n=kn(e,t);if(t){const{use:r,fallback:s}=e,{use:o,fallback:i}=t;r&&o&&(n.use=r.concat(o)),s&&i&&(n.fallback=kn(s,i))}return n},Xl=N.createContext({}),xw=e=>{const{value:t}=e,n=N.useContext(Xl),r=Kt(t),s=N.useMemo(()=>r?t(n):t,[r,n,t]),o=N.useMemo(()=>r?s:om(n,s),[r,n,s]),i=s&&s.provider,l=N.useRef(Xe);i&&!l.current&&(l.current=rm(i(o.cache||nc),s));const u=l.current;return u&&(o.cache=u[0],o.mutate=u[1]),oi(()=>{if(u)return u[2]&&u[2](),u[3]},[]),N.createElement(Xl.Provider,kn(e,{value:o}))},Sw="$inf$",im=so&&window.__SWR_DEVTOOLS_USE__,Ew=im?window.__SWR_DEVTOOLS_USE__:[],kw=()=>{im&&(window.__SWR_DEVTOOLS_REACT__=wr)},Cw=e=>Kt(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Nw=()=>{const e=N.useContext(Xl);return N.useMemo(()=>kn(sm,e),[e])},jw=e=>(t,n,r)=>e(t,n&&((...s)=>{const[o]=tc(t),[,,,i]=gn.get(nc);if(o.startsWith(Sw))return n(...s);const l=i[o];return me(l)?n(...s):(delete i[o],l)}),r),bw=Ew.concat(jw),Tw=e=>function(...t){const n=Nw(),[r,s,o]=Cw(t),i=om(n,o);let l=e;const{use:u}=i,c=(u||[]).concat(bw);for(let f=c.length;f--;)l=c[f](l);return l(r,s||i.fetcher||null,i)},Ow=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};kw();const Ha=wr.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),qa={dedupe:!0},hf=Promise.resolve(Xe),Rw=(e,t,n)=>{const{cache:r,compare:s,suspense:o,fallbackData:i,revalidateOnMount:l,revalidateIfStale:u,refreshInterval:c,refreshWhenHidden:f,refreshWhenOffline:y,keepPreviousData:v}=n,[m,S,E,F]=gn.get(r),[g,_]=tc(e),x=N.useRef(!1),k=N.useRef(!1),T=N.useRef(g),A=N.useRef(t),I=N.useRef(n),P=()=>I.current,q=()=>P().isVisible()&&P().isOnline(),[L,$,G,Q]=tm(r,g),R=N.useRef({}).current,U=me(i)?me(n.fallback)?Xe:n.fallback[g]:i,Z=(ce,ye)=>{for(const xe in R){const le=xe;if(le==="data"){if(!s(ce[le],ye[le])&&(!me(ce[le])||!s(ze,ye[le])))return!1}else if(ye[le]!==ce[le])return!1}return!0},pe=N.useMemo(()=>{const ce=!g||!t?!1:me(l)?P().isPaused()||o?!1:u!==!1:l,ye=Le=>{const Nt=kn(Le);return delete Nt._k,ce?{isValidating:!0,isLoading:!0,...Nt}:Nt},xe=L(),le=Q(),It=ye(xe),Mt=xe===le?It:ye(le);let Ke=It;return[()=>{const Le=ye(L());return Z(Le,Ke)?(Ke.data=Le.data,Ke.isLoading=Le.isLoading,Ke.isValidating=Le.isValidating,Ke.error=Le.error,Ke):(Ke=Le,Le)},()=>Mt]},[r,g]),M=ow.useSyncExternalStore(N.useCallback(ce=>G(g,(ye,xe)=>{Z(xe,ye)||ce()}),[r,g]),pe[0],pe[1]),H=!x.current,D=m[g]&&m[g].length>0,ne=M.data,te=me(ne)?U&&em(U)?Ha(U):U:ne,ve=M.error,Te=N.useRef(te),ze=v?me(ne)?me(Te.current)?te:Te.current:ne:te,ie=D&&!me(ve)?!1:H&&!me(l)?l:P().isPaused()?!1:o?me(te)?!1:u:me(te)||u,ue=!!(g&&t&&H&&ie),We=me(M.isValidating)?ue:M.isValidating,Lt=me(M.isLoading)?ue:M.isLoading,kt=N.useCallback(async ce=>{const ye=A.current;if(!g||!ye||k.current||P().isPaused())return!1;let xe,le,It=!0;const Mt=ce||{},Ke=!E[g]||!Mt.dedupe,Le=()=>df?!k.current&&g===T.current&&x.current:g===T.current,Nt={isValidating:!1,isLoading:!1},Zn=()=>{$(Nt)},Nn=()=>{const $e=E[g];$e&&$e[1]===le&&delete E[g]},fn={isValidating:!0};me(L().data)&&(fn.isLoading=!0);try{if(Ke&&($(fn),n.loadingTimeout&&me(L().data)&&setTimeout(()=>{It&&Le()&&P().onLoadingSlow(g,n)},n.loadingTimeout),E[g]=[ye(_),Jl()]),[xe,le]=E[g],xe=await xe,Ke&&setTimeout(Nn,n.dedupingInterval),!E[g]||E[g][1]!==le)return Ke&&Le()&&P().onDiscarded(g),!1;Nt.error=Xe;const $e=S[g];if(!me($e)&&(le<=$e[0]||le<=$e[1]||$e[1]===0))return Zn(),Ke&&Le()&&P().onDiscarded(g),!1;const O=L().data;Nt.data=s(O,xe)?O:xe,Ke&&Le()&&P().onSuccess(xe,g,n)}catch($e){Nn();const O=P(),{shouldRetryOnError:re}=O;O.isPaused()||(Nt.error=$e,Ke&&Le()&&(O.onError($e,g,O),(re===!0||Kt(re)&&re($e))&&(!P().revalidateOnFocus||!P().revalidateOnReconnect||q())&&O.onErrorRetry($e,g,O,er=>{const Xt=m[g];Xt&&Xt[0]&&Xt[0](uf,er)},{retryCount:(Mt.retryCount||0)+1,dedupe:!0})))}return It=!1,Zn(),!0},[g,r]),Ct=N.useCallback((...ce)=>nm(r,T.current,...ce),[]);if(oi(()=>{A.current=t,I.current=n,me(ne)||(Te.current=ne)}),oi(()=>{if(!g)return;const ce=kt.bind(Xe,qa);let ye=0;P().revalidateOnFocus&&(ye=Date.now()+P().focusThrottleInterval);const xe=Ow(g,m,(le,It={})=>{if(le==Jh){const Mt=Date.now();P().revalidateOnFocus&&Mt>ye&&q()&&(ye=Mt+P().focusThrottleInterval,ce())}else if(le==Xh)P().revalidateOnReconnect&&q()&&ce();else{if(le==Zh)return kt();if(le==uf)return kt(It)}});return k.current=!1,T.current=g,x.current=!0,$({_k:_}),ie&&(E[g]||(me(te)||Xs?ce():hw(ce))),()=>{k.current=!0,xe()}},[g]),oi(()=>{let ce;function ye(){const le=Kt(c)?c(L().data):c;le&&ce!==-1&&(ce=setTimeout(xe,le))}function xe(){!L().error&&(f||P().isVisible())&&(y||P().isOnline())?kt(qa).then(ye):ye()}return ye(),()=>{ce&&(clearTimeout(ce),ce=-1)}},[c,f,y,g]),N.useDebugValue(ze),o){const ce=g&&me(te);if(!df&&Xs&&ce)throw new Error("Fallback data is required when using Suspense in SSR.");ce&&(A.current=t,I.current=n,k.current=!1);const ye=F[g],xe=!me(ye)&&ce?Ct(ye):hf;if(Ha(xe),!me(ve)&&ce)throw ve;const le=ce?kt(qa):hf;!me(ze)&&ce&&(le.status="fulfilled",le.value=!0),Ha(le)}return{mutate:Ct,get data(){return R.data=!0,ze},get error(){return R.error=!0,ve},get isValidating(){return R.isValidating=!0,We},get isLoading(){return R.isLoading=!0,Lt}}},Pw=Li.defineProperty(xw,"defaultValue",{value:sm}),Aw=Tw(Rw);Promise.resolve();const dn=Object.create(null);dn.open="0";dn.close="1";dn.ping="2";dn.pong="3";dn.message="4";dn.upgrade="5";dn.noop="6";const ii=Object.create(null);Object.keys(dn).forEach(e=>{ii[dn[e]]=e});const Zl={type:"error",data:"parser error"},am=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",lm=typeof ArrayBuffer=="function",um=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,rc=({type:e,data:t},n,r)=>am&&t instanceof Blob?n?r(t):mf(t,r):lm&&(t instanceof ArrayBuffer||um(t))?n?r(t):mf(new Blob([t]),r):r(dn[e]+(t||"")),mf=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function gf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ga;function Lw(e,t){if(am&&e.data instanceof Blob)return e.data.arrayBuffer().then(gf).then(t);if(lm&&(e.data instanceof ArrayBuffer||um(e.data)))return t(gf(e.data));rc(e,!1,n=>{Ga||(Ga=new TextEncoder),t(Ga.encode(n))})}const yf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<yf.length;e++)Cs[yf.charCodeAt(e)]=e;const Iw=e=>{let t=e.length*.75,n=e.length,r,s=0,o,i,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),f=new Uint8Array(c);for(r=0;r<n;r+=4)o=Cs[e.charCodeAt(r)],i=Cs[e.charCodeAt(r+1)],l=Cs[e.charCodeAt(r+2)],u=Cs[e.charCodeAt(r+3)],f[s++]=o<<2|i>>4,f[s++]=(i&15)<<4|l>>2,f[s++]=(l&3)<<6|u&63;return c},Mw=typeof ArrayBuffer=="function",sc=(e,t)=>{if(typeof e!="string")return{type:"message",data:cm(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Fw(e.substring(1),t)}:ii[n]?e.length>1?{type:ii[n],data:e.substring(1)}:{type:ii[n]}:Zl},Fw=(e,t)=>{if(Mw){const n=Iw(e);return cm(n,t)}else return{base64:!0,data:e}},cm=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},dm="",Dw=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((o,i)=>{rc(o,!1,l=>{r[i]=l,++s===n&&t(r.join(dm))})})},Bw=(e,t)=>{const n=e.split(dm),r=[];for(let s=0;s<n.length;s++){const o=sc(n[s],t);if(r.push(o),o.type==="error")break}return r};function Uw(){return new TransformStream({transform(e,t){Lw(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Wa;function Vo(e){return e.reduce((t,n)=>t+n.length,0)}function Ho(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function zw(e,t){Wa||(Wa=new TextDecoder);const n=[];let r=0,s=-1,o=!1;return new TransformStream({transform(i,l){for(n.push(i);;){if(r===0){if(Vo(n)<1)break;const u=Ho(n,1);o=(u[0]&128)===128,s=u[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Vo(n)<2)break;const u=Ho(n,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(Vo(n)<8)break;const u=Ho(n,8),c=new DataView(u.buffer,u.byteOffset,u.length),f=c.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(Zl);break}s=f*Math.pow(2,32)+c.getUint32(4),r=3}else{if(Vo(n)<s)break;const u=Ho(n,s);l.enqueue(sc(o?u:Wa.decode(u),t)),r=0}if(s===0||s>e){l.enqueue(Zl);break}}}})}const fm=4;function Ue(e){if(e)return $w(e)}function $w(e){for(var t in Ue.prototype)e[t]=Ue.prototype[t];return e}Ue.prototype.on=Ue.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ue.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Ue.prototype.off=Ue.prototype.removeListener=Ue.prototype.removeAllListeners=Ue.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Ue.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};Ue.prototype.emitReserved=Ue.prototype.emit;Ue.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ue.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Tt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function pm(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Vw=Tt.setTimeout,Hw=Tt.clearTimeout;function Xi(e,t){t.useNativeTimers?(e.setTimeoutFn=Vw.bind(Tt),e.clearTimeoutFn=Hw.bind(Tt)):(e.setTimeoutFn=Tt.setTimeout.bind(Tt),e.clearTimeoutFn=Tt.clearTimeout.bind(Tt))}const qw=1.33;function Gw(e){return typeof e=="string"?Ww(e):Math.ceil((e.byteLength||e.size)*qw)}function Ww(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Kw(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Qw(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class Yw extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class oc extends Ue{constructor(t){super(),this.writable=!1,Xi(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new Yw(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=sc(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Kw(t);return n.length?"?"+n:""}}const hm="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),eu=64,Jw={};let vf=0,qo=0,wf;function _f(e){let t="";do t=hm[e%eu]+t,e=Math.floor(e/eu);while(e>0);return t}function mm(){const e=_f(+new Date);return e!==wf?(vf=0,wf=e):e+"."+_f(vf++)}for(;qo<eu;qo++)Jw[hm[qo]]=qo;let gm=!1;try{gm=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Xw=gm;function ym(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Xw))return new XMLHttpRequest}catch{}if(!t)try{return new Tt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Zw(){}const e0=function(){return new ym({xdomain:!1}).responseType!=null}();class t0 extends oc{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}const n=t&&t.forceBase64;this.supportsBinary=e0&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Bw(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Dw(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=mm()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new cn(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class cn extends Ue{constructor(t,n){super(),Xi(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=pm(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new ym(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=cn.requestsCount++,cn.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Zw,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete cn.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}cn.requestsCount=0;cn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",xf);else if(typeof addEventListener=="function"){const e="onpagehide"in Tt?"pagehide":"unload";addEventListener(e,xf,!1)}}function xf(){for(let e in cn.requests)cn.requests.hasOwnProperty(e)&&cn.requests[e].abort()}const ic=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Go=Tt.WebSocket||Tt.MozWebSocket,Sf=!0,n0="arraybuffer",Ef=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class r0 extends oc{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=Ef?{}:pm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Sf&&!Ef?n?new Go(t,n):new Go(t):new Go(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;rc(r,this.supportsBinary,o=>{try{Sf&&this.ws.send(o)}catch{}s&&ic(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=mm()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Go}}class s0 extends oc{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=zw(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=Uw();s.readable.pipeTo(t.writable),this.writer=s.writable.getWriter();const o=()=>{r.read().then(({done:l,value:u})=>{l||(this.onPacket(u),o())}).catch(l=>{})};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this.writer.write(i).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this.writer.write(r).then(()=>{s&&ic(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const o0={websocket:r0,webtransport:s0,polling:t0},i0=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function tu(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=i0.exec(e||""),o={},i=14;for(;i--;)o[a0[i]]=s[i]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=l0(o,o.path),o.queryKey=u0(o,o.query),o}function l0(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function u0(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,o){s&&(n[s]=o)}),n}let vm=class Tr extends Ue{constructor(t,n={}){super(),this.binaryType=n0,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=tu(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=tu(n.host).host),Xi(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Qw(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=fm,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new o0[t](r)}open(){let t;if(this.opts.rememberUpgrade&&Tr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;Tr.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",y=>{if(!r)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Tr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function o(){r||(r=!0,f(),n.close(),n=null)}const i=y=>{const v=new Error("probe error: "+y);v.transport=n.name,o(),this.emitReserved("upgradeError",v)};function l(){i("transport closed")}function u(){i("socket closed")}function c(y){n&&y.name!==n.name&&o()}const f=()=>{n.removeListener("open",s),n.removeListener("error",i),n.removeListener("close",l),this.off("close",u),this.off("upgrading",c)};n.once("open",s),n.once("error",i),n.once("close",l),this.once("close",u),this.once("upgrading",c),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Tr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+=Gw(r)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){Tr.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const s=t.length;for(;r<s;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};vm.protocol=fm;function c0(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=tu(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const d0=typeof ArrayBuffer=="function",f0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,wm=Object.prototype.toString,p0=typeof Blob=="function"||typeof Blob<"u"&&wm.call(Blob)==="[object BlobConstructor]",h0=typeof File=="function"||typeof File<"u"&&wm.call(File)==="[object FileConstructor]";function ac(e){return d0&&(e instanceof ArrayBuffer||f0(e))||p0&&e instanceof Blob||h0&&e instanceof File}function ai(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(ai(e[n]))return!0;return!1}if(ac(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ai(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ai(e[n]))return!0;return!1}function m0(e){const t=[],n=e.data,r=e;return r.data=nu(n,t),r.attachments=t.length,{packet:r,buffers:t}}function nu(e,t){if(!e)return e;if(ac(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=nu(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=nu(e[r],t));return n}return e}function g0(e,t){return e.data=ru(e.data,t),delete e.attachments,e}function ru(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ru(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ru(e[n],t));return e}const y0=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],v0=5;var fe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(fe||(fe={}));class w0{constructor(t){this.replacer=t}encode(t){return(t.type===fe.EVENT||t.type===fe.ACK)&&ai(t)?this.encodeAsBinary({type:t.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===fe.BINARY_EVENT||t.type===fe.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=m0(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function kf(e){return Object.prototype.toString.call(e)==="[object Object]"}class lc extends Ue{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===fe.BINARY_EVENT;r||n.type===fe.BINARY_ACK?(n.type=r?fe.EVENT:fe.ACK,this.reconstructor=new _0(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ac(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(fe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===fe.BINARY_EVENT||r.type===fe.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(o,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(i)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const o=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(lc.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case fe.CONNECT:return kf(n);case fe.DISCONNECT:return n===void 0;case fe.CONNECT_ERROR:return typeof n=="string"||kf(n);case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&y0.indexOf(n[0])===-1);case fe.ACK:case fe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class _0{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=g0(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const x0=Object.freeze(Object.defineProperty({__proto__:null,Decoder:lc,Encoder:w0,get PacketType(){return fe},protocol:v0},Symbol.toStringTag,{value:"Module"}));function Gt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const S0=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _m extends Ue{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Gt(t,"open",this.onopen.bind(this)),Gt(t,"packet",this.onpacket.bind(this)),Gt(t,"error",this.onerror.bind(this)),Gt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(S0.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:fe.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,i=n.pop();this._registerAckCallback(o,i),r.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===t&&this.sendBuffer.splice(i,1);n.call(this,new Error("operation has timed out"))},s);this.acks[t]=(...i)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...i])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,o)=>{n.push((i,l)=>r?i?o(i):s(l):s(i)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...o)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case fe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(t);break;case fe.ACK:case fe.BINARY_ACK:this.onack(t);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:fe.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function is(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}is.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};is.prototype.reset=function(){this.attempts=0};is.prototype.setMin=function(e){this.ms=e};is.prototype.setMax=function(e){this.max=e};is.prototype.setJitter=function(e){this.jitter=e};class su extends Ue{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Xi(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new is({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||x0;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new vm(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Gt(n,"open",function(){r.onopen(),t&&t()}),o=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},i=Gt(n,"error",o);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),n.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Gt(t,"ping",this.onping.bind(this)),Gt(t,"data",this.ondata.bind(this)),Gt(t,"error",this.onerror.bind(this)),Gt(t,"close",this.onclose.bind(this)),Gt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ic(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new _m(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ws={};function li(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=c0(e,t.path||"/socket.io"),r=n.source,s=n.id,o=n.path,i=ws[s]&&o in ws[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let u;return l?u=new su(r,t):(ws[s]||(ws[s]=new su(r,t)),u=ws[s]),n.query&&!t.query&&(t.query=n.queryKey),u.socket(n.path,t)}Object.assign(li,{Manager:su,Socket:_m,io:li,connect:li});class E0{constructor(t,n,r,s){ir(this,"socket_port"),ir(this,"host"),ir(this,"port"),ir(this,"protocol"),ir(this,"url"),ir(this,"site_name"),ir(this,"socket");var o,i,l,u;if(this.socket_port=r??"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(i=window.location)!=null&&i.port?`:${this.socket_port}`:"",this.protocol=((l=window.location)==null?void 0:l.protocol)==="https:"?"https":"http",t){let c=new URL(t);c.port="",r?(c.port=r,this.url=c.toString()):this.url=c.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=li(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:s&&s.useToken===!0?{Authorization:`${s.type} ${(u=s.token)==null?void 0:u.call(s)}`}:{}})}}const uc=N.createContext(null),k0=({url:e="",tokenParams:t,socketPort:n,swrConfig:r,siteName:s,enableSocket:o=!0,children:i,customHeaders:l})=>{const u=N.useMemo(()=>{const c=new nw.FrappeApp(e,t,void 0,l);return{url:e,tokenParams:t,app:c,auth:c.auth(),db:c.db(),call:c.call(),file:c.file(),socket:o?new E0(e,s,n,t).socket:void 0,enableSocket:o,socketPort:n}},[e,t,n,o,l]);return a.jsx(uc.Provider,{value:u,children:a.jsx(Pw,{value:r,children:i})})};function C0(e){const t=[];for(let n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}const Zi=(e,t,n,r,s="GET")=>{const{call:o}=N.useContext(uc),i=C0(t??{}),l=`${e}?${i}`;return{...Aw(n===void 0?l:n,s==="GET"?()=>o.get(e,t):()=>o.post(e,t),r)}},N0=e=>{const{call:t}=N.useContext(uc),[n,r]=N.useState(null),[s,o]=N.useState(!1),[i,l]=N.useState(null),[u,c]=N.useState(!1),f=N.useCallback(()=>{r(null),o(!1),l(null),c(!1)},[]);return{call:N.useCallback(async y=>(l(null),c(!1),o(!0),r(null),t.post(e,y).then(v=>(r(v),o(!1),c(!0),v)).catch(v=>{throw o(!1),c(!1),l(v),v})),[]),result:n,loading:s,error:i,reset:f,isCompleted:u}},j0=localStorage.getItem("imogi_debug")==="true"||new URLSearchParams(window.location.search).get("debug")==="true";function Qn(e,t,n=null){const r=`[imogi][${e}]`;n!=null?console.log(r,t,n):console.log(r,t)}function vt(e,t,n=null){if(!j0)return;const r=`[imogi][${e}] `;n!=null?console.log(r,t,n):console.log(r,t)}function lt(e,t,n=null){const r=`[imogi][${e}] `;n?n instanceof Error?console.error(r,t,{message:n.message,stack:n.stack,httpStatus:n.httpStatus,responseText:n.responseText}):console.error(r,t,n):console.error(r,t)}function b0(e,t,n=null){const r=`[imogi][${e}] `;n!=null?console.warn(r,t,n):console.warn(r,t)}function xm(e,t,n=null){const r=`[imogi][${e}] `;n!=null?console.log(r,t,n):console.log(r,t)}const Cf=["imogi_debug","imogi_debug_logs"];function cc(e){return e.startsWith("imogi_")?e:`imogi_${e}`}function oo(e){return e?sessionStorage:localStorage}function T0(e){if(!e||!e.ttl||!e.timestamp)return!1;const t=Date.now(),n=e.timestamp+e.ttl*1e3;return t>n}function Sm(e,t=!1){const n=cc(e),r=oo(t);try{const s=r.getItem(n);if(!s)return vt("storage",`Get: ${n} (not found)`),null;let o;try{o=JSON.parse(s)}catch{return vt("storage",`Get: ${n} (raw value)`),s}return o&&typeof o=="object"&&o.hasOwnProperty("value")?T0(o)?(vt("storage",`Get: ${n} (expired, removing)`),r.removeItem(n),null):(vt("storage",`Get: ${n} (TTL: ${o.ttl||"none"})`),o.value):(vt("storage",`Get: ${n}`),o)}catch(s){return lt("storage",`Failed to get ${n}`,s),null}}function O0(e,t,n=null,r=!1){const s=cc(e),o=oo(r);try{let i;n!==null&&n>0?(i={value:t,ttl:n,timestamp:Date.now()},Qn("storage",`Set: ${s} (TTL: ${n}s)`)):(i=t,Qn("storage",`Set: ${s}`)),o.setItem(s,JSON.stringify(i))}catch(i){lt("storage",`Failed to set ${s}`,i)}}function R0(e,t=!1){const n=cc(e),r=oo(t);try{r.removeItem(n),Qn("storage",`Remove: ${n}`)}catch(s){lt("storage",`Failed to remove ${n}`,s)}}function P0(e=!1){const t=oo(e),n=e?"sessionStorage":"localStorage";try{const s=Object.keys(t).filter(o=>o.startsWith("imogi_"));Qn("storage",`Clearing all imogi_* keys from ${n} (${s.length} keys)`),s.forEach(o=>{t.removeItem(o),vt("storage",`Removed: ${o}`)}),xm("storage",`Cleared ${s.length} keys from ${n}`)}catch(r){lt("storage",`Failed to clear ${n}`,r)}}function A0(){Qn("storage","Clearing non-persistent keys on logout...");try{sessionStorage.clear(),vt("storage","Cleared all sessionStorage");const t=Object.keys(localStorage).filter(r=>r.startsWith("imogi_"));let n=0;t.forEach(r=>{Cf.includes(r)?vt("storage",`Kept persistent: ${r}`):(localStorage.removeItem(r),vt("storage",`Removed: ${r}`),n++)}),xm("storage",`Logout cleanup complete (${n} keys cleared, ${Cf.length} kept)`)}catch(e){lt("storage","Failed to clear on logout",e)}}function L0(e,t=!1){return Sm(e,t)!==null}function I0(e=!1){const t=oo(e);try{return Object.keys(t).filter(s=>s.startsWith("imogi_")).map(s=>s.replace("imogi_",""))}catch(n){return lt("storage","Failed to get all keys",n),[]}}function M0(){try{const e={localStorage:{},sessionStorage:{}};return Object.keys(localStorage).forEach(t=>{if(t.startsWith("imogi_"))try{e.localStorage[t]=JSON.parse(localStorage.getItem(t))}catch{e.localStorage[t]=localStorage.getItem(t)}}),Object.keys(sessionStorage).forEach(t=>{if(t.startsWith("imogi_"))try{e.sessionStorage[t]=JSON.parse(sessionStorage.getItem(t))}catch{e.sessionStorage[t]=sessionStorage.getItem(t)}}),Qn("storage","Exported all storage data",e),e}catch(e){return lt("storage","Failed to export storage",e),null}}const Kr={getItem:Sm,setItem:O0,removeItem:R0,clearAll:P0,clearOnLogout:A0,hasItem:L0,getAllKeys:I0,exportAll:M0},Nf="operational_context_cache",jf=e=>Array.isArray(e)?e:[];function Em(e={}){const{autoResolve:t=!0}=e,[n,r]=N.useState(null),[s,o]=N.useState(!1),[i,l]=N.useState(()=>{const T=window.__IMOGI_SERVER_CONTEXT_STATE__||{};return{ready:!!T.ready,loading:!!T.loading,error:T.error||null}});N.useEffect(()=>{if(!s){try{const T=Kr.getItem(Nf);T&&r(T)}catch(T){console.warn("[useOperationalContext] Cache load failed:",T)}o(!0)}},[]);const{data:u,isLoading:c,error:f,mutate:y}=Zi("imogi_pos.utils.operational_context.get_operational_context",void 0,void 0,{revalidateOnFocus:!1,revalidateOnReconnect:!0,shouldRetryOnError:!1}),{call:v}=N0("imogi_pos.utils.operational_context.set_operational_context");N.useEffect(()=>{var $,G;if(!u)return;const A=(($=u.active_context)==null?void 0:$.pos_profile)?u.active_context:{pos_profile:u.current_pos_profile,branch:u.current_branch},I={pos_profile:A.pos_profile||null,branch:A.branch||null,available_pos_profiles:jf(u.available_pos_profiles),branches:jf(u.branches),require_selection:u.require_selection||!1,has_access:u.has_access!==!1,role_class:u.role_class||null,is_privileged:u.is_privileged||!1,context_required:u.context_required!==!1};r(I),A.pos_profile&&Kr.setItem(Nf,A);const P=(G=u.active_context)==null?void 0:G.pos_profile,q=u.current_pos_profile;t&&(q&&(!P||P!==q))&&(console.log("[OperationalContext] Auto-setting context on server:",{resolved:q,serverHas:P||"none"}),v({pos_profile:u.current_pos_profile,branch:u.current_branch||null}).catch(Q=>{console.warn("[OperationalContext] Failed to auto-set context on server:",Q)}))},[u,t,v]),N.useEffect(()=>{const T=A=>{A!=null&&A.detail&&l({ready:!!A.detail.ready,loading:!!A.detail.loading,error:A.detail.error||null})};return window.addEventListener("imogiServerContextUpdated",T),()=>window.removeEventListener("imogiServerContextUpdated",T)},[]);const m=N.useCallback(async T=>{if(!T||!T.pos_profile)throw new Error("pos_profile is required when setting context");try{const A=await v({pos_profile:T.pos_profile,branch:T.branch||null});if(A!=null&&A.success){const I=A.context||T;return r({pos_profile:I.pos_profile,branch:I.branch,...n}),Kr.setItem("operational_context_cache",I),window.dispatchEvent(new CustomEvent("operationalContextChanged",{detail:I})),y(),{success:!0,context:I}}throw new Error((A==null?void 0:A.message)||"Failed to set operational context")}catch(A){throw console.error("Error setting operational context:",A),A}},[v,n,y]),S=N.useCallback(async(T={})=>{if(typeof window.ensureOperationalContext!="function")throw new Error("ensureOperationalContext is not available");return window.ensureOperationalContext({pos_profile:T.pos_profile||(n==null?void 0:n.pos_profile)||null,branch:T.branch||(n==null?void 0:n.branch)||null,route:T.route,module:T.module,force:T.force===!0})},[n]),E=N.useCallback((T={})=>{const{redirect:A=!0,allowOptional:I=!1}=T;if(!n){if(A)return window.location.href="/app/imogi-module-select",null;throw new Error("Operational context required but not set")}if(n.context_required&&!n.pos_profile){if(n.require_selection){if(A)return window.location.href="/app/imogi-module-select",null;throw new Error("POS Profile selection required")}if(!n.has_access)throw new Error("No POS Profiles configured for your account");if(A)return window.location.href="/app/imogi-module-select",null;throw new Error("Operational context required")}return I&&n.is_privileged&&!n.pos_profile,n},[n]),F=N.useCallback(()=>!!(n&&n.pos_profile),[n]),g=N.useCallback(()=>(n==null?void 0:n.pos_profile)||null,[n]),_=N.useCallback(()=>(n==null?void 0:n.branch)||null,[n]),x=N.useCallback(()=>(n==null?void 0:n.require_selection)||!1,[n]),k=N.useCallback(()=>(n==null?void 0:n.is_privileged)||!1,[n]);return{context:n||{},pos_profile:(n==null?void 0:n.pos_profile)||null,branch:(n==null?void 0:n.branch)||null,available_profiles:(n==null?void 0:n.available_pos_profiles)||[],branches:(n==null?void 0:n.branches)||[],role_class:(n==null?void 0:n.role_class)||null,hasContext:F(),needsSelection:x(),isPrivileged:k(),contextRequired:(n==null?void 0:n.context_required)!==!1,hasAccess:(n==null?void 0:n.has_access)!==!1,serverContextReady:i.ready,serverContextLoading:i.loading,serverContextError:i.error,isLoading:c,error:f,setContext:m,ensureServerContext:S,requireContext:E,refetch:y,getPOSProfile:g,getBranch:_}}const km=N.createContext(null);function F0(){const e=N.useContext(km);if(!e)throw new Error("useImogiPOS must be used within ImogiPOSProvider");return e}function dc({children:e,initialState:t={}}){const n=window.location.origin;return a.jsx(k0,{url:n,tokenParams:{useToken:!1,type:"Bearer"},children:a.jsx(D0,{initialState:t,children:e})})}function D0({children:e,initialState:t={}}){const{pos_profile:n,branch:r,available_profiles:s,isLoading:o,setContext:i}=Em(),l=N.useMemo(()=>n&&s.find(f=>f.name===n)||null,[s,n]),u={...t,pos_profile:n||t.pos_profile,branch:r||t.branch,domain:(l==null?void 0:l.pos_domain)||t.domain,mode:(l==null?void 0:l.mode)||t.mode,company:(l==null?void 0:l.company)||t.company},c={posProfile:u.pos_profile,branch:u.branch,domain:u.domain,mode:u.mode,company:u.company,availableProfiles:s,setProfile:async f=>i({pos_profile:f}),isProfileLoading:o,profileData:l,initialState:u};return a.jsx(km.Provider,{value:c,children:e})}function B0({onReload:e,onBackToLogin:t}){const[n,r]=N.useState(30);return N.useEffect(()=>{if(n<=0){e();return}const s=setTimeout(()=>{r(n-1)},1e3);return()=>clearTimeout(s)},[n,e]),a.jsx("div",{className:"session-expired-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"session-expired-title",children:a.jsxs("div",{className:"session-expired-modal",children:[a.jsx("div",{className:"session-expired-icon",children:a.jsx("i",{className:"fa fa-exclamation-triangle"})}),a.jsx("h2",{id:"session-expired-title",className:"session-expired-title",children:"Session Expired"}),a.jsx("p",{className:"session-expired-message",children:"Your login session has expired. Please log in again to continue."}),a.jsxs("div",{className:"session-expired-details",children:[a.jsxs("div",{className:"session-expired-detail-item",children:[a.jsx("i",{className:"fa fa-info-circle"}),a.jsx("span",{children:"This can happen after being inactive for a while"})]}),a.jsxs("div",{className:"session-expired-detail-item",children:[a.jsx("i",{className:"fa fa-shield-alt"}),a.jsx("span",{children:"Your data is safe and will be restored after login"})]})]}),a.jsxs("div",{className:"session-expired-actions",children:[a.jsxs("button",{className:"btn btn-primary btn-session-reload",onClick:e,children:[a.jsx("i",{className:"fa fa-sync-alt"}),"Reload & Login"]}),a.jsxs("button",{className:"btn btn-secondary btn-session-login",onClick:t,children:[a.jsx("i",{className:"fa fa-sign-in-alt"}),"Back to Login"]})]}),a.jsxs("div",{className:"session-expired-countdown",children:["Auto-reloading in ",n," seconds..."]}),a.jsx("div",{className:"session-expired-help",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Need help?"})," Contact your system administrator if this keeps happening."]})})]})})}function U0({children:e}){const[t,n]=N.useState(!1);N.useEffect(()=>{const o=i=>{console.error("[SessionExpired] Session expired event received:",i.detail),n(!0)};return window.addEventListener("imogi-session-expired",o),window.frappe&&window.frappe.session&&window.frappe.session.user==="Guest"&&(console.error("[SessionExpired] Already logged out (Guest user)"),n(!0)),()=>{window.removeEventListener("imogi-session-expired",o)}},[]);const r=()=>{console.log("[SessionExpired] Reloading page..."),window.location.reload()},s=()=>{console.log("[SessionExpired] Redirecting to login..."),window.location.pathname.startsWith("/app/"),window.location.href="/login"};return t?a.jsxs(a.Fragment,{children:[e,a.jsx(B0,{onReload:r,onBackToLogin:s})]}):a.jsx(a.Fragment,{children:e})}const be={GET_ACTIVE_OPENING:"imogi_pos.api.cashier.get_active_opening",CREATE_INVOICE_FROM_ORDER:"imogi_pos.api.cashier.create_invoice_from_order",PROCESS_PAYMENT:"imogi_pos.api.cashier.process_payment",COMPLETE_ORDER:"imogi_pos.api.cashier.complete_order",GET_CASHIER_DEVICE_SESSIONS:"imogi_pos.api.cashier.get_cashier_device_sessions",GET_OPENING_SUMMARY:"imogi_pos.api.cashier.get_opening_summary",CLOSE_POS_OPENING:"imogi_pos.api.cashier.close_pos_opening",PRINT_BILL:"imogi_pos.api.cashier.print_bill",PRINT_KOT:"imogi_pos.api.cashier.print_kot",CHECK_PRINTER:"imogi_pos.api.cashier.check_printer_status",CREATE_ORDER:"imogi_pos.api.orders.create_order",UPDATE_ORDER:"imogi_pos.api.orders.update_order",SUBMIT_ORDER:"imogi_pos.api.orders.submit_order",CREATE_TABLE_ORDER:"imogi_pos.api.orders.create_table_order",GET_ORDER:"imogi_pos.api.orders.get_order",ADD_ITEM:"imogi_pos.api.orders.add_item_to_order",UPDATE_ITEM_QTY:"imogi_pos.api.orders.update_item_qty",REMOVE_ITEM:"imogi_pos.api.orders.remove_item",REQUEST_BILL:"imogi_pos.api.orders.request_bill",CLAIM_ORDER:"imogi_pos.api.orders.claim_order",LIST_ORDERS_FOR_CASHIER:"imogi_pos.api.billing.list_orders_for_cashier",GET_ACTIVE_KOTS:"imogi_pos.api.kot.get_active_kots",UPDATE_KOT_STATUS:"imogi_pos.api.kot.update_kot_status",UPDATE_KOT_STATE:"imogi_pos.api.kot.update_kot_state",SEND_TO_KITCHEN:"imogi_pos.api.kot.send_to_kitchen",GET_PENDING_ORDERS:"imogi_pos.api.cashier.get_pending_orders",GET_ORDER_DETAILS:"imogi_pos.api.cashier.get_order_details",GET_PAYMENT_METHODS:"imogi_pos.api.cashier.get_payment_methods",SPLIT_BILL:"imogi_pos.api.cashier.split_bill",GET_POS_ITEMS:"imogi_pos.api.items.get_pos_items",GET_ITEM_GROUPS:"imogi_pos.api.variants.get_item_groups",GET_ITEM_VARIANTS:"imogi_pos.api.variants.get_item_variants",CHOOSE_VARIANT:"imogi_pos.api.variants.choose_variant_for_order_item",SEARCH_CUSTOMERS:"imogi_pos.api.customers.search_customers",GET_TABLES:"imogi_pos.api.layout.get_tables",UPDATE_TABLE_STATUS:"imogi_pos.api.layout.update_table_status",GET_FLOORS:"imogi_pos.api.layout.get_floors",GET_TABLE_LAYOUT:"imogi_pos.api.layout.get_table_layout",SAVE_TABLE_LAYOUT:"imogi_pos.api.layout.save_table_layout",GET_AVAILABLE_DEVICES:"imogi_pos.api.customer_display_editor.get_available_devices",GET_DISPLAY_TEMPLATES:"imogi_pos.api.customer_display_editor.get_display_templates",SAVE_DEVICE_CONFIG:"imogi_pos.api.customer_display_editor.save_device_config",RESET_DEVICE_CONFIG:"imogi_pos.api.customer_display_editor.reset_device_config",TEST_DEVICE_DISPLAY:"imogi_pos.api.customer_display_editor.test_device_display",DUPLICATE_PROFILE:"imogi_pos.api.customer_display_editor.duplicate_profile",CREATE_PROFILE:"imogi_pos.api.customer_display_editor.create_profile",SEND_ORDER_TO_DISPLAY:"imogi_pos.api.customer_display.send_order_to_display",UPDATE_DISPLAY_STATUS:"imogi_pos.api.customer_display.update_display_status",CLEAR_DISPLAY:"imogi_pos.api.customer_display.clear_display",GET_DISPLAY_FOR_TABLE:"imogi_pos.api.customer_display.get_display_for_table",SHOW_PAYMENT_PROCESSING:"imogi_pos.api.customer_display.show_payment_processing",SHOW_THANK_YOU:"imogi_pos.api.customer_display.show_thank_you",GET_AVAILABLE_MODULES:"imogi_pos.api.module_select.get_available_modules",VALIDATE_OPENING_SESSION:"imogi_pos.api.module_select.validate_opening_session",GET_ACTIVE_POS_OPENING:"imogi_pos.api.module_select.get_active_pos_opening",SET_USER_BRANCH:"imogi_pos.api.public.set_user_branch",GET_BRANDING:"imogi_pos.api.public.get_branding"},Cm={SELLABLE:"sellable",TEMPLATE:"template",GROUPED:"grouped",VARIANT:"variant",BOTH:"both"},_s="/app/imogi-module-select";function z0(e={}){const{requiresOpening:t=!1,autoRedirect:n=!0,targetModule:r=null}=e,s=N.useRef(0),{pos_profile:o,branch:i,available_profiles:l,needsSelection:u,contextRequired:c,hasAccess:f,isLoading:y,error:v,refetch:m,serverContextReady:S,serverContextLoading:E,serverContextError:F,ensureServerContext:g}=Em(),[_,x]=N.useState(!1),[k,T]=N.useState("loading"),[A,I]=N.useState(0),[P,q]=N.useState(0),[L,$]=N.useState(!1),[G,Q]=N.useState(null),R=3,U=2,Z=300,pe=500,M=!!(o&&i&&S),H=!!(t&&M),{data:D,isLoading:ne,error:te,mutate:ve}=Zi(be.GET_ACTIVE_POS_OPENING,void 0,H?void 0:!1,{revalidateOnFocus:!1,revalidateOnReconnect:!1,shouldRetryOnError:!1,errorRetryCount:0});N.useEffect(()=>{if(!o||!t){Q(null);return}const ie=++s.current;frappe.call({method:"frappe.client.get_value",args:{doctype:"POS Profile",filters:{name:o},fieldname:["imogi_require_pos_session","imogi_enforce_session_on_cashier"]},callback:ue=>{ie===s.current&&ue.message&&Q({imogi_require_pos_session:ue.message.imogi_require_pos_session||0,imogi_enforce_session_on_cashier:ue.message.imogi_enforce_session_on_cashier||0})}})},[o,t]),N.useEffect(()=>{if(!t){T("ok");return}if(!H||ne||E){(k!=="missing"||L)&&T("loading");return}if(F){T("error");return}if(te){const ue=(te==null?void 0:te.message)||"";if(ue.includes("permission")||ue.includes("403")||ue.includes("401")){console.error("[POSProfileGuard] Permission/auth error:",ue),T("error");return}if(ue.includes("timeout")||ue.includes("network")||ue.includes("fetch")){console.error("[POSProfileGuard] Network error:",ue),T("error");return}}if(D!=null&&D.error_code&&D.error_code!=="no_active_opening"){console.error("[POSProfileGuard] Backend error:",D.error_code,D.error_message),T("error");return}const ie=!!(D!=null&&D.pos_opening_entry);if(!D||!ie){if(G){const ue=!!G.imogi_require_pos_session,We=!!G.imogi_enforce_session_on_cashier;if(!ue||!We){console.info("[POSProfileGuard] No opening found but profile allows operation without session:",{requiresSession:ue,enforcesOnCashier:We,profileName:o}),T("ok");return}console.warn("[POSProfileGuard] Opening required but not found:",{hasResponse:!!D,hasEntryField:ie,requiresSession:ue,enforcesOnCashier:We,profileName:o}),T("needs_opening")}else T("loading");return}T("ok")},[t,H,ne,te,D,E,F,k,L,G]),N.useEffect(()=>{!ne&&L&&$(!1)},[ne,L]),N.useEffect(()=>{if(!H||k!=="error"||!ve)return;const ie=(te==null?void 0:te.message)||(D==null?void 0:D.error_message)||"";if(!(ie.includes("Context Required")||ie.includes("Operational context")||(D==null?void 0:D.error_code)==="missing_pos_profile")||P>=U)return;const We=setTimeout(()=>{q(Lt=>Lt+1),$(!0),ve()},pe);return()=>clearTimeout(We)},[H,k,te,D,P,ve]),N.useEffect(()=>{const ie=(D==null?void 0:D.pos_opening_entry)||null;k==="ok"&&ie?console.info("[POSProfileGuard]  Opening found:",ie):k==="ok"&&!ie&&G&&console.info("[POSProfileGuard]  No opening but allowed by profile settings:",{requireSession:!!G.imogi_require_pos_session,enforceOnCashier:!!G.imogi_enforce_session_on_cashier,profile:o}),k==="needs_opening"&&console.warn("[POSProfileGuard]   Opening required but missing:",{profile:o,requireSession:!!(G!=null&&G.imogi_require_pos_session),enforceOnCashier:!!(G!=null&&G.imogi_enforce_session_on_cashier)}),k==="error"&&console.error("[POSProfileGuard]  Error status:",{errorMessage:(te==null?void 0:te.message)||(D==null?void 0:D.error_message)||null,errorCode:(D==null?void 0:D.error_code)||null})},[k,te,D,G,o]),N.useEffect(()=>{k==="ok"&&P>0&&q(0)},[k,P]),N.useEffect(()=>{if(!(y||E||t&&ne)){if(F){x(!1);return}if(!S){x(!1);return}if(c&&!o&&l.length===0&&!f){if(x(!1),n){const ie=r?`${_s}?reason=missing_pos_profile&target=${r}`:_s;window.location.href=ie}return}if(c&&!o&&l.length>0&&u){if(x(!1),l.length===1&&A<R){const ie=l[0];console.info("[POSProfileGuard]  Auto-selecting single available profile:",ie.name);const ue=setTimeout(()=>{I(We=>We+1),g?g({force:!0,pos_profile:ie.name}).catch(We=>{console.error("[POSProfileGuard] Failed to auto-select profile:",We),m&&m()}):m&&m()},Z);return()=>clearTimeout(ue)}if(A<R){const ie=setTimeout(()=>{I(ue=>ue+1),m&&m()},Z);return()=>clearTimeout(ie)}if(x(!1),n){console.warn("[POSProfileGuard]   Multiple profiles available, redirecting to module select");const ie=r?`${_s}?reason=needs_profile_selection&target=${r}`:_s;window.location.href=ie}return}if(o&&A>0&&I(0),t&&o){if(!M){x(!1);return}if(k==="error"){x(!1);return}if(k==="needs_opening"){x(!1);return}}x(!0)}},[o,i,l,y,E,F,S,t,D,te,ne,k,n,u,c,f,A,m,g,r]);const Te=N.useCallback(()=>{g&&g({force:!0}).catch(()=>{})},[g]),ze=N.useMemo(()=>o&&l.find(ie=>ie.name===o)||null,[l,o]);return N.useEffect(()=>{const ie=()=>{ve&&ve()};return window.addEventListener("posSessionOpened",ie),()=>window.removeEventListener("posSessionOpened",ie)},[ve]),{isLoading:y||E||t&&ne,guardPassed:_,error:v,serverContextReady:S,serverContextError:F,retryServerContext:Te,openingStatus:k,openingError:te,retryOpening:ve,posProfile:o,profileData:ze,branch:i||null,posOpening:D||null,hasOpening:!!(D&&D.pos_opening_entry),redirectToModuleSelect:()=>{window.location.href=_s}}}let bf=!1;async function _e(e,t={},n={}){if(!e||typeof e!="string"){const u=new Error(`[apiCall] Invalid method parameter: ${JSON.stringify(e)}. Expected non-empty string.`);throw lt("api","Invalid method parameter",{method:e,args:t,options:n}),u}const{freeze:r=!1,silent:s=!1,retry:o=2,timeout:i=3e4,onSessionExpired:l=null}=n;if(q0())throw lt("api","Session already expired (Guest user detected)"),Ka(l),new Error("Session expired. Please log in again.");Qn("api",`Calling ${e}`,t);try{let u;window.frappe&&typeof window.frappe.call=="function"?u=await $0(e,t,{freeze:r,timeout:i}):u=await V0(e,t,{timeout:i});const c=H0(u);if(G0(c))throw lt("api","Login page detected in response"),Ka(l),new Error("Session expired. Please log in again.");return Qn("api",`Success: ${e}`,c),c}catch(u){if(lt("api",`Error calling ${e}`,{method:e,args:t,error:u.message,stack:u.stack,httpStatus:u.httpStatus,responseText:u.responseText,exc:u.exc}),Nm(u))throw lt("api",`Authentication error detected: ${u.httpStatus}`,{exc:u.exc,exception:u.exception}),Ka(l),new Error("Session expired. Please log in again.");if(W0(u)&&o>0)return b0("api",`Retrying ${e} (${o} attempts left)`),await J0(1e3),_e(e,t,{...n,retry:o-1});throw s||Q0(u),u}}function $0(e,t,n){const{freeze:r,timeout:s}=n;return new Promise((o,i)=>{const l=setTimeout(()=>{i(new Error(`Request timeout after ${s}ms`))},s);window.frappe.call({method:e,args:t,freeze:r,callback:u=>{clearTimeout(l),o(u)},error:u=>{clearTimeout(l);const c=new Error(u.exception||u.message||"API call failed");c.httpStatus=u.httpStatus||u.responseJSON&&u.responseJSON.httpStatus,c.responseText=u.responseText,c._frappe_error=u,i(c)}})})}async function V0(e,t,n){const{timeout:r}=n,s=K0();if(!s)throw lt("api","CSRF token not found",{hasFrappe:!!window.frappe,hasCsrfToken:!!(window.frappe&&window.frappe.csrf_token),hasWindowToken:!!window.FRAPPE_CSRF_TOKEN,cookies:document.cookie}),new Error("CSRF token not found. Session may have expired.");vt("api",`Using CSRF token for ${e}`,{tokenLength:s.length,tokenPreview:s.substring(0,10)+"..."});const o=new AbortController,i=setTimeout(()=>o.abort(),r);try{const l=await fetch(`/api/method/${e}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":s},credentials:"include",body:JSON.stringify(t),signal:o.signal});if(clearTimeout(i),!l.ok){let c="",f=null;try{c=await l.text(),f=JSON.parse(c)}catch{}let y=`HTTP ${l.status}: ${l.statusText}`;if(f){if(f.exception)y=f.exception;else if(f._server_messages)try{y=JSON.parse(f._server_messages).map(S=>JSON.parse(S).message).join(", ")}catch{y=f._server_messages}}lt("api",`HTTP Error ${l.status} calling ${e}`,{status:l.status,statusText:l.statusText,errorBody:c.substring(0,500),errorData:f,method:e,args:t});const v=new Error(y);throw v.httpStatus=l.status,v.responseText=c,v.responseData=f,v}let u;try{u=await l.json()}catch(c){const f=await l.text();if(lt("api",`Failed to parse response as JSON for ${e}`,{method:e,args:t,responsePreview:f.slice(0,300),contentType:l.headers.get("content-type")}),f.trim().startsWith("<!DOCTYPE")||f.trim().startsWith("<html")){const v=new Error("Server returned HTML error page (500). Check server logs for details.");throw v.httpStatus=500,v.responseText=f,v.isHTMLError=!0,v}const y=new Error(`Invalid response format: Expected JSON, got ${l.headers.get("content-type")}`);throw y.responseText=f,y.parseError=c,y}return{message:u.message,exc:u.exc,exception:u.exception,_exc_source:u._exc_source}}catch(l){throw clearTimeout(i),l.name==="AbortError"?new Error(`Request timeout after ${r}ms`):l}}function H0(e){if(e&&typeof e=="object"){if(e.exc||e.exception){const t=new Error(e.exception||"API returned an exception");throw t.exc=e.exc,t.exception=e.exception,t._exc_source=e._exc_source,t}return e.message}return e}function q0(){return window.frappe&&window.frappe.session?window.frappe.session.user==="Guest":!1}function G0(e){return typeof e=="string"?e.includes("<!DOCTYPE html>")&&(e.includes("login")||e.includes("Login")):!1}function Nm(e){const t=e.httpStatus;if(t===401||t===403)return vt("api",`Auth error detected: ${t}`),!0;if(t===417){const n=e.exc||e.exception||"",s=["SessionExpired","AuthenticationError","PermissionError","Unauthorized","Forbidden"].some(o=>n.includes(o));return s?vt("api",`417 is auth error: ${n}`):vt("api",`417 is NOT auth error (validation/business logic): ${n}`),s}return!1}function W0(e){return Nm(e)?!1:!!(e.message&&(e.message.includes("timeout")||e.message.includes("network")||e.message.includes("Failed to fetch")))}function K0(){if(window.frappe&&window.frappe.csrf_token)return window.frappe.csrf_token;if(window.FRAPPE_CSRF_TOKEN)return window.FRAPPE_CSRF_TOKEN;const e=document.cookie.split(";");for(let t of e){const[n,r]=t.trim().split("=");if(n==="csrf_token")return r}return null}function Ka(e){if(!bf){if(bf=!0,console.error("[imogi-api] Session expired - showing UI"),typeof e=="function"){e();return}window.dispatchEvent(new CustomEvent("imogi-session-expired",{detail:{message:"Your session has expired. Please log in again."}}))}}function Q0(e){const t=Y0(e);if(window.frappe&&window.frappe.msgprint){window.frappe.msgprint({title:"Error",indicator:"red",message:t});return}alert(`Error: ${t}`)}function Y0(e){return e.exception?e.exception:e.message?e.message:"An unexpected error occurred"}function J0(e){return new Promise(t=>setTimeout(t,e))}function X0({requiresOpening:e=!0,allowUrlParam:t=!0,autoRefreshMs:n=3e4}={}){const[r,s]=N.useState(null),[o,i]=N.useState("loading"),[l,u]=N.useState(null),[c,f]=N.useState(!1),[y,v]=N.useState(null),m=N.useRef(r);N.useEffect(()=>{m.current=r},[r]),N.useEffect(()=>{(async()=>{try{if(!t){await E();return}const x=new URLSearchParams(window.location.search).get("opening_entry");x?await S(x):await E()}catch(_){console.error("[useEffectiveOpening] Initialization failed:",_),i("error"),u(_.message||"Failed to initialize opening")}})()},[t]);const S=N.useCallback(async g=>{var _;try{i("loading");const x=(_=window.__IMOGI_CASHIER_CONTEXT)==null?void 0:_.pos_profile;if(!x)throw new Error("POS Profile not available in context");console.log("[useEffectiveOpening] Validating URL opening:",g);const k=await _e(be.VALIDATE_OPENING_SESSION,{opening_entry:g,pos_profile:x});if(!(k!=null&&k.valid)){i("error"),u((k==null?void 0:k.error)||"Invalid opening entry");return}s(k.opening||{name:g}),f(!0),i("valid"),u(null),v(new Date),console.log("[useEffectiveOpening] URL opening validated:",g)}catch(x){console.error("[useEffectiveOpening] URL opening validation failed:",x),i("error"),u(x.message||"Failed to validate opening")}},[]),E=N.useCallback(async()=>{try{i("loading");const g=await _e(be.GET_ACTIVE_OPENING);if(!(g!=null&&g.has_opening)){if(e){i("missing"),u("No active POS Opening. Please create one to proceed.");return}i("valid"),u(null);return}const _=g.opening,x=(_==null?void 0:_.name)||(_==null?void 0:_.pos_opening_entry);if(!_||!x){i("missing"),u("Invalid opening data returned from server"),console.error("[useEffectiveOpening] has_opening=true but opening is null:",g);return}const k={..._,name:x};s(k),f(!1),i("valid"),u(null),v(new Date)}catch(g){console.error("[useEffectiveOpening] Failed to load active opening:",g),i("error"),u(g.message||"Failed to load active opening")}},[e]),F=N.useCallback(async()=>{var _,x;const g=m.current;if(!(g!=null&&g.name)){console.warn("[useEffectiveOpening] No opening to revalidate");return}try{i("loading");const k=await _e(be.GET_ACTIVE_OPENING);if(!(k!=null&&k.has_opening)){i("mismatch"),u(`Opening ${g.name} is no longer active. Please reload to proceed.`),console.warn("[useEffectiveOpening] Opening no longer active:",g.name);return}const T=((_=k.opening)==null?void 0:_.name)||((x=k.opening)==null?void 0:x.pos_opening_entry);if(!T){i("error"),u("Invalid opening data from server"),console.error("[useEffectiveOpening] has_opening=true but opening.name is null:",k);return}if(c&&T!==g.name){i("mismatch"),u(`Your opening (${g.name}) differs from current active opening (${T}). Please reload page to switch openings.`),console.warn("[useEffectiveOpening] Opening mismatch:",{urlOpening:g.name,activeOpening:T});return}if(!c&&T!==g.name){const A={...k.opening,name:T};s(A)}i("valid"),u(null),v(new Date)}catch(k){console.error("[useEffectiveOpening] Re-validation failed:",k),i("error"),u(k.message||"Re-validation failed")}},[c]);return N.useEffect(()=>(window.__effectiveOpeningMountCount||(window.__effectiveOpeningMountCount=0),window.__effectiveOpeningMountCount++,()=>{}),[]),N.useEffect(()=>{if(o!=="valid"||!n)return;const g=setInterval(()=>{F()},n);return()=>clearInterval(g)},[o,n]),{opening:r,effectiveOpeningName:(r==null?void 0:r.name)||null,status:o,error:l,isValid:o==="valid",isMissing:o==="missing",isLoading:o==="loading",isMismatch:o==="mismatch",isError:o==="error",isUrlOpening:c,lastValidatedAt:y,revalidate:F}}function Qa(e,t=null,n=null){const r=e!=null;let s=null,o=null;r&&(s={pos_profile:e},t&&(s.branch=t),n&&(s.order_type=n),o=`order-history-${e}-${n||"all"}`);const i=r?be.LIST_ORDERS_FOR_CASHIER:null,l=Zi(i,s,o,{revalidateOnFocus:!1,refreshInterval:r?3e4:0}),[u,c]=N.useState(0),f=3,y=400;return N.useEffect(()=>{var E,F,g,_;if(!r||!(l!=null&&l.error)||u>=f)return;const v=((E=l.error)==null?void 0:E.message)||((_=(g=(F=l.error)==null?void 0:F.response)==null?void 0:g.data)==null?void 0:_.message)||"";if(!(v.includes("Context Required")||v.includes("Operational context"))||!l.mutate)return;const S=setTimeout(()=>{c(x=>x+1),l.mutate()},y*(u+1));return()=>clearTimeout(S)},[r,l,u]),N.useEffect(()=>{l!=null&&l.data&&u>0&&c(0)},[l==null?void 0:l.data,u]),l}function Z0(e=null,t=null){const n=e!=null,r=n?be.GET_PAYMENT_METHODS:null,s=n?{pos_profile:e,branch:t}:null,o=n?`payment-methods-${e}`:null;return Zi(r,s,o,{revalidateOnFocus:!1,refreshInterval:n?6e4:0})}function ns({message:e="Loading..."}){return a.jsxs("div",{className:"imogi-loading",children:[a.jsx("div",{className:"spinner"}),a.jsx("p",{children:e})]})}function Ii({error:e,onRetry:t}){return a.jsxs("div",{className:"imogi-error",children:[a.jsx("h3",{children:" Error"}),a.jsx("p",{children:(e==null?void 0:e.message)||String(e)}),t&&a.jsx("button",{onClick:t,className:"btn-retry",children:"Retry"})]})}function jm(){const[e,t]=N.useState(navigator.onLine),[n,r]=N.useState(!1);return N.useEffect(()=>{const s=()=>{t(!0),r(!0),window.frappe&&frappe.show_alert&&frappe.show_alert({message:" Back online",indicator:"green"},3);const i=setTimeout(()=>r(!1),5e3);return()=>clearTimeout(i)},o=()=>{t(!1),r(!1),window.frappe&&frappe.show_alert&&frappe.show_alert({message:" No internet connection",indicator:"orange"},10)};return window.addEventListener("online",s),window.addEventListener("offline",o),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",o)}},[]),e&&!n?null:a.jsxs("div",{className:`network-status ${e?"online":"offline"}`,role:"status","aria-live":"polite",children:[a.jsx("i",{className:`fa fa-${e?"wifi":"wifi-slash"}`}),a.jsx("span",{children:e?"Reconnected":"Offline"})]})}const ou="operational_context_cache";let sn=null,Tf=0;const e_=60*1e3;async function t_(){var n,r;if(console.log("[OperationalContext] Resolving context..."),sn){if(Ya(sn))return console.log("[OperationalContext] Using in-memory context:",sn.pos_profile),sn;console.warn("[OperationalContext] In-memory context invalid, clearing"),sn=null}const e=Kr.getItem(ou);if(e&&Ya(e))return console.log("[OperationalContext] Using cached context:",e.pos_profile),sn=e,e;e&&(console.warn("[OperationalContext] Cached context invalid, clearing"),Kr.removeItem(ou));const t=Date.now();if(t-Tf<e_&&sn){const s=sn;if(Ya(s))return console.log("[OperationalContext] Using recent fetch:",s.pos_profile),s}try{console.log("[OperationalContext] Fetching from server...");const s=await _e("imogi_pos.utils.operational_context.get_operational_context",{});if(Tf=t,(n=s.active_context)!=null&&n.pos_profile){const o={pos_profile:s.active_context.pos_profile,branch:s.active_context.branch};return console.log("[OperationalContext] Server has active context:",o.pos_profile),Of(o),sn=o,o}if(s.current_pos_profile&&s.current_branch){const o={pos_profile:s.current_pos_profile,branch:s.current_branch};return console.log("[OperationalContext] Auto-resolved by server:",o.pos_profile,"method:",s.selection_method),await n_(o),Of(o),sn=o,o}throw s.has_access?s.require_selection?new Error("CONTEXT_SELECTION_REQUIRED: Multiple POS Profiles available. Please select one from module selection page."):new Error("CONTEXT_UNAVAILABLE: POS Profile required but could not be resolved."):new Error("CONTEXT_NO_ACCESS: No POS Profiles configured for your account. Contact administrator.")}catch(s){throw console.error("[OperationalContext] Resolution failed:",s),(r=s.message)!=null&&r.startsWith("CONTEXT_")?s:new Error(`CONTEXT_ERROR: Failed to resolve operational context: ${s.message||"Unknown error"}`)}}async function n_(e){try{await _e("imogi_pos.utils.operational_context.set_operational_context",{pos_profile:e.pos_profile,branch:e.branch}),console.log("[OperationalContext] Context persisted to server session")}catch(t){console.error("[OperationalContext] Failed to persist to server:",t)}}function Ya(e){return e!==null&&typeof e=="object"&&typeof e.pos_profile=="string"&&e.pos_profile.length>0&&typeof e.branch=="string"&&e.branch.length>0}function Of(e){const t={pos_profile:e.pos_profile,branch:e.branch,timestamp:new Date().toISOString()};Kr.setItem(ou,t),console.log("[OperationalContext] Saved to cache:",e.pos_profile)}function fc({title:e,message:t,actions:n=[],error:r=null}){return a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"max-w-md w-full mx-4 bg-white rounded-lg shadow-lg border border-gray-200 p-8",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 text-center mb-2",children:e}),a.jsx("p",{className:"text-gray-600 text-center mb-6",children:t}),r&&a.jsx("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded text-sm",children:a.jsx("div",{className:"font-mono text-red-800 break-words",children:typeof r=="string"?r:r.message||JSON.stringify(r)})}),n.length>0&&a.jsx("div",{className:"space-y-3",children:n.map((s,o)=>{const i=o===0;return a.jsx("a",{href:s.href,className:`
                    block w-full py-3 px-4 rounded-md text-center font-medium
                    transition-colors duration-200
                    ${i?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                  `,onClick:s.onClick,children:s.label},o)})}),a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:a.jsx("p",{className:"text-xs text-gray-500 text-center",children:" Tip: Buka browser console (F12) untuk lihat error details"})})]})})}const bm=N.createContext(void 0);function r_({selectedOrder:e,setSelectedOrder:t,viewMode:n,setViewMode:r,orders:s,ordersLoading:o,ordersError:i,selfOrders:l,kioskOrders:u,showPayment:c,setShowPayment:f,showSplit:y,setShowSplit:v,showSummary:m,setShowSummary:S,showCloseShift:E,setShowCloseShift:F,showVariantPicker:g,setShowVariantPicker:_,variantPickerContext:x,setVariantPickerContext:k,showTableSelector:T,setShowTableSelector:A,selectedTable:I,setSelectedTable:P,effectiveOpening:q,posMode:L,posProfile:$,branch:G,profileData:Q,branding:R,printerStatus:U,guardPassed:Z,hasValidOpening:pe,creatingOrder:M,isCustomerDisplayOpen:H,openCustomerDisplay:D,closeCustomerDisplay:ne,onAddItemToOrder:te,pendingOrderType:ve,pendingTable:Te,children:ze}){var xe;const ie=N.useMemo(()=>s,[s==null?void 0:s.length,s==null?void 0:s.map(le=>le.name).join(",")]),ue=N.useMemo(()=>l,[l==null?void 0:l.length,l==null?void 0:l.map(le=>le.name).join(",")]),We=N.useMemo(()=>u,[u==null?void 0:u.length,u==null?void 0:u.map(le=>le.name).join(",")]),Lt=N.useMemo(()=>e,[e==null?void 0:e.name,e==null?void 0:e.grand_total,(xe=e==null?void 0:e.items)==null?void 0:xe.length]),kt=N.useMemo(()=>Q,[Q==null?void 0:Q.name,Q==null?void 0:Q.mode,Q==null?void 0:Q.imogi_enable_self_order,Q==null?void 0:Q.imogi_enable_kiosk]),Ct=N.useMemo(()=>R,[R==null?void 0:R.logo,R==null?void 0:R.primary_color,R==null?void 0:R.secondary_color]),ce=N.useMemo(()=>U,[U==null?void 0:U.connected,U==null?void 0:U.checking]),ye=N.useMemo(()=>({selectedOrder:Lt,setSelectedOrder:t,viewMode:n,setViewMode:r,orders:ie,ordersLoading:o,ordersError:i,selfOrders:ue,kioskOrders:We,showPayment:c,setShowPayment:f,showSplit:y,setShowSplit:v,showSummary:m,setShowSummary:S,showCloseShift:E,setShowCloseShift:F,showVariantPicker:g,setShowVariantPicker:_,variantPickerContext:x,setVariantPickerContext:k,showTableSelector:T,setShowTableSelector:A,selectedTable:I,setSelectedTable:P,effectiveOpening:q,posMode:L,posProfile:$,branch:G,profileData:kt,branding:Ct,printerStatus:ce,guardPassed:Z,hasValidOpening:pe,creatingOrder:M,isCustomerDisplayOpen:H,openCustomerDisplay:D,closeCustomerDisplay:ne,onAddItemToOrder:te,pendingOrderType:ve,pendingTable:Te}),[Lt,t,n,r,ie,o,i,ue,We,c,f,y,v,m,S,E,F,g,_,x,k,T,A,I,P,q,L,$,G,kt,Ct,ce,Z,pe,M,H,D,ne,te,ve,Te]);return a.jsx(bm.Provider,{value:ye,children:ze})}function io(){const e=N.useContext(bm);if(!e)throw new Error("useCashierContext must be used within CashierProvider");return e}function s_(){const{selectedOrder:e,viewMode:t,setViewMode:n,posMode:r,selectedTable:s,setShowTableSelector:o,setShowPayment:i,setShowSplit:l,creatingOrder:u,isCustomerDisplayOpen:c,openCustomerDisplay:f,closeCustomerDisplay:y}=io(),[v,m]=N.useState(!1),S=!!e,E=r==="Counter",F=r==="Table",g=()=>{F?o(!0):(console.log("[CashierActionBar] New order requested"),window.dispatchEvent(new CustomEvent("createNewOrder")))},_=()=>{i(!0),n("payment")},x=()=>{l(!0),n("split")},k=async()=>{if(!(e!=null&&e.name)){console.warn("[CashierActionBar] Cannot hold: no order selected");return}try{console.log("[CashierActionBar] Holding order:",e.name),await _e(be.UPDATE_ORDER,{pos_order:e.name,workflow_state:"On Hold"}),typeof frappe<"u"&&frappe.show_alert&&frappe.show_alert({message:"Order held",indicator:"blue"}),window.dispatchEvent(new CustomEvent("refreshOrder"))}catch(q){console.error("[CashierActionBar] Failed to hold order:",q),typeof frappe<"u"&&frappe.show_alert?frappe.show_alert({message:"Failed to hold order: "+(q.message||"Unknown error"),indicator:"red"}):alert("Failed to hold order: "+(q.message||"Unknown error"))}},T=async()=>{if(!(e!=null&&e.name)){console.warn("[CashierActionBar] Cannot clear: no order selected");return}if(!confirm(`Clear order ${e.name}?

This will remove all items and cancel the order. This action cannot be undone.`)){console.log("[CashierActionBar] Clear order cancelled by user");return}try{console.log("[CashierActionBar] Clearing order:",e.name),await _e("imogi_pos.api.orders.cancel_order",{pos_order:e.name}),typeof frappe<"u"&&frappe.show_alert&&frappe.show_alert({message:"Order cleared",indicator:"orange"}),window.dispatchEvent(new CustomEvent("createNewOrder"))}catch(L){console.error("[CashierActionBar] Failed to clear order:",L),typeof frappe<"u"&&frappe.show_alert?frappe.show_alert({message:"Failed to clear order: "+(L.message||"Unknown error"),indicator:"red"}):alert("Failed to clear order: "+(L.message||"Unknown error"))}},I=u?{label:"Creating...",icon:"fa-spinner fa-spin",disabled:!0,onClick:null}:F&&!s?{label:"Select Table",icon:"fa-chair",disabled:!1,onClick:g}:S&&t==="catalog"?{label:"Charge",icon:"fa-credit-card",disabled:!1,onClick:_,accent:!0}:{label:E?"New Order":"New Table",icon:"fa-plus",disabled:!1,onClick:g},P=[{label:"Hold Order",icon:"fa-pause",onClick:k,disabled:!S,show:!0},{label:"Clear Order",icon:"fa-trash",onClick:T,disabled:!S,show:!0,danger:!0}];return a.jsx("div",{className:"cashier-action-bar",children:a.jsxs("div",{className:"action-bar-container",children:[a.jsxs("div",{className:"view-controls-mobile",children:[a.jsxs("button",{className:`view-tab ${t==="orders"?"active":""}`,onClick:()=>n("orders"),"aria-label":"View Orders",children:[a.jsx("i",{className:"fa fa-list"}),a.jsx("span",{className:"view-tab-label",children:"Orders"})]}),a.jsx("button",{className:`view-tab ${t==="catalog"?"active":""}`,onClick:()=>n("catalog"),disabled:!S,title:"Print Bill","aria-label":"Print Bill",children:a.jsx("i",{className:"fa fa-print"})}),a.jsx("button",{className:"action-btn icon-btn",onClick:x,disabled:!S,title:"Split Bill","aria-label":"Split Bill",children:a.jsx("i",{className:"fa fa-cut"})}),a.jsx("button",{className:`action-btn icon-btn ${c?"active":""}`,onClick:c?y:f,title:c?"Close Customer Display":"Open Customer Display","aria-label":"Customer Display",children:a.jsx("i",{className:`fa ${c?"fa-eye-slash":"fa-desktop"}`})}),a.jsxs("div",{className:"more-actions-container",children:[a.jsx("button",{className:"action-btn icon-btn more-btn",onClick:()=>m(!v),title:"More Actions","aria-label":"More Actions",children:a.jsx("i",{className:"fa fa-ellipsis-v"})}),v&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"more-actions-overlay",onClick:()=>m(!1)}),a.jsx("div",{className:"more-actions-menu",children:P.filter(q=>q.show).map((q,L)=>a.jsxs("button",{className:`more-action-item ${q.danger?"danger":""}`,onClick:()=>{var $;($=q.onClick)==null||$.call(q),m(!1)},disabled:q.disabled,children:[a.jsx("i",{className:`fa ${q.icon}`}),a.jsx("span",{children:q.label})]},L))})]})]})]}),a.jsxs("button",{className:`action-btn primary-cta ${I.accent?"accent":""}`,onClick:I.onClick,disabled:I.disabled,children:[a.jsx("i",{className:`fa ${I.icon}`}),a.jsx("span",{children:I.label})]})]})})}function o_({posMode:e,onModeChange:t,posProfile:n,branch:r,posOpening:s,branding:o,profileData:i,printerStatus:l,onSearchScan:u}){var g,_;const[c,f]=N.useState(!1),[y,v]=N.useState(""),m=(s==null?void 0:s.pos_opening_entry)||(s==null?void 0:s.name),S=((_=(g=s==null?void 0:s.balance_details)==null?void 0:g[0])==null?void 0:_.opening_amount)??(s==null?void 0:s.opening_balance)??0,E=x=>{x.preventDefault(),y.trim()&&(u==null||u(y.trim()),v(""))},F=()=>l!=null&&l.checking?a.jsx("i",{className:"fa fa-spinner fa-spin"}):l!=null&&l.connected?a.jsx("i",{className:"fa fa-check-circle",style:{color:"#10b981"}}):a.jsx("i",{className:"fa fa-exclamation-triangle",style:{color:"#f59e0b"}});return a.jsx("header",{className:"cashier-header",children:a.jsxs("div",{className:"header-container",children:[a.jsxs("div",{className:"header-left",children:[(o==null?void 0:o.logo)&&a.jsx("div",{className:"branding-logo",children:a.jsx("img",{src:o.logo,alt:o.company_name||"Logo"})}),a.jsxs("div",{className:"pos-context",children:[a.jsxs("div",{className:"pos-context-item",children:[a.jsx("i",{className:"fa fa-building"}),a.jsx("span",{children:(r==null?void 0:r.name)||r||"N/A"})]}),a.jsxs("div",{className:"pos-context-item",children:[a.jsx("i",{className:"fa fa-cash-register"}),a.jsx("span",{children:(n==null?void 0:n.name)||n||"N/A"})]})]}),a.jsx("button",{className:"info-button",onClick:()=>f(!c),title:"POS Information","aria-label":"Show POS Information",children:a.jsx("i",{className:"fa fa-info-circle"})}),c&&a.jsxs("div",{className:"pos-info-popup",children:[a.jsxs("div",{className:"pos-info-header",children:[a.jsx("strong",{children:"POS Information"}),a.jsx("button",{onClick:()=>f(!1),className:"close-btn","aria-label":"Close",children:a.jsx("i",{className:"fa fa-times"})})]}),a.jsxs("div",{className:"pos-info-body",children:[a.jsxs("div",{className:"info-row",children:[a.jsx("span",{className:"info-label",children:"POS Profile:"}),a.jsx("span",{className:"info-value",children:(n==null?void 0:n.name)||n||"N/A"})]}),a.jsxs("div",{className:"info-row",children:[a.jsx("span",{className:"info-label",children:"Branch:"}),a.jsx("span",{className:"info-value",children:(r==null?void 0:r.name)||r||"N/A"})]}),s&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"info-row",children:[a.jsx("span",{className:"info-label",children:"Opening Entry:"}),a.jsx("span",{className:"info-value",children:m})]}),a.jsxs("div",{className:"info-row",children:[a.jsx("span",{className:"info-label",children:"Opening Balance:"}),a.jsx("span",{className:"info-value",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(S)})]})]}),(o==null?void 0:o.company_name)&&a.jsxs("div",{className:"info-row",children:[a.jsx("span",{className:"info-label",children:"Company:"}),a.jsx("span",{className:"info-value",children:o.company_name})]}),a.jsx("div",{className:"info-section-header",children:"Channels"}),a.jsxs("div",{className:"info-row",children:[a.jsx("span",{className:"info-label",children:"Self Order:"}),a.jsx("span",{className:"info-value",children:(i==null?void 0:i.imogi_enable_self_order)===1?a.jsx("span",{style:{color:"#10b981"},children:" Enabled"}):a.jsx("span",{style:{color:"#6b7280"},children:" Disabled"})})]}),a.jsxs("div",{className:"info-row",children:[a.jsx("span",{className:"info-label",children:"Kiosk:"}),a.jsx("span",{className:"info-value",children:(i==null?void 0:i.imogi_enable_kiosk)===1?a.jsx("span",{style:{color:"#10b981"},children:" Enabled"}):a.jsx("span",{style:{color:"#6b7280"},children:" Disabled"})})]})]})]})]}),a.jsx("div",{className:"header-center",children:a.jsxs("div",{className:"segmented-control",children:[a.jsxs("button",{className:`segment ${e==="Counter"?"active":""}`,onClick:()=>t==null?void 0:t("Counter"),style:{"--active-color":(o==null?void 0:o.primary_color)||"#ff9800"},children:[a.jsx("i",{className:"fa fa-cash-register"}),a.jsx("span",{children:"Counter"})]}),a.jsxs("button",{className:`segment ${e==="Table"?"active":""}`,onClick:()=>t==null?void 0:t("Table"),style:{"--active-color":(o==null?void 0:o.primary_color)||"#2196f3"},children:[a.jsx("i",{className:"fa fa-utensils"}),a.jsx("span",{children:"Dine In"})]})]})}),a.jsxs("div",{className:"header-right",children:[a.jsxs("button",{className:"header-action-btn",onClick:()=>window.dispatchEvent(new CustomEvent("showShiftSummary")),title:"Ringkasan Shift","aria-label":"Show Shift Summary",children:[a.jsx("i",{className:"fa fa-chart-bar"}),a.jsx("span",{className:"action-label",children:"Ringkasan"})]}),a.jsxs("button",{className:"header-action-btn close-shift-btn",onClick:()=>window.dispatchEvent(new CustomEvent("closeShift")),title:"Tutup Shift","aria-label":"Close Shift",children:[a.jsx("i",{className:"fa fa-door-closed"}),a.jsx("span",{className:"action-label",children:"Tutup Shift"})]}),a.jsxs("form",{className:"search-scan-form",onSubmit:E,children:[a.jsx("input",{type:"text",placeholder:"Scan or search...",className:"search-scan-input",value:y,onChange:x=>v(x.target.value)}),a.jsx("button",{type:"submit",className:"search-scan-button","aria-label":"Search",children:a.jsx("i",{className:"fa fa-search"})})]}),a.jsx("div",{className:"printer-status",title:l!=null&&l.connected?"Printer Ready":"Printer Not Connected",children:F()})]})]})})}function i_(){const{posProfile:e,branch:t,posMode:n,effectiveOpening:r,branding:s,setShowSummary:o,setShowCloseShift:i}=io();return a.jsx("header",{className:"cashier-header",children:a.jsxs("div",{className:"cashier-header-container",children:[a.jsx(o_,{branding:s,posProfile:e,branch:t,posMode:n,effectiveOpening:r}),a.jsx("div",{className:"cashier-header-status",children:a.jsx(jm,{})}),a.jsxs("div",{className:"cashier-header-actions",children:[a.jsxs("button",{className:"cashier-btn-summary",onClick:()=>o(!0),title:"Shift Summary",children:[a.jsx("i",{className:"fa-solid fa-chart-bar"})," Summary"]}),a.jsxs("button",{className:"cashier-btn-close-shift",onClick:()=>i(!0),title:"Close Shift",children:[a.jsx("i",{className:"fa-solid fa-power-off"})," Close Shift"]})]})]})})}var Tm={exports:{}},a_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",l_=a_,u_=l_;function Om(){}function Rm(){}Rm.resetWarningCache=Om;var c_=function(){function e(r,s,o,i,l,u){if(u!==u_){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Rm,resetWarningCache:Om};return n.PropTypes=n,n};Tm.exports=c_();var d_=Tm.exports;const ee=Af(d_);function je(e){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e||0)}function Pm({orders:e=[],selectedOrder:t,onSelectOrder:n,onClaimOrder:r,claimedOrders:s={},posMode:o,isMultiSession:i=!1}){const[l,u]=N.useState(""),[c,f]=N.useState("All"),[y,v]=N.useState(null),[m,S]=N.useState(null),[E,F]=N.useState(!1),g={Counter:{label:"Counter",icon:"fa-cash-register",color:"#ff9800"},Table:{label:"Table/Waiter",icon:"fa-utensils",color:"#2196f3"}},_=o||"Counter",x=g[_]||g.Counter,k=x.label,T=x.icon,A=_==="Table",I=e.filter(R=>{var U,Z,pe;if(E&&!R.request_payment||A&&c!=="All"&&R.status!==c)return!1;if(l){const M=l.toLowerCase();return((U=R.name)==null?void 0:U.toLowerCase().includes(M))||((Z=R.table_name)==null?void 0:Z.toLowerCase().includes(M))||((pe=R.customer)==null?void 0:pe.toLowerCase().includes(M))}return!0}),P=R=>R?new Date(R).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"",q=async(R,U)=>{if(R.stopPropagation(),!r){console.warn("[OrderListSidebar] onClaimOrder handler not provided");return}v(U.name),S(null);try{await r(U),v(null)}catch(Z){console.error("[OrderListSidebar] Error claiming order:",Z),S(Z.message||"Failed to claim order"),v(null)}},L=()=>{var R;return((R=frappe==null?void 0:frappe.session)==null?void 0:R.user)||"unknown"},$=R=>R.claimed_by&&R.claimed_by!=="",G=R=>R.claimed_by===L(),Q=R=>$(R)&&!G(R);return a.jsxs("div",{className:"cashier-sidebar",children:[a.jsxs("div",{className:"filter-bar",children:[a.jsxs("div",{className:"mode-indicator",children:[a.jsx("i",{className:`fa ${T}`}),a.jsxs("span",{children:[k," Mode"]})]}),a.jsxs("div",{className:"search-container",children:[a.jsx("input",{type:"text",placeholder:"Search orders...",className:"search-input",value:l,onChange:R=>u(R.target.value)}),a.jsx("button",{className:"search-button",children:a.jsx("i",{className:"fa fa-search"})})]}),A&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"filter-buttons",children:["Ready","Served","All"].map(R=>a.jsx("button",{className:`filter-button ${c===R?"active":""}`,onClick:()=>f(R),children:R},R))}),a.jsx("div",{className:"requested-bills-toggle",children:a.jsxs("button",{className:`filter-button ${E?"active":""}`,onClick:()=>F(!E),children:[a.jsx("i",{className:"fa fa-receipt"}),"Requested Bills Only",E&&` (${I.length})`]})})]})]}),a.jsx("div",{className:"order-list",children:I.length===0?a.jsxs("div",{className:"empty-state-sidebar",children:[a.jsx("i",{className:"fa fa-inbox"}),a.jsx("p",{children:"No orders found"})]}):I.map(R=>{var M;const U=$(R),Z=G(R),pe=Q(R);return a.jsxs("div",{className:`order-card ${(t==null?void 0:t.name)===R.name?"active":""} ${pe?"order-claimed-other":""}`,onClick:()=>!pe&&n(R),title:pe?`Claimed by ${R.claimed_by}`:"",children:[a.jsxs("div",{className:"order-card-header",children:[a.jsx("span",{className:"order-card-number",children:R.name}),a.jsxs("div",{className:"order-card-badges",children:[R.request_payment&&!R.paid_at&&a.jsxs("span",{className:"order-card-badge badge-bill-requested",children:[a.jsx("i",{className:"fa fa-receipt"}),"Bill Requested"]}),i&&U&&a.jsxs("span",{className:`order-card-badge ${Z?"badge-claimed-by-me":"badge-claimed-by-other"}`,children:[a.jsx("i",{className:`fa ${Z?"fa-check-circle":"fa-lock"}`}),Z?"Claimed":"Locked"]}),R.request_payment&&!U&&a.jsxs("button",{className:"order-card-claim-btn btn-claim-primary",onClick:H=>q(H,R),disabled:y===R.name,title:"Claim order for payment",children:[a.jsx("i",{className:`fa ${y===R.name?"fa-spinner fa-spin":"fa-hand-holding-usd"}`}),"Claim for Payment"]}),i&&!U&&!R.request_payment&&a.jsxs("button",{className:"order-card-claim-btn",onClick:H=>q(H,R),disabled:y===R.name,title:"Claim this order for processing",children:[a.jsx("i",{className:`fa ${y===R.name?"fa-spinner fa-spin":"fa-lock-open"}`}),"Claim"]}),R.order_type==="Self Order"&&a.jsxs("span",{className:"order-card-badge badge-self-order",children:[a.jsx("i",{className:"fa fa-mobile-alt"}),"Self Order"]}),R.order_type==="Kiosk"&&a.jsxs("span",{className:"order-card-badge badge-kiosk",children:[a.jsx("i",{className:"fa fa-desktop"}),"Kiosk"]}),R.order_type==="Dine In"&&R.table_name&&a.jsxs("span",{className:"order-card-badge badge-table",children:[a.jsx("i",{className:"fa fa-utensils"}),R.table_name]}),R.order_type==="Counter"&&a.jsxs("span",{className:"order-card-badge badge-counter",children:[a.jsx("i",{className:"fa fa-cash-register"}),"Counter"]})]})]}),a.jsxs("div",{className:"order-card-info",children:[a.jsxs("span",{children:[((M=R.items)==null?void 0:M.length)||0," items"]}),a.jsx("span",{className:"order-card-time",children:P(R.creation)})]}),R.items&&R.items.length>0&&a.jsxs("div",{className:"order-card-items",children:[R.items.slice(0,2).map((H,D)=>a.jsxs("div",{children:[H.qty,"x ",H.item_name]},D)),R.items.length>2&&a.jsxs("div",{className:"order-card-more",children:["+",R.items.length-2," more items"]})]}),a.jsxs("div",{className:"order-card-total",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{children:je(R.grand_total)})]})]},R.name)})})]})}Pm.propTypes={orders:ee.arrayOf(ee.shape({name:ee.string,table_name:ee.string,status:ee.string,grand_total:ee.number,requested_payment:ee.number})),selectedOrder:ee.object,onSelectOrder:ee.func.isRequired,onClaimOrder:ee.func,claimedOrders:ee.object,posMode:ee.string,isMultiSession:ee.bool};function f_(){const{orders:e,ordersLoading:t,ordersError:n,selfOrders:r,kioskOrders:s,selectedOrder:o,setSelectedOrder:i,posMode:l,creatingOrder:u,setShowTableSelector:c,setVariantPickerContext:f,setShowVariantPicker:y,profileData:v}=io(),m=()=>{l==="Table"?c(!0):window.dispatchEvent(new CustomEvent("createNewOrder"))};return a.jsxs("aside",{className:"cashier-sidebar",children:[a.jsxs("div",{className:"cashier-sidebar-header",children:[a.jsx("h2",{children:"Orders"}),a.jsxs("button",{className:"cashier-btn-new-order",onClick:m,disabled:u,title:"Create new order",children:[a.jsx("i",{className:"fa-solid fa-plus"})," New"]})]}),a.jsx("div",{className:"cashier-sidebar-content",children:t?a.jsxs("div",{className:"cashier-loading",children:[a.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),"Loading orders..."]}):n?a.jsxs("div",{className:"cashier-error",children:[a.jsx("i",{className:"fa-solid fa-exclamation-triangle"}),"Failed to load orders"]}):a.jsx(Pm,{orders:e,selectedOrder:o,onSelectOrder:i,selfOrders:r,kioskOrders:s,multiChannelEnabled:(v==null?void 0:v.imogi_enable_self_order)===1||(v==null?void 0:v.imogi_enable_kiosk)===1})})]})}function Am({order:e,posMode:t}){var i;if(!e)return a.jsxs("div",{className:"empty-state",children:[a.jsx("i",{className:"fa fa-receipt empty-icon"}),a.jsx("h3",{children:"No Order Selected"}),a.jsx("p",{children:"Select an order from the list or create a new one"})]});const n=t||"Counter",r=n==="Table",s=n==="Counter",o=l=>l?new Date(l).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return a.jsxs("div",{className:"order-details",children:[a.jsx("div",{className:"order-details-header",children:a.jsxs("div",{children:[a.jsx("h3",{children:e.name}),a.jsxs("div",{className:"order-meta",children:[r&&e.table_name&&a.jsxs("span",{className:"order-meta-item",children:[a.jsx("i",{className:"fa fa-utensils"}),"Table: ",e.table_name]}),s&&a.jsxs("span",{className:"order-meta-item",children:[a.jsx("i",{className:"fa fa-cash-register"}),"Counter Order"]}),a.jsxs("span",{className:"order-meta-item",children:[a.jsx("i",{className:"fa fa-clock"}),o(e.creation)]}),a.jsx("span",{className:`order-status-badge status-${(i=e.status)==null?void 0:i.toLowerCase()}`,children:e.status})]})]})}),a.jsxs("div",{className:"order-details-body",children:[e.customer&&a.jsx("div",{className:"customer-section",children:a.jsxs("div",{className:"customer-info",children:[a.jsxs("div",{className:"customer-name",children:[a.jsx("i",{className:"fa fa-user"}),e.customer]}),e.customer_phone&&a.jsxs("div",{className:"customer-phone",children:[a.jsx("i",{className:"fa fa-phone"}),e.customer_phone]})]})}),a.jsxs("div",{className:"order-items-section",children:[a.jsx("h4",{children:"Order Items"}),e.items&&e.items.length>0?a.jsx("div",{className:"order-items-list",children:e.items.map((l,u)=>{const c=l.has_variants===1||l.has_variants===!0;return a.jsxs("div",{className:`order-item ${c?"template-item":""}`,children:[a.jsxs("div",{className:"order-item-name",children:[l.item_name,c&&a.jsxs("span",{className:"template-badge",children:[a.jsx("i",{className:"fa fa-list"})," Template"]})]}),a.jsx("div",{className:"order-item-qty",children:l.qty}),a.jsx("div",{className:"order-item-price",children:je(l.rate)}),a.jsx("div",{className:"order-item-total",children:je(l.amount)}),c&&a.jsx("div",{className:"order-item-actions",children:a.jsxs("button",{className:"select-variant-btn",onClick:()=>window.dispatchEvent(new CustomEvent("selectVariant",{detail:{itemRow:l.name,itemCode:l.item_code}})),children:[a.jsx("i",{className:"fa fa-edit"})," Select Variant"]})}),l.notes&&a.jsxs("div",{className:"order-item-notes",children:[a.jsx("i",{className:"fa fa-comment"})," ",l.notes]})]},u)})}):a.jsx("div",{className:"no-items",children:"No items in this order"})]}),a.jsxs("div",{className:"order-totals",children:[a.jsxs("div",{className:"total-row",children:[a.jsx("span",{children:"Subtotal"}),a.jsx("span",{children:je(e.net_total||e.total)})]}),e.total_taxes_and_charges>0&&a.jsxs("div",{className:"total-row",children:[a.jsx("span",{children:"Tax"}),a.jsx("span",{children:je(e.total_taxes_and_charges)})]}),e.discount_amount>0&&a.jsxs("div",{className:"total-row",children:[a.jsx("span",{children:"Discount"}),a.jsxs("span",{children:["-",je(e.discount_amount)]})]}),a.jsxs("div",{className:"total-row grand-total",children:[a.jsx("span",{children:"Grand Total"}),a.jsx("span",{children:je(e.grand_total)})]})]})]})]})}Am.propTypes={order:ee.shape({name:ee.string,table_name:ee.string,creation:ee.string,items:ee.arrayOf(ee.shape({item_code:ee.string,item_name:ee.string,qty:ee.number,rate:ee.number,amount:ee.number})),net_total:ee.number,total_taxes_and_charges:ee.number,discount_amount:ee.number,grand_total:ee.number}),posMode:ee.string};function p_(e,t=300){const[n,r]=N.useState(e);return N.useEffect(()=>{const s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),n}function Lm({isOpen:e,onClose:t,templateName:n,posProfile:r,mode:s="add",onSelectVariant:o}){const[i,l]=N.useState([]),[u,c]=N.useState([]),[f,y]=N.useState({}),[v,m]=N.useState(!0),[S,E]=N.useState(null);N.useEffect(()=>{e&&n&&F()},[e,n,r]);const F=async()=>{m(!0),E(null);try{const P=await _e(be.GET_POS_ITEMS,{mode:Cm.VARIANT,item_code:n,pos_profile:r,debug:0}),q=Array.isArray(P)?P:P.items||[];l(q);const L=new Set;q.forEach($=>{$.attributes&&Object.keys($.attributes).forEach(G=>L.add(G))}),c(Array.from(L))}catch(P){E("Failed to load variants"),console.error("[VariantPicker] Error loading variants:",P)}finally{m(!1)}},g=(P,q)=>{y(L=>({...L,[P]:q}))};N.useEffect(()=>{if(!e||v)return;const P=x();P.length===1&&Object.keys(f).length>0&&k(P[0])},[f,i,e,v]);const _=()=>{y({})},x=()=>Object.keys(f).length===0?i:i.filter(P=>{const q=P.attributes||{};return Object.entries(f).every(([L,$])=>$?q[L]===$:!0)}),k=P=>{o&&o(P.name),t()},T=P=>{const q=new Set;return i.forEach(L=>{const $=L.attributes||{};$[P]&&q.add($[P])}),Array.from(q).sort()};if(!e)return null;const A=x(),I=s==="convert"?"Select Variant to Replace Template":"Select Variant";return a.jsx("div",{className:"modal-overlay",onClick:t,children:a.jsxs("div",{className:"modal-content variant-picker-modal",onClick:P=>P.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{children:I}),a.jsx("button",{className:"modal-close",onClick:t,children:""})]}),a.jsxs("div",{className:"modal-body",children:[v&&a.jsxs("div",{className:"loading-container",children:[a.jsx("div",{className:"spinner"}),a.jsx("p",{children:"Loading variants..."})]}),S&&a.jsxs("div",{className:"error-message",children:[a.jsx("p",{children:S}),a.jsx("button",{onClick:F,className:"btn-retry",children:"Retry"})]}),!v&&!S&&a.jsxs(a.Fragment,{children:[u.length>0&&a.jsxs("div",{className:"variant-filters",children:[a.jsxs("div",{className:"filter-header",children:[a.jsx("h4",{children:"Filter by Attributes"}),Object.keys(f).length>0&&a.jsx("button",{onClick:_,className:"btn-clear-filters",children:"Clear All"})]}),a.jsx("div",{className:"filter-grid",children:u.map(P=>{const q=T(P);return a.jsxs("div",{className:"variant-filter",children:[a.jsx("label",{children:P}),a.jsxs("select",{value:f[P]||"",onChange:L=>g(P,L.target.value),className:"variant-attribute-select",children:[a.jsxs("option",{value:"",children:["All ",P]}),q.map(L=>a.jsx("option",{value:L,children:L},L))]})]},P)})})]}),a.jsx("div",{className:"variant-list",children:A.length===0?a.jsxs("div",{className:"empty-state",children:[a.jsx("i",{className:"fa fa-inbox"}),a.jsx("p",{children:"No variants found"}),Object.keys(f).length>0&&a.jsx("button",{onClick:_,className:"btn-secondary",children:"Clear Filters"})]}):a.jsx("div",{className:"variant-grid",children:A.map(P=>{const q=P.attributes||{},L=P.price_list_rate||P.standard_rate||0;return a.jsxs("div",{className:"variant-card",onClick:()=>k(P),children:[P.image&&a.jsx("div",{className:"variant-image",children:a.jsx("img",{src:P.image,alt:P.item_name})}),a.jsxs("div",{className:"variant-info",children:[a.jsx("div",{className:"variant-name",children:P.item_name}),Object.keys(q).length>0&&a.jsx("div",{className:"variant-attrs",children:Object.entries(q).map(([$,G])=>a.jsx("span",{className:"variant-attr-badge",children:G},$))}),a.jsx("div",{className:"variant-price",children:je(L)})]})]},P.name)})})}),A.length>0&&a.jsxs("div",{className:"variant-count",children:["Showing ",A.length," of ",i.length," variants"]})]})]})]})})}function Im({posProfile:e,branch:t,menuChannel:n="Cashier",onSelectItem:r}){const[s,o]=N.useState([]),[i,l]=N.useState([]),[u,c]=N.useState("all"),[f,y]=N.useState(""),[v,m]=N.useState(!0),[S,E]=N.useState(null),[F,g]=N.useState(null),[_,x]=N.useState(!1),[k,T]=N.useState(null),A=p_(f,300);N.useEffect(()=>()=>{},[]),N.useEffect(()=>{e?I():m(!1)},[e]),N.useEffect(()=>{u&&e?P():e||m(!1)},[u,e,n]);const I=async()=>{if(!e){console.warn("[imogi][catalog] Cannot load item groups: posProfile is null");return}try{const L=await _e(be.GET_ITEM_GROUPS,{pos_profile:e});o(L||[])}catch(L){console.error("[imogi][catalog] Error loading item groups:",L)}},P=async()=>{if(!e){console.warn("[CatalogView] Cannot load items: posProfile is null"),m(!1);return}m(!0),E(null),g(null);try{const L={pos_profile:e,item_group:u==="all"?null:u,mode:Cm.GROUPED,require_menu_category:0,require_price:0,debug:0},$=await _e(be.GET_POS_ITEMS,L);let G=[],Q=null;Array.isArray($)?G=$:$&&$.items&&Array.isArray($.items)?(G=$.items,Q=$.debug):$&&Array.isArray($.message)?G=$.message:$&&$.message&&(console.warn("[CatalogView] Unexpected response format:",$),G=[]),l(G),g(Q)}catch(L){const $=(L==null?void 0:L.message)||(L==null?void 0:L.toString())||"Unknown error",G=(L==null?void 0:L.httpStatus)||(L==null?void 0:L.status)||"N/A";E("Failed to load items"),console.error("[CatalogView] API error:",{error:$,status:G,params:{posProfile:e,selectedGroup:u,menuChannel:n},fullError:L})}finally{m(!1)}},q=L=>{!!Number(L.has_variants)?(T(L),x(!0)):r&&r(L)};return a.jsxs("div",{className:"catalog-panel",style:{display:"flex",flexDirection:"column",flex:1,minHeight:0},children:[a.jsx("div",{className:"catalog-header",style:{padding:"1rem",borderBottom:"1px solid #e0e0e0",background:"white",flexShrink:0},children:a.jsx("input",{type:"text",className:"catalog-search-input",placeholder:"Search items... (Press / to focus)",value:f,onChange:L=>y(L.target.value),style:{width:"100%",padding:"10px 15px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})}),a.jsxs("div",{className:"catalog-container",style:{display:"flex",flex:1,minHeight:0,gap:"1rem",padding:"1rem"},children:[a.jsx("div",{className:"catalog-sidebar",style:{width:"200px",backgroundColor:"white",borderRadius:"8px",padding:"1rem",overflowY:"auto",flexShrink:0},children:a.jsxs("div",{className:"item-group-list",children:[a.jsxs("button",{className:`item-group-btn ${u==="all"?"active":""}`,onClick:()=>c("all"),children:[a.jsx("i",{className:"fa fa-th"}),"All Items"]}),s.map(L=>a.jsx("button",{className:`item-group-btn ${u===L.name?"active":""}`,onClick:()=>c(L.name),children:L.name},L.name))]})}),a.jsxs("div",{className:"catalog-main",style:{flex:1,minHeight:0,overflowY:"auto",backgroundColor:"white",borderRadius:"8px",padding:"1.5rem",paddingBottom:"calc(64px + 2rem)"},children:[v&&a.jsxs("div",{className:"loading-container",children:[a.jsx("div",{className:"spinner"}),a.jsx("p",{children:"Loading items..."})]}),S&&a.jsxs("div",{className:"error-message",children:[a.jsx("p",{children:S}),a.jsx("button",{onClick:P,className:"btn-retry",children:"Retry"})]}),!v&&!S&&a.jsx("div",{className:"catalog-items",children:(()=>{const L=A?i.filter($=>{var Q,R,U;const G=A.toLowerCase();return((Q=$.item_name)==null?void 0:Q.toLowerCase().includes(G))||((R=$.item_code)==null?void 0:R.toLowerCase().includes(G))||((U=$.description)==null?void 0:U.toLowerCase().includes(G))}):i;return L.length===0?a.jsxs("div",{className:"empty-state",children:[a.jsx("i",{className:"fa fa-shopping-cart empty-icon"}),a.jsx("p",{children:A?`No items found for "${A}"`:"No items found in this category"})]}):a.jsx("div",{className:"catalog-grid",children:L.map($=>{const G=$.has_variants===1||$.has_variants===!0,Q=G&&$.price_display?$.price_display:je($.price_list_rate||$.standard_rate||0);return a.jsxs("div",{className:`catalog-item ${G?"has-variants":""}`,onClick:()=>q($),children:[$.image&&a.jsx("div",{className:"item-image",children:a.jsx("img",{src:$.image,alt:$.item_name})}),a.jsxs("div",{className:"item-details",children:[a.jsxs("div",{className:"item-name",children:[$.item_name,G&&a.jsx("i",{className:"fa fa-chevron-down",style:{marginLeft:"8px",fontSize:"0.8em"}})]}),a.jsx("div",{className:"item-price",children:Q}),$.description&&a.jsx("div",{className:"item-description",children:$.description})]})]},$.name)})})})()})]})]}),a.jsx(Lm,{isOpen:_,onClose:()=>{x(!1),T(null)},templateName:k==null?void 0:k.name,posProfile:e,mode:"add",onSelectVariant:L=>{r&&L&&r({name:L,item_code:L}),x(!1),T(null)}})]})}Im.propTypes={posProfile:ee.string,branch:ee.string,menuChannel:ee.string,onSelectItem:ee.func.isRequired};ee.bool.isRequired,ee.string,ee.oneOfType([ee.string,ee.shape({message:ee.string,exc:ee.string,exc_type:ee.string,_server_messages:ee.string,stack:ee.string})]),ee.func,ee.func,ee.bool;ee.bool.isRequired,ee.shape({name:ee.string,table_name:ee.string,grand_total:ee.number}),ee.shape({mode_of_payment:ee.string}),ee.oneOfType([ee.string,ee.number]),ee.func.isRequired,ee.func.isRequired;function h_({order:e,onClose:t,onPaymentComplete:n,posProfile:r,effectiveOpeningName:s,revalidateOpening:o}){const[i,l]=N.useState(null),[u,c]=N.useState(""),[f,y]=N.useState(!1),[v,m]=N.useState(!1),[S,E]=N.useState(null),[F,g]=N.useState(!1),[_,x]=N.useState(!1),{data:k,isLoading:T}=Z0(r),A=(k==null?void 0:k.payment_methods)||[],I=U=>{E(null),l(U),U.mode_of_payment==="Cash"?y(!0):P(U)},P=async U=>{m(!0),E(null);try{await L(U.mode_of_payment,e.grand_total,e.grand_total)}catch(Z){console.error("[Payment] Non-cash payment error:",Z),E(Z.message||"Payment processing failed")}finally{m(!1)}},q=async()=>{const U=parseFloat(u),Z=(e==null?void 0:e.grand_total)||0;if(U<Z){E("Insufficient cash amount");return}m(!0),E(null);try{await L("Cash",U,Z),y(!1)}catch(pe){console.error("[Payment] Cash payment error:",pe),E(pe.message||"Payment processing failed")}finally{m(!1)}},L=async(U,Z,pe)=>{var te;if(o){console.log("[Payment] Re-validating opening before payment...");try{if(await o(),!s)throw console.error("[Payment] Opening validation failed"),new Error("Opening validation failed. Please reload.")}catch(ve){throw console.error("[Payment] Opening revalidation error:",ve),new Error("Opening validation failed. Please reload.")}}console.log("[Payment] Checking POS opening...");const M=await _e(be.GET_ACTIVE_OPENING);if(!(M!=null&&M.has_opening))throw console.error("[Payment] No active POS Opening:",M),new Error("Tidak ada POS Opening aktif. Silakan buka POS terlebih dulu.");console.log("[Payment] Active opening found:",(te=M.opening)==null?void 0:te.name),console.log("[Payment] Creating invoice from order:",e.name);const H=await _e(be.CREATE_INVOICE_FROM_ORDER,{order_name:e.name,customer:e.customer,customer_name:e.customer_name});if(!(H!=null&&H.success))throw console.error("[Payment] Create invoice failed:",H),new Error((H==null?void 0:H.error)||"Failed to create invoice");console.log("[Payment] Invoice created:",H.invoice),console.log("[Payment] Processing payment for invoice:",H.invoice);const D=await _e(be.PROCESS_PAYMENT,{invoice_name:H.invoice,payments:[{mode_of_payment:U,amount:Z}],cash_received:U==="Cash"?Z:pe});if(!(D!=null&&D.success))throw console.error("[Payment] Process payment failed:",D),new Error((D==null?void 0:D.error)||"Failed to process payment");console.log("[Payment] Payment successful:",D),console.log("[Payment] Completing order:",e.name);const ne=await _e(be.COMPLETE_ORDER,{order_name:e.name});ne!=null&&ne.success||console.warn("[Payment] Complete order warning:",ne),n&&n({method:U,amount:Z,change:D.change_amount||(U==="Cash"?Z-pe:0),invoice:H.invoice,session:H.session})},$=U=>{c(Z=>Z+U)},G=()=>{c("")},Q=U=>{c(U.toString())},R=()=>{const U=parseFloat(u)||0,Z=(e==null?void 0:e.grand_total)||0;return U-Z};return e?a.jsxs("div",{className:"payment-panel",children:[a.jsxs("div",{className:"payment-container",children:[a.jsxs("div",{className:"payment-header",children:[a.jsx("h3",{children:"Payment Request"}),a.jsx("button",{onClick:t,className:"btn-close",disabled:v,children:a.jsx("i",{className:"fa fa-times"})})]}),S&&a.jsxs("div",{className:"payment-error",style:{padding:"12px",margin:"12px 16px",backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"4px",color:"#c33"},children:[a.jsx("i",{className:"fa fa-exclamation-triangle",style:{marginRight:"8px"}}),S]}),a.jsxs("div",{className:"payment-content",children:[a.jsxs("div",{className:"payment-info",children:[a.jsxs("div",{className:"payment-info-row",children:[a.jsx("div",{className:"payment-info-label",children:"Order Number"}),a.jsx("div",{className:"payment-info-value",children:e.name})]}),a.jsxs("div",{className:"payment-info-row",children:[a.jsx("div",{className:"payment-info-label",children:"Total Amount"}),a.jsx("div",{className:"payment-info-value grand-total",children:je(e.grand_total)})]}),e.table_name&&a.jsxs("div",{className:"payment-info-row",children:[a.jsx("div",{className:"payment-info-label",children:"Table"}),a.jsx("div",{className:"payment-info-value",children:e.table_name})]})]}),a.jsxs("div",{className:"payment-actions",children:[a.jsx("h4",{style:{margin:"16px 0 12px",fontSize:"14px",color:"#666"},children:"Select Payment Method"}),T?a.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:[a.jsx("i",{className:"fa fa-spinner fa-spin"})," Loading payment methods..."]}):A.length===0?a.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:"No payment methods configured in POS Profile"}):a.jsx("div",{className:"payment-method-buttons",children:A.map(U=>a.jsxs("button",{className:"payment-method-button",onClick:()=>I(U),disabled:v,children:[a.jsx("i",{className:`fa ${U.mode_of_payment==="Cash"?"fa-money-bill":U.mode_of_payment==="Card"?"fa-credit-card":U.mode_of_payment==="Bank Transfer"?"fa-university":"fa-wallet"}`}),U.mode_of_payment]},U.mode_of_payment))})]})]})]}),f&&a.jsx("div",{className:"modal-overlay",onClick:()=>!v&&y(!1),children:a.jsxs("div",{className:"modal-content",onClick:U=>U.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{children:"Cash Payment"}),a.jsx("button",{className:"modal-close",onClick:()=>{y(!1),E(null)},disabled:v,children:""})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"payment-amount-display",children:[a.jsx("div",{className:"amount-label",children:"Total Amount"}),a.jsx("div",{className:"amount-value",children:je(e.grand_total)})]}),a.jsxs("div",{className:"cash-payment-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Cash Received"}),a.jsx("input",{type:"text",className:"payment-amount-input",value:u,onChange:U=>c(U.target.value.replace(/[^0-9]/g,"")),placeholder:"0",disabled:v})]}),a.jsx("div",{className:"quick-amounts",children:[5e4,1e5,2e5,5e5].map(U=>a.jsx("button",{className:"quick-amount-btn",onClick:()=>Q(U),disabled:v,children:je(U)},U))}),a.jsx("div",{className:"payment-keypad",children:[1,2,3,4,5,6,7,8,9,"000",0,"C"].map(U=>a.jsx("button",{className:`keypad-btn ${U==="C"?"clear":""}`,onClick:()=>U==="C"?G():$(U.toString()),disabled:v,children:U},U))}),u&&a.jsxs("div",{className:"change-display",children:[a.jsx("div",{className:"change-label",children:"Change"}),a.jsx("div",{className:`change-value ${R()<0?"insufficient":""}`,children:je(R())})]})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{className:"btn-secondary",onClick:()=>{y(!1),E(null)},disabled:v,children:"Cancel"}),a.jsx("button",{className:"btn-primary",onClick:q,disabled:!u||R()<0||v,children:v?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa fa-spinner fa-spin",style:{marginRight:"8px"}}),"Processing..."]}):"Confirm Payment"})]})]})})]}):null}function m_({order:e,onClose:t,onSplitConfirm:n}){const[r,s]=N.useState("equal"),[o,i]=N.useState(2),[l,u]=N.useState([]),c=()=>{if(!e)return[];const m=e.grand_total/o,S=[];for(let E=0;E<o;E++)S.push({number:E+1,items:e.items||[],total:m});return S},f=m=>{s(m),m==="equal"&&u(c())},y=m=>{const S=Math.max(2,Math.min(10,o+m));if(i(S),r==="equal"){const E=e.grand_total/S,F=[];for(let g=0;g<S;g++)F.push({number:g+1,items:e.items||[],total:E});u(F)}},v=()=>{n&&n(l,r)};return N.useState(()=>{e&&l.length===0&&u(c())},[e]),e?a.jsx("div",{className:"split-bill-panel",children:a.jsxs("div",{className:"split-container",children:[a.jsxs("div",{className:"split-header",children:[a.jsxs("h3",{children:["Split Bill - ",e.name]}),a.jsxs("div",{className:"split-controls",children:[a.jsx("button",{onClick:t,className:"split-button",children:"Cancel"}),a.jsx("button",{onClick:v,className:"split-button primary",children:"Confirm Split"})]})]}),a.jsxs("div",{className:"split-content",children:[a.jsxs("div",{className:"split-options",children:[a.jsxs("div",{className:"split-option-group",children:[a.jsx("label",{children:"Split Method"}),a.jsxs("div",{className:"split-option-buttons",children:[a.jsx("button",{className:`split-option-button ${r==="equal"?"active":""}`,onClick:()=>f("equal"),children:"Equal"}),a.jsx("button",{className:`split-option-button ${r==="item"?"active":""}`,onClick:()=>f("item"),children:"By Item"}),a.jsx("button",{className:`split-option-button ${r==="amount"?"active":""}`,onClick:()=>f("amount"),children:"By Amount"})]})]}),a.jsxs("div",{className:"split-option-group",children:[a.jsx("label",{children:"Number of Bills"}),a.jsxs("div",{className:"split-number-selector",children:[a.jsx("button",{className:"split-number-btn",onClick:()=>y(-1),disabled:o<=2,children:"-"}),a.jsx("input",{type:"number",className:"split-number-input",value:o,min:"2",max:"10",readOnly:!0}),a.jsx("button",{className:"split-number-btn",onClick:()=>y(1),disabled:o>=10,children:"+"})]})]})]}),a.jsx("div",{className:"split-bills-container",children:l.map((m,S)=>{var E;return a.jsxs("div",{className:"split-col",children:[a.jsx("div",{className:"split-col-header",children:a.jsxs("span",{className:"split-col-title",children:["Bill ",m.number]})}),a.jsx("div",{className:"split-col-body",children:r==="equal"?a.jsxs("div",{className:"split-equal-info",children:[a.jsx("p",{children:"Equal split of total amount"}),a.jsxs("p",{className:"split-item-count",children:[((E=e.items)==null?void 0:E.length)||0," items included"]})]}):a.jsx("div",{className:"split-items-list",children:m.items.map((F,g)=>a.jsxs("div",{className:"split-item",children:[a.jsxs("div",{className:"split-item-details",children:[a.jsx("div",{className:"split-item-name",children:F.item_name}),a.jsx("div",{className:"split-item-price",children:je(F.rate)})]}),a.jsxs("div",{className:"split-item-qty",children:["x",F.qty]})]},g))})}),a.jsx("div",{className:"split-col-footer",children:a.jsxs("div",{className:"split-total",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{children:je(m.total)})]})})]},S)})})]})]})}):null}function g_({posProfile:e,posOpening:t,onClose:n}){const[r,s]=N.useState(!0),[o,i]=N.useState(null),[l,u]=N.useState(null),[c,f]=N.useState(!0),[y,v]=N.useState(!1);N.useEffect(()=>{m()},[]);const m=async()=>{try{f(!0);const x=await _e(API.GET_ACTIVE_OPENING);if(!(x!=null&&x.success)||!(x!=null&&x.has_opening)){console.error("[ShiftSummary] No active opening found"),v(!1),f(!1);return}v(!0),f(!1),s(!0);const k=await _e(API.GET_OPENING_SUMMARY);if(!(k!=null&&k.success))throw new Error((k==null?void 0:k.error)||"Failed to load summary");u(k),i(null)}catch(x){console.error("[ShiftSummary] Load failed:",x),i(x.message||"Failed to load shift summary")}finally{s(!1)}},S=()=>{m()},E=()=>{window.print()};if(c)return a.jsx(ns,{message:"Checking POS opening..."});if(!y)return a.jsx(fc,{title:"Tidak ada POS Opening aktif",message:"Silakan buat POS Opening Entry lalu klik Open POS untuk memulai shift.",actions:[{label:"Buat POS Opening Entry",href:`/app/pos-opening-entry/new-pos-opening-entry-1?pos_profile=${encodeURIComponent(e||"")}`},{label:"Kembali",onClick:n}]});if(r)return a.jsx(ns,{message:"Loading shift summary..."});if(o)return a.jsx(Ii,{error:o,onRetry:S});const F=(l==null?void 0:l.totals_by_mode)||[],g=(l==null?void 0:l.grand_total)||0,_=(l==null?void 0:l.opening)||(t==null?void 0:t.name)||"N/A";return a.jsxs("div",{className:"shift-summary-view",children:[a.jsxs("div",{className:"summary-header",children:[a.jsxs("div",{className:"summary-title",children:[a.jsx("h2",{children:"Ringkasan Shift"}),a.jsxs("p",{className:"summary-subtitle",children:["Opening: ",_]})]}),a.jsxs("div",{className:"summary-actions",children:[a.jsxs("button",{onClick:S,className:"btn-secondary",children:[a.jsx("i",{className:"fa fa-sync"})," Refresh"]}),a.jsxs("button",{onClick:E,className:"btn-secondary",children:[a.jsx("i",{className:"fa fa-print"})," Print"]}),a.jsxs("button",{onClick:n,className:"btn-secondary",children:[a.jsx("i",{className:"fa fa-times"})," Tutup"]})]})]}),a.jsx("div",{className:"summary-content",children:F.length===0?a.jsxs("div",{className:"empty-summary",children:[a.jsx("i",{className:"fa fa-inbox fa-3x"}),a.jsx("p",{children:"Belum ada pembayaran pada shift ini"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"summary-table",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Metode Pembayaran"}),a.jsx("th",{className:"text-center",children:"Jumlah Transaksi"}),a.jsx("th",{className:"text-right",children:"Total"})]})}),a.jsx("tbody",{children:F.map((x,k)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:x.mode_of_payment})}),a.jsx("td",{className:"text-center",children:x.invoice_count}),a.jsx("td",{className:"text-right",children:je(x.total)})]},k))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"grand-total-row",children:[a.jsx("td",{children:a.jsx("strong",{children:"Total Keseluruhan"})}),a.jsx("td",{className:"text-center",children:a.jsx("strong",{children:F.reduce((x,k)=>x+(k.invoice_count||0),0)})}),a.jsx("td",{className:"text-right",children:a.jsx("strong",{children:je(g)})})]})})]})}),a.jsxs("div",{className:"summary-chart",children:[a.jsx("h3",{children:"Distribusi Pembayaran"}),a.jsx("div",{className:"chart-bars",children:F.map((x,k)=>{const T=g>0?x.total/g*100:0;return a.jsxs("div",{className:"chart-bar-item",children:[a.jsxs("div",{className:"chart-bar-label",children:[a.jsx("span",{children:x.mode_of_payment}),a.jsxs("span",{children:[T.toFixed(1),"%"]})]}),a.jsx("div",{className:"chart-bar-track",children:a.jsx("div",{className:"chart-bar-fill",style:{width:`${T}%`}})}),a.jsx("div",{className:"chart-bar-amount",children:je(x.total)})]},k)})})]})]})}),a.jsx("style",{jsx:!0,children:`
        .shift-summary-view {
          padding: 1.5rem;
          max-width: 1200px;
          margin: 0 auto;
        }

        .summary-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
          padding-bottom: 1rem;
          border-bottom: 2px solid #e5e7eb;
        }

        .summary-title h2 {
          margin: 0;
          font-size: 1.75rem;
          color: #111827;
        }

        .summary-subtitle {
          margin: 0.25rem 0 0 0;
          color: #6b7280;
          font-size: 0.875rem;
        }

        .summary-actions {
          display: flex;
          gap: 0.75rem;
        }

        .btn-secondary {
          padding: 0.5rem 1rem;
          background: white;
          border: 1px solid #d1d5db;
          border-radius: 0.375rem;
          cursor: pointer;
          font-size: 0.875rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          transition: all 0.2s;
        }

        .btn-secondary:hover {
          background: #f9fafb;
          border-color: #9ca3af;
        }

        .empty-summary {
          text-align: center;
          padding: 4rem 2rem;
          color: #6b7280;
        }

        .empty-summary i {
          color: #d1d5db;
          margin-bottom: 1rem;
        }

        .summary-table {
          background: white;
          border-radius: 0.5rem;
          box-shadow: 0 1px 3px rgba(0,0,0,0.1);
          overflow: hidden;
          margin-bottom: 2rem;
        }

        .summary-table table {
          width: 100%;
          border-collapse: collapse;
        }

        .summary-table th {
          background: #f9fafb;
          padding: 0.75rem 1rem;
          text-align: left;
          font-weight: 600;
          color: #374151;
          font-size: 0.875rem;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .summary-table td {
          padding: 1rem;
          border-top: 1px solid #e5e7eb;
        }

        .text-center {
          text-align: center;
        }

        .text-right {
          text-align: right;
        }

        .grand-total-row {
          background: #f9fafb;
          font-size: 1.125rem;
        }

        .grand-total-row td {
          padding: 1.25rem 1rem;
          border-top: 2px solid #d1d5db;
        }

        .summary-chart {
          background: white;
          padding: 1.5rem;
          border-radius: 0.5rem;
          box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .summary-chart h3 {
          margin: 0 0 1.5rem 0;
          font-size: 1.125rem;
          color: #111827;
        }

        .chart-bars {
          display: flex;
          flex-direction: column;
          gap: 1.25rem;
        }

        .chart-bar-item {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }

        .chart-bar-label {
          display: flex;
          justify-content: space-between;
          font-size: 0.875rem;
          font-weight: 500;
          color: #374151;
        }

        .chart-bar-track {
          height: 2rem;
          background: #f3f4f6;
          border-radius: 0.375rem;
          overflow: hidden;
        }

        .chart-bar-fill {
          height: 100%;
          background: linear-gradient(90deg, #3b82f6, #2563eb);
          transition: width 0.5s ease;
        }

        .chart-bar-amount {
          font-size: 0.875rem;
          color: #6b7280;
          text-align: right;
        }

        @media print {
          .summary-actions {
            display: none;
          }
          
          .summary-chart {
            page-break-before: always;
          }
        }
      `})]})}function y_({posProfile:e,posOpening:t,onClose:n,onShiftClosed:r,effectiveOpeningName:s,revalidateOpening:o}){const[i,l]=N.useState(!0),[u,c]=N.useState(null),[f,y]=N.useState(!0),[v,m]=N.useState(!1),[S,E]=N.useState(null),[F,g]=N.useState({}),[_,x]=N.useState(!1),[k,T]=N.useState(null);N.useEffect(()=>{A()},[]);const A=async()=>{var G;try{if(y(!0),o){console.log("[CloseShift] Re-validating opening...");try{if(await o(),!s){console.error("[CloseShift] Opening validation failed"),m(!1),y(!1);return}}catch(Z){console.error("[CloseShift] Opening revalidation error:",Z),m(!1),y(!1);return}}const Q=await _e(be.GET_ACTIVE_OPENING);if(!(Q!=null&&Q.success)||!(Q!=null&&Q.has_opening)){console.error("[CloseShift] No active opening found"),m(!1),y(!1);return}m(!0),y(!1),l(!0);const R=await _e(be.GET_OPENING_SUMMARY);if(!(R!=null&&R.success))throw new Error((R==null?void 0:R.error)||"Failed to load summary");E(R);const U={};(G=R.totals_by_mode)==null||G.forEach(Z=>{U[Z.mode_of_payment]=Z.total||0}),g(U),c(null)}catch(Q){console.error("[CloseShift] Load failed:",Q),c(Q.message||"Failed to load shift data")}finally{l(!1)}},I=(G,Q)=>{g(R=>({...R,[G]:parseFloat(Q)||0}))},P=async()=>{try{x(!0),c(null);const G=Object.entries(F).map(([U,Z])=>({mode_of_payment:U,closing_amount:Z})),Q=(S==null?void 0:S.opening)||(t==null?void 0:t.name);if(!Q)throw new Error("Opening name not found");const R=await _e(be.CLOSE_POS_OPENING,{opening_name:Q,counted_balances:G});if(!(R!=null&&R.success))throw new Error((R==null?void 0:R.error)||"Failed to close shift");T(R),r&&r(R)}catch(G){console.error("[CloseShift] Submit failed:",G),c(G.message||"Failed to close shift")}finally{x(!1)}},q=()=>{window.print()};if(f)return a.jsx(ns,{message:"Checking POS opening..."});if(!v)return a.jsx(fc,{title:"Tidak ada POS Opening aktif",message:"Buat POS Opening Entry dulu dari ERPNext (POS  POS Opening Entry  Open POS). Setelah itu refresh halaman ini.",actions:[{label:"Open POS Opening Entry",href:"/app/pos-opening-entry"},{label:"Refresh",onClick:()=>window.location.reload()},{label:"Kembali",onClick:n}]});if(i)return a.jsx(ns,{message:"Loading shift data..."});if(u&&!k)return a.jsx(Ii,{error:u,onRetry:A});if(k){const G=k.reconciliation_summary||[],Q=G.reduce((R,U)=>R+(U.difference||0),0);return a.jsxs("div",{className:"close-shift-result",children:[a.jsxs("div",{className:"result-header",children:[a.jsx("div",{className:"success-icon",children:a.jsx("i",{className:"fa fa-check-circle"})}),a.jsx("h2",{children:"Shift Ditutup"}),a.jsxs("p",{className:"result-subtitle",children:["Closing: ",k.closing]}),a.jsxs("p",{className:"result-subtitle",children:["Opening: ",k.opening]})]}),a.jsxs("div",{className:"reconciliation-table",children:[a.jsx("h3",{children:"Rekonsiliasi"}),a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Metode Pembayaran"}),a.jsx("th",{className:"text-right",children:"Expected"}),a.jsx("th",{className:"text-right",children:"Counted"}),a.jsx("th",{className:"text-right",children:"Selisih"})]})}),a.jsx("tbody",{children:G.map((R,U)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:R.mode_of_payment})}),a.jsx("td",{className:"text-right",children:je(R.expected)}),a.jsx("td",{className:"text-right",children:je(R.counted)}),a.jsx("td",{className:`text-right ${R.difference>0?"surplus":R.difference<0?"shortage":""}`,children:je(R.difference)})]},U))}),a.jsx("tfoot",{children:a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:"Total Selisih"})}),a.jsx("td",{}),a.jsx("td",{}),a.jsx("td",{className:`text-right ${Q>0?"surplus":Q<0?"shortage":""}`,children:a.jsx("strong",{children:je(Q)})})]})})]})]}),a.jsxs("div",{className:"result-actions",children:[a.jsxs("button",{onClick:q,className:"btn-secondary",children:[a.jsx("i",{className:"fa fa-print"})," Print Closing"]}),a.jsxs("button",{onClick:n,className:"btn-primary",children:[a.jsx("i",{className:"fa fa-arrow-left"})," Back to Orders"]})]}),a.jsx("style",{jsx:!0,children:`
          .close-shift-result {
            padding: 2rem;
            max-width: 900px;
            margin: 0 auto;
          }

          .result-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid #e5e7eb;
          }

          .success-icon {
            margin-bottom: 1rem;
          }

          .success-icon i {
            font-size: 4rem;
            color: #10b981;
          }

          .result-header h2 {
            margin: 0.5rem 0;
            font-size: 1.75rem;
            color: #111827;
          }

          .result-subtitle {
            margin: 0.25rem 0;
            color: #6b7280;
            font-size: 0.875rem;
          }

          .reconciliation-table {
            background: white;
            padding: 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
          }

          .reconciliation-table h3 {
            margin: 0 0 1rem 0;
            font-size: 1.125rem;
            color: #111827;
          }

          .reconciliation-table table {
            width: 100%;
            border-collapse: collapse;
          }

          .reconciliation-table th {
            background: #f9fafb;
            padding: 0.75rem;
            text-align: left;
            font-weight: 600;
            color: #374151;
            font-size: 0.875rem;
            text-transform: uppercase;
            border-bottom: 2px solid #e5e7eb;
          }

          .reconciliation-table td {
            padding: 1rem 0.75rem;
            border-bottom: 1px solid #e5e7eb;
          }

          .text-right {
            text-align: right;
          }

          .surplus {
            color: #10b981;
            font-weight: 600;
          }

          .shortage {
            color: #ef4444;
            font-weight: 600;
          }

          .reconciliation-table tfoot td {
            padding: 1rem 0.75rem;
            border-top: 2px solid #d1d5db;
            font-size: 1.125rem;
          }

          .result-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
          }

          .btn-secondary,
          .btn-primary {
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border: none;
          }

          .btn-secondary {
            background: white;
            color: #374151;
            border: 1px solid #d1d5db;
          }

          .btn-secondary:hover {
            background: #f9fafb;
          }

          .btn-primary {
            background: #3b82f6;
            color: white;
          }

          .btn-primary:hover {
            background: #2563eb;
          }

          @media print {
            .result-actions {
              display: none;
            }
          }
        `})]})}const L=(S==null?void 0:S.totals_by_mode)||[],$=(S==null?void 0:S.opening)||(t==null?void 0:t.name);return a.jsxs("div",{className:"close-shift-view",children:[a.jsxs("div",{className:"close-header",children:[a.jsx("h2",{children:"Tutup Shift"}),a.jsxs("p",{className:"close-subtitle",children:["Opening: ",$]})]}),u&&a.jsxs("div",{className:"error-banner",children:[a.jsx("i",{className:"fa fa-exclamation-triangle"}),a.jsx("span",{children:u})]}),a.jsxs("div",{className:"close-content",children:[a.jsxs("div",{className:"instructions",children:[a.jsx("i",{className:"fa fa-info-circle"}),a.jsx("p",{children:"Masukkan jumlah uang yang dihitung untuk setiap metode pembayaran. Sistem akan menghitung selisih antara expected dan counted."})]}),a.jsx("div",{className:"balance-form",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Metode Pembayaran"}),a.jsx("th",{className:"text-right",children:"Expected"}),a.jsx("th",{className:"text-right",children:"Counted"}),a.jsx("th",{className:"text-right",children:"Selisih"})]})}),a.jsx("tbody",{children:L.map((G,Q)=>{const R=G.total||0,U=F[G.mode_of_payment]||0,Z=U-R;return a.jsxs("tr",{children:[a.jsxs("td",{children:[a.jsx("strong",{children:G.mode_of_payment}),a.jsxs("div",{className:"invoice-count",children:[G.invoice_count," transaksi"]})]}),a.jsx("td",{className:"text-right",children:je(R)}),a.jsx("td",{className:"input-cell",children:a.jsx("input",{type:"number",step:"1000",value:U,onChange:pe=>I(G.mode_of_payment,pe.target.value),className:"counted-input"})}),a.jsx("td",{className:`text-right ${Z>0?"surplus":Z<0?"shortage":""}`,children:je(Z)})]},Q)})})]})}),a.jsxs("div",{className:"close-actions",children:[a.jsxs("button",{onClick:n,className:"btn-secondary",disabled:_,children:[a.jsx("i",{className:"fa fa-times"})," Batal"]}),a.jsx("button",{onClick:P,className:"btn-primary",disabled:_,children:_?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa fa-spinner fa-spin"})," Menutup Shift..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa fa-check"})," Tutup Shift"]})})]})]}),a.jsx("style",{jsx:!0,children:`
        .close-shift-view {
          padding: 1.5rem;
          max-width: 1000px;
          margin: 0 auto;
        }

        .close-header {
          margin-bottom: 2rem;
          padding-bottom: 1rem;
          border-bottom: 2px solid #e5e7eb;
        }

        .close-header h2 {
          margin: 0;
          font-size: 1.75rem;
          color: #111827;
        }

        .close-subtitle {
          margin: 0.5rem 0 0 0;
          color: #6b7280;
          font-size: 0.875rem;
        }

        .error-banner {
          background: #fee2e2;
          border: 1px solid #fecaca;
          color: #991b1b;
          padding: 1rem;
          border-radius: 0.375rem;
          display: flex;
          align-items: center;
          gap: 0.75rem;
          margin-bottom: 1.5rem;
        }

        .instructions {
          background: #dbeafe;
          border: 1px solid #bfdbfe;
          color: #1e40af;
          padding: 1rem;
          border-radius: 0.375rem;
          display: flex;
          align-items: flex-start;
          gap: 0.75rem;
          margin-bottom: 1.5rem;
        }

        .instructions i {
          margin-top: 0.125rem;
          font-size: 1.125rem;
        }

        .instructions p {
          margin: 0;
          font-size: 0.875rem;
          line-height: 1.5;
        }

        .balance-form {
          background: white;
          border-radius: 0.5rem;
          box-shadow: 0 1px 3px rgba(0,0,0,0.1);
          overflow: hidden;
          margin-bottom: 2rem;
        }

        .balance-form table {
          width: 100%;
          border-collapse: collapse;
        }

        .balance-form th {
          background: #f9fafb;
          padding: 0.75rem 1rem;
          text-align: left;
          font-weight: 600;
          color: #374151;
          font-size: 0.875rem;
          text-transform: uppercase;
          border-bottom: 2px solid #e5e7eb;
        }

        .balance-form td {
          padding: 1rem;
          border-bottom: 1px solid #e5e7eb;
        }

        .invoice-count {
          font-size: 0.75rem;
          color: #6b7280;
          margin-top: 0.25rem;
        }

        .text-right {
          text-align: right;
        }

        .input-cell {
          text-align: right;
        }

        .counted-input {
          width: 100%;
          max-width: 180px;
          padding: 0.5rem 0.75rem;
          border: 1px solid #d1d5db;
          border-radius: 0.375rem;
          font-size: 1rem;
          text-align: right;
          transition: all 0.2s;
        }

        .counted-input:focus {
          outline: none;
          border-color: #3b82f6;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .surplus {
          color: #10b981;
          font-weight: 600;
        }

        .shortage {
          color: #ef4444;
          font-weight: 600;
        }

        .close-actions {
          display: flex;
          justify-content: flex-end;
          gap: 1rem;
        }

        .btn-secondary,
        .btn-primary {
          padding: 0.75rem 1.5rem;
          border-radius: 0.375rem;
          font-size: 1rem;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          border: none;
        }

        .btn-secondary {
          background: white;
          color: #374151;
          border: 1px solid #d1d5db;
        }

        .btn-secondary:hover:not(:disabled) {
          background: #f9fafb;
        }

        .btn-primary {
          background: #3b82f6;
          color: white;
        }

        .btn-primary:hover:not(:disabled) {
          background: #2563eb;
        }

        .btn-secondary:disabled,
        .btn-primary:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `})]})}function v_(){const{viewMode:e,setViewMode:t,selectedOrder:n,showPayment:r,showSplit:s,showSummary:o,showCloseShift:i,orders:l,posMode:u,posProfile:c,branch:f,onAddItemToOrder:y,pendingOrderType:v}=io();return!n&&!v&&e==="orders"?a.jsx("main",{className:"cashier-main",children:a.jsxs("div",{className:"cashier-empty-state",children:[a.jsx("i",{className:"fa-solid fa-inbox fa-3x"}),a.jsx("h2",{children:"No order selected"}),a.jsx("p",{children:"Select an order from the list or create a new one"})]})}):a.jsxs("main",{className:"cashier-main",children:[e==="orders"&&n&&a.jsx(Am,{order:n,onAddItem:()=>t("catalog"),onPayment:()=>t("payment"),onSplit:()=>t("split"),posMode:u}),e==="catalog"&&a.jsx(Im,{posProfile:c,branch:f,menuChannel:"Cashier",onSelectItem:y}),e==="payment"&&n&&a.jsx(h_,{order:n,onBack:()=>t("orders"),onPaymentSuccess:()=>{t("orders")}}),e==="split"&&n&&a.jsx(m_,{order:n,onBack:()=>t("orders"),onConfirm:()=>t("orders")}),o&&a.jsx(g_,{isOpen:o,onClose:()=>{window.confirm("Do you want to proceed to close shift?")&&t("orders")}}),i&&a.jsx(y_,{isOpen:i,onClose:()=>t("orders"),onSuccess:()=>{window.location.reload()}})]})}function w_({branch:e,onSelectTable:t,onClose:n}){const[r,s]=N.useState([]),[o,i]=N.useState(!0),[l,u]=N.useState(null),[c,f]=N.useState("Available");N.useEffect(()=>{y()},[e]);const y=async()=>{i(!0),u(null);try{const E=await _e(API.GET_TABLES,{branch:e});s(E||[])}catch(E){u("Failed to load tables"),console.error("[TableSelector] Error loading tables:",E)}finally{i(!1)}},v=r.filter(E=>c==="All"?!0:E.status===c),m=E=>{switch(E){case"Available":return"#10b981";case"Occupied":return"#f59e0b";case"Reserved":return"#3b82f6";case"Inactive":return"#6b7280";default:return"#6b7280"}},S=E=>{E.status==="Available"&&t(E)};return a.jsx("div",{className:"modal-overlay",onClick:n,children:a.jsxs("div",{className:"modal-content table-selector-modal",onClick:E=>E.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{children:"Select Table"}),a.jsx("button",{onClick:n,className:"btn-close",children:a.jsx("i",{className:"fa fa-times"})})]}),a.jsx("div",{className:"table-selector-filters",children:["Available","Occupied","Reserved","All"].map(E=>a.jsx("button",{className:`filter-btn ${c===E?"active":""}`,onClick:()=>f(E),children:E},E))}),a.jsxs("div",{className:"table-selector-content",children:[o&&a.jsxs("div",{className:"loading-state",children:[a.jsx("div",{className:"spinner"}),a.jsx("p",{children:"Loading tables..."})]}),l&&a.jsxs("div",{className:"error-state",children:[a.jsx("i",{className:"fa fa-exclamation-circle"}),a.jsx("p",{children:l}),a.jsx("button",{className:"btn-retry",onClick:y,children:"Retry"})]}),!o&&!l&&v.length===0&&a.jsxs("div",{className:"empty-state",children:[a.jsx("i",{className:"fa fa-chair"}),a.jsx("p",{children:"No tables found"})]}),!o&&!l&&v.length>0&&a.jsx("div",{className:"table-grid",children:v.map(E=>a.jsxs("div",{className:`table-card ${E.status.toLowerCase()}`,onClick:()=>S(E),style:{borderColor:m(E.status),cursor:E.status==="Available"?"pointer":"not-allowed",opacity:E.status==="Available"?1:.6},children:[a.jsxs("div",{className:"table-card-header",children:[a.jsxs("div",{className:"table-name",children:[a.jsx("i",{className:"fa fa-utensils"}),E.table_name]}),a.jsx("div",{className:"table-status",style:{backgroundColor:m(E.status)},children:E.status})]}),E.capacity&&a.jsxs("div",{className:"table-capacity",children:[a.jsx("i",{className:"fa fa-users"}),"Capacity: ",E.capacity]}),E.current_order&&a.jsx("div",{className:"table-order-info",children:a.jsxs("small",{children:["Order: ",E.current_order]})})]},E.name))})]}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{className:"btn-secondary",onClick:n,children:"Cancel"})})]})})}function __(){const{showVariantPicker:e,setShowVariantPicker:t,variantPickerContext:n,setVariantPickerContext:r,showTableSelector:s,setShowTableSelector:o,selectedTable:i,setSelectedTable:l,posMode:u,posProfile:c,selectedOrder:f,setSelectedOrder:y}=io(),v=(E,F=3)=>{var g;(g=window.frappe)!=null&&g.show_alert&&window.frappe.show_alert(E,F)},m=()=>{t(!1),r(null)},S=async E=>{if(!n)return;const{mode:F,orderItemRow:g}=n;if(!E||typeof E!="string"){v({message:"Variant tidak valid",indicator:"orange"},3),m();return}if(F!=="convert"){m();return}if(!f||!g){v({message:"Order tidak valid untuk convert variant",indicator:"orange"},3),m();return}const _=f.name;try{await _e(be.CHOOSE_VARIANT,{pos_order:_,order_item_row:g,variant_item:E}),v({message:"Variant selected successfully",indicator:"green"},3);const x=await _e(be.GET_ORDER,{order_name:_});x&&_===(f==null?void 0:f.name)&&y(x)}catch(x){v({message:"Failed to select variant: "+(x.message||"Unknown error"),indicator:"red"},5)}m()};return a.jsxs(a.Fragment,{children:[e&&(n==null?void 0:n.templateName)&&a.jsx(Lm,{isOpen:e,templateName:n.templateName,posProfile:c,mode:n.mode||"add",onSelectVariant:S,onClose:m}),s&&u==="Table"&&a.jsx(w_,{isOpen:s,selectedTable:i,onSelectTable:l,onConfirm:()=>{o(!1)},onClose:()=>o(!1)})]})}const Ja=e=>Array.isArray(e)?e:[];function x_({initialState:e}){const{isLoading:t,guardPassed:n,posProfile:r,profileData:s,branch:o,openingStatus:i,openingError:l,retryOpening:u,error:c,serverContextError:f,retryServerContext:y}=z0({requiresOpening:!0,targetModule:"imogi-cashier"}),{opening:v,error:m,isValid:S}=X0({requiresOpening:!0,allowUrlParam:!0,autoRefreshMs:3e4}),{mode:E}=F0(),F=o||e.branch||null,g=r||e.pos_profile||null,_=["Counter","Table"],x=(s==null?void 0:s.mode)||E,k=_.includes(x)?x:_.includes(e.pos_mode)?e.pos_mode:"Counter",T=n&&S&&!t,A=k==="Table"?"Dine-in":"POS",{data:I,error:P,isLoading:q}=Qa(T?g:null,T?F:null,T?A:null),L=T&&(s==null?void 0:s.imogi_enable_self_order)===1,{data:$}=Qa(L?g:null,L?F:null,L?"Self Order":null),G=T&&(s==null?void 0:s.imogi_enable_kiosk)===1,{data:Q}=Qa(G?g:null,G?F:null,G?"Kiosk":null),[R,U]=N.useState(null),[Z,pe]=N.useState("catalog"),[M,H]=N.useState(!1),[D,ne]=N.useState(!1),[te,ve]=N.useState(!1),[Te,ze]=N.useState(!1),[ie,ue]=N.useState(!1),[We,Lt]=N.useState(null),[kt,Ct]=N.useState(!1),[ce,ye]=N.useState(null),[xe,le]=N.useState(!1),[It,Mt]=N.useState(null),[Ke,Le]=N.useState({connected:!1,checking:!0}),[Nt,Zn]=N.useState(!1),[Nn,fn]=N.useState(null),[$e,O]=N.useState(null),re=N.useRef(k),er=N.useRef(!1),Xt=N.useCallback(se=>{er.current=!0,pe(se)},[]),Sr=N.useCallback(se=>{pe(se)},[]),Ft=Xt,ao=N.useCallback(()=>{Zn(!0)},[]),lo=N.useCallback(()=>{Zn(!1)},[]),uo=N.useCallback(async()=>{try{const se=await _e(be.GET_BRANDING);se&&Mt(se)}catch(se){console.warn("[Cashier] Failed to load branding:",se)}},[]),co=N.useCallback(async()=>{try{if(window.escposPrint&&typeof window.escposPrint.getStatus=="function"){const se=await window.escposPrint.getStatus();Le({connected:se.connected||!1,checking:!1})}else Le({connected:!1,checking:!1})}catch(se){console.warn("[Cashier] Printer status check failed:",se),Le({connected:!1,checking:!1})}},[]),Er=N.useCallback(se=>{U(se),Xt("orders"),H(!1),ne(!1)},[Xt]),tr=N.useCallback(()=>{U(null),fn("POS"),O(null),pe("catalog")},[]);N.useCallback(se=>{Ct(!1),U(null),fn("Dine In"),O(se),ye(se),pe("catalog")},[]);const as=N.useCallback(async se=>{le(!0);try{const he=se.item_code||se.name;if(R){await _e(be.ADD_ITEM,{order_name:R.name,item_code:he,qty:1}),frappe.show_alert({message:`${se.item_name} added to order`,indicator:"green"},3);const rr=await _e(be.GET_ORDER,{order_name:R.name});rr&&U(rr);return}const Ve=await t_();if(!Ve.pos_profile||!Ve.branch){frappe.show_alert({message:"POS Profile & Branch wajib dipilih",indicator:"red"},5);return}const nr=Nn||"POS",Zt={pos_profile:Ve.pos_profile,branch:Ve.branch,order_type:nr,items:[{item:he,qty:1,rate:se.price_list_rate||se.standard_rate||0}]};$e&&(Zt.table=$e.name);const kr=await _e(be.CREATE_ORDER,Zt);if(kr!=null&&kr.order_name){const rr=await _e(be.GET_ORDER,{order_name:kr.order_name});rr&&(U(rr),fn(null),O(null),frappe.show_alert({message:`Order created with ${se.item_name}`,indicator:"green"},3))}}catch(he){console.error("[Cashier] Failed to add item:",he);const Ve=he.message||he.toString()||"Unknown error";Ve.includes("items")&&Ve.includes("Mandatory")?frappe.show_alert({message:"Tidak bisa membuat order kosong. Tambahkan item dulu.",indicator:"orange"},5):frappe.show_alert({message:"Failed to add item: "+Ve,indicator:"red"},5)}finally{le(!1)}},[R,Nn,$e]);if(N.useEffect(()=>{if(!k)return;const se=re.current,he=se&&se!==k;if(he&&(Z==="orders"||Z==="catalog")&&(!M&&!D&&!te&&!Te)){const Zt=k==="Counter"?"catalog":"orders";Z!==Zt&&Sr(Zt),er.current=!1}else!he&&Z==="catalog"&&k==="Table"&&Sr("orders");re.current=k},[k,Z,M,D,te,Te]),N.useEffect(()=>{g&&(uo(),co())},[g,uo,co]),N.useEffect(()=>{const se=he=>{const Ve=he==null?void 0:he.detail;if(!Ve)return;const{itemRow:nr,itemCode:Zt}=Ve;Lt({mode:"convert",templateName:Zt,orderItemRow:nr}),ue(!0)};return window.addEventListener("selectVariant",se),()=>window.removeEventListener("selectVariant",se)},[]),N.useEffect(()=>{const se=()=>{ve(!0),H(!1),ze(!1),Ft("summary")};return window.addEventListener("showShiftSummary",se),()=>window.removeEventListener("showShiftSummary",se)},[]),N.useEffect(()=>{const se=()=>{ze(!0),H(!1),ne(!1),ve(!1),Ft("close")};return window.addEventListener("closeShift",se),()=>window.removeEventListener("closeShift",se)},[]),N.useEffect(()=>{const se=()=>{k==="Counter"?tr():Ct(!0)};return window.addEventListener("createNewOrder",se),()=>window.removeEventListener("createNewOrder",se)},[k,tr]),N.useEffect(()=>{if(!t&&!n){const se=setTimeout(()=>{console.warn("[Cashier Console] Guard timeout - redirecting to module selection"),window.location.href="/app/imogi-module-select?reason=timeout&target=imogi-cashier"},1e4);return()=>clearTimeout(se)}},[t,n]),N.useEffect(()=>{const se=he=>{(he.target.tagName==="INPUT"||he.target.tagName==="TEXTAREA")&&he.key!=="Escape"||(he.key==="/"&&Z!=="catalog"&&(he.preventDefault(),Ft("catalog"),setTimeout(()=>{const Ve=document.querySelector(".catalog-search-input");Ve&&Ve.focus()},100)),he.key==="F2"&&(he.preventDefault(),R&&!M&&(H(!0),Ft("payment"))),he.key==="F3"&&(he.preventDefault(),Ft(Z==="catalog"?"orders":"catalog")),he.key==="Escape"&&(H(!1),ne(!1),ve(!1),ze(!1),Sr("orders")),(he.ctrlKey||he.metaKey)&&he.key==="n"&&(he.preventDefault(),k==="Counter"?tr():Ct(!0)))};return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},[Z,R,M,D,te,Te,k,tr,Ft,Sr]),!t&&(!n||!S)){const se=n?"POS Opening belum ada":"POS Profile tidak tersedia",he=n?"Silakan buat POS Opening Entry via ERPNext. Setelah itu refresh halaman ini.":"Silakan pilih POS Profile melalui Module Select.",Ve=n?(m==null?void 0:m.message)||(l==null?void 0:l.message)||m||l||null:(f==null?void 0:f.message)||(c==null?void 0:c.message)||f||c||null;return a.jsx(fc,{title:se,message:he,error:Ve,actions:n?[{label:"Buat POS Opening Entry",href:`/app/pos-opening-entry/new-pos-opening-entry-1?pos_profile=${encodeURIComponent(r||"")}`}]:[{label:"Pilih POS Profile",href:"/app/imogi-module-select?target=imogi-cashier"}]})}const fo=[...Ja(I),...Ja($),...Ja(Q)];return t?a.jsx(ns,{message:"Loading Cashier Console..."}):f?a.jsx(Ii,{error:(f==null?void 0:f.message)||"Failed to sync operational context.",onRetry:()=>y&&y()}):i==="error"?a.jsx(Ii,{error:(l==null?void 0:l.message)||"Failed to verify POS opening.",onRetry:()=>u&&u()}):n?a.jsx(r_,{selectedOrder:R,setSelectedOrder:Er,viewMode:Z,setViewMode:Ft,orders:fo,ordersLoading:q,ordersError:P,selfOrders:$,kioskOrders:Q,showPayment:M,setShowPayment:H,showSplit:D,setShowSplit:ne,showSummary:te,setShowSummary:ve,showCloseShift:Te,setShowCloseShift:ze,showVariantPicker:ie,setShowVariantPicker:ue,variantPickerContext:We,setVariantPickerContext:Lt,showTableSelector:kt,setShowTableSelector:Ct,selectedTable:ce,setSelectedTable:ye,effectiveOpening:v,posMode:k,posProfile:g,branch:F,profileData:s,branding:It,printerStatus:Ke,guardPassed:n,hasValidOpening:S,creatingOrder:xe,isCustomerDisplayOpen:Nt,openCustomerDisplay:ao,closeCustomerDisplay:lo,onAddItemToOrder:as,pendingOrderType:Nn,pendingTable:$e,children:a.jsxs("div",{className:"cashier-console","data-pos-mode":k,children:[a.jsx(jm,{}),a.jsx(i_,{}),a.jsxs("div",{className:"cashier-console-layout",children:[a.jsx(f_,{}),a.jsx(v_,{}),a.jsx(s_,{})]}),a.jsx(__,{})]})}):a.jsx(ns,{message:"Verifying POS opening..."})}function Mm({initialState:e}){return a.jsx(U0,{children:a.jsx(dc,{initialState:e,children:a.jsx(x_,{initialState:e})})})}class Fm extends wr.Component{constructor(n){super(n);zc(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null,errorCount:0,buildInfo:this.getBuildInfo(),scriptInfo:this.getScriptInfo()},this.registerGlobalErrorHandlers()}getBuildInfo(){return document.querySelector('script[src*="manifest"]'),document.querySelector('script[data-imogi-app][src*="main"]'),{buildTime:window.__IMOGI_BUILD_TIME__||"unknown",commitHash:window.__IMOGI_COMMIT_HASH__||"unknown",appVersion:window.__IMOGI_VERSION__||"unknown",environment:"production",sourcemapEnabled:window.location.search.includes("debug=1")}}getScriptInfo(){const n={imogiLoader:null,mainBundles:[],css:[]},r=document.querySelector('script[src*="imogi_loader"]');return r&&(n.imogiLoader={src:r.src,type:r.type||"text/javascript",isModule:r.type==="module"}),document.querySelectorAll('script[data-imogi-app][src*="main"]').forEach(s=>{n.mainBundles.push({app:s.dataset.imogiApp,src:s.src,type:s.type||"text/javascript",isModule:s.type==="module",async:s.async,defer:s.defer})}),document.querySelectorAll('link[data-imogi-app][rel="stylesheet"]').forEach(s=>{n.css.push({app:s.dataset.imogiApp,href:s.href,media:s.media||"all"})}),n}registerGlobalErrorHandlers(){this._globalHandlersRegistered||(this._globalHandlersRegistered=!0,window.addEventListener("error",n=>{var r,s,o;if(n.error&&((r=n.error.message)!=null&&r.includes("Cannot access")||(s=n.error.message)!=null&&s.includes("before initialization")||(o=n.error.message)!=null&&o.includes("is not defined"))&&(console.error("[ErrorBoundary] Global Error Handler (TDZ/ReferenceError):",{type:"reference_or_tdz_error",message:n.error.message,filename:this.sanitizeURL(n.filename),lineno:n.lineno,colno:n.colno,buildInfo:this.state.buildInfo,timestamp:new Date().toISOString()}),window.__imogiErrorLogger))try{window.__imogiErrorLogger({type:"global_error",error:n.error.message,stack:n.error.stack,buildInfo:this.state.buildInfo,timestamp:new Date().toISOString()})}catch(i){console.warn("[ErrorBoundary] Failed to log global error:",i)}}),window.addEventListener("unhandledrejection",n=>{var r,s,o;if(console.error("[ErrorBoundary] Unhandled Promise Rejection:",{type:"unhandled_rejection",reason:((r=n.reason)==null?void 0:r.message)||String(n.reason),buildInfo:this.state.buildInfo,timestamp:new Date().toISOString()}),window.__imogiErrorLogger)try{window.__imogiErrorLogger({type:"unhandled_rejection",reason:((s=n.reason)==null?void 0:s.message)||String(n.reason),stack:((o=n.reason)==null?void 0:o.stack)||"no stack",buildInfo:this.state.buildInfo,timestamp:new Date().toISOString()})}catch(i){console.warn("[ErrorBoundary] Failed to log rejection:",i)}}))}sanitizeURL(n){return n?`${new URL(n,window.location.origin).pathname}`:"unknown"}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){const s={type:"react_component_error",message:n.message,name:n.name,stack:n.stack,componentStack:r.componentStack,buildInfo:this.state.buildInfo,scriptInfo:this.state.scriptInfo,errorCount:this.state.errorCount+1,timestamp:new Date().toISOString(),url:this.sanitizeURL(window.location.href),isDev:!1,hasSourceMap:this.state.buildInfo.sourcemapEnabled};if(console.error("[ErrorBoundary] React error caught:",s),console.error("[ErrorBoundary] Component stack:",r.componentStack),window.location.search.includes("debug=1")&&(console.group("[ErrorBoundary] Build Information"),console.table(this.state.buildInfo),console.groupEnd(),console.group("[ErrorBoundary] Script Loading Information"),console.table(this.state.scriptInfo.mainBundles),console.groupEnd()),this.setState(o=>({errorInfo:r,errorCount:o.errorCount+1})),window.__imogiErrorLogger)try{window.__imogiErrorLogger({type:"react_error",error:n.toString(),message:n.message,componentStack:r.componentStack,buildInfo:this.state.buildInfo,timestamp:new Date().toISOString()})}catch(o){console.error("[ErrorBoundary] Failed to log error:",o)}}render(){var n,r,s;return this.state.hasError?a.jsx("div",{style:Ie.container,children:a.jsxs("div",{style:Ie.content,children:[a.jsx("div",{style:Ie.icon,children:""}),a.jsx("h1",{style:Ie.title,children:"Oops! Something went wrong"}),a.jsx("p",{style:Ie.description,children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),window.location.search.includes("debug=1")&&a.jsxs(a.Fragment,{children:[a.jsxs("details",{style:Ie.details,children:[a.jsx("summary",{style:Ie.summary,children:"Error Details (Development Mode)"}),a.jsxs("pre",{style:Ie.errorText,children:[(n=this.state.error)==null?void 0:n.toString(),`

`,(r=this.state.errorInfo)==null?void 0:r.componentStack]})]}),a.jsxs("details",{style:Ie.details,children:[a.jsx("summary",{style:Ie.summary,children:"Build Information"}),a.jsx("pre",{style:Ie.errorText,children:JSON.stringify(this.state.buildInfo,null,2)})]}),a.jsxs("details",{style:Ie.details,children:[a.jsx("summary",{style:Ie.summary,children:"Script Loading Information"}),a.jsx("pre",{style:Ie.errorText,children:JSON.stringify(this.state.scriptInfo,null,2)})]})]}),a.jsxs("div",{style:Ie.actions,children:[a.jsx("button",{onClick:this.handleReset,style:{...Ie.button,...Ie.primaryButton},children:"Try Again"}),a.jsx("button",{onClick:()=>window.location.reload(),style:{...Ie.button,...Ie.secondaryButton},children:"Refresh Page"})]}),a.jsxs("p",{style:Ie.errorCount,children:["Error Count: ",this.state.errorCount]}),this.state.buildInfo.buildTime!=="unknown"&&a.jsxs("p",{style:Ie.buildVersion,children:["Build: ",(s=this.state.buildInfo.commitHash)==null?void 0:s.substring(0,8)," @ ",this.state.buildInfo.buildTime]})]})}):this.props.children}}const Ie={container:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#f5f5f5",padding:"20px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},content:{backgroundColor:"white",borderRadius:"8px",padding:"40px",maxWidth:"600px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",textAlign:"center"},icon:{fontSize:"64px",marginBottom:"20px"},title:{fontSize:"28px",fontWeight:"600",color:"#d32f2f",margin:"0 0 16px 0"},description:{fontSize:"16px",color:"#666",lineHeight:"1.6",margin:"0 0 24px 0"},details:{marginBottom:"24px",textAlign:"left",backgroundColor:"#f9f9f9",border:"1px solid #ddd",borderRadius:"4px",padding:"12px"},summary:{cursor:"pointer",fontWeight:"600",color:"#666",userSelect:"none"},errorText:{marginTop:"12px",backgroundColor:"#f5f5f5",padding:"12px",borderRadius:"4px",fontSize:"12px",overflow:"auto",maxHeight:"200px",color:"#333",fontFamily:"monospace"},actions:{display:"flex",gap:"12px",justifyContent:"center",marginBottom:"20px"},button:{padding:"10px 24px",borderRadius:"4px",border:"none",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},primaryButton:{backgroundColor:"#667eea",color:"white"},secondaryButton:{backgroundColor:"#f0f0f0",color:"#333",border:"1px solid #ddd"},errorCount:{fontSize:"12px",color:"#999",margin:"0"},buildVersion:{fontSize:"11px",color:"#bbb",margin:"8px 0 0 0",fontFamily:"monospace",borderTop:"1px solid #eee",paddingTop:"8px"}};function S_(){return window.__INITIAL_STATE__||{}}const Rf=S_(),Pf=document.getElementById("root");Pf&&ui.createRoot(Pf).render(a.jsx(wr.StrictMode,{children:a.jsx(dc,{initialState:Rf,children:a.jsx(Fm,{children:a.jsx(Mm,{initialState:Rf})})})}));let Xa=!1;window.imogiCashierMount=function(e,t={}){var n;if(Xa){console.warn("[Cashier Mount] Mount already in progress, ignoring duplicate request");return}if(!e){console.error("[Cashier Mount] Element is required");return}Xa=!0;try{const r=t.initialState||window.__INITIAL_STATE__||{};if(e._reactRoot){try{e._reactRoot.unmount()}catch(c){console.error("[Cashier Mount] Unmount error:",c)}e._reactRoot=null,e._reactMountKey=null,e._reactMountTimestamp=null}if(window.__IMOGI_POS_CASHIER_ROOT){try{window.__IMOGI_POS_CASHIER_ROOT.unmount()}catch(c){console.error("[Cashier Mount] Unmount error:",c)}delete window.__IMOGI_POS_CASHIER_ROOT}window.__IMOGI_POS_CASHIER_MOUNTED&&delete window.__IMOGI_POS_CASHIER_MOUNTED,window.__IMOGI_POS_CASHIER_MOUNT_KEY&&delete window.__IMOGI_POS_CASHIER_MOUNT_KEY,e.innerHTML&&(e.innerHTML=""),["__IMOGI_POS_CASHIER_STATE__","__IMOGI_POS_CASHIER_STORE__","__IMOGI_POS_CASHIER_CONTEXT__"].forEach(c=>{window[c]&&delete window[c]});const o=`cashier-mount-${Date.now()}`,i=ui.createRoot(e),l=typeof frappe<"u"&&(((n=frappe==null?void 0:frappe.boot)==null?void 0:n.developer_mode)||window.location.hostname==="localhost"),u=a.jsx(dc,{initialState:r,children:a.jsx(Fm,{children:a.jsx(Mm,{initialState:r})})},o);return i.render(l?a.jsx(wr.StrictMode,{children:u}):u),e._reactRoot=i,e._reactMountKey=o,e._reactMountTimestamp=Date.now(),window.__IMOGI_POS_CASHIER_ROOT=i,window.__IMOGI_POS_CASHIER_MOUNTED=!0,window.__IMOGI_POS_CASHIER_MOUNT_KEY=o,i}finally{Xa=!1}};window.imogiCashierUnmount=function(e){if(e!=null&&e._reactRoot){try{e._reactRoot.unmount()}catch(n){console.error("[Cashier Unmount] Error:",n)}e._reactRoot=null,e._reactMountKey=null,e._reactMountTimestamp=null}if(window.__IMOGI_POS_CASHIER_ROOT){try{window.__IMOGI_POS_CASHIER_ROOT.unmount()}catch(n){console.error("[Cashier Unmount] Error:",n)}delete window.__IMOGI_POS_CASHIER_ROOT}window.__IMOGI_POS_CASHIER_MOUNTED&&delete window.__IMOGI_POS_CASHIER_MOUNTED,window.__IMOGI_POS_CASHIER_MOUNT_KEY&&delete window.__IMOGI_POS_CASHIER_MOUNT_KEY,e!=null&&e.innerHTML&&(e.innerHTML=""),["__IMOGI_POS_CASHIER_STATE__","__IMOGI_POS_CASHIER_STORE__","__IMOGI_POS_CASHIER_CONTEXT__","__INITIAL_STATE__"].forEach(n=>{window[n]&&delete window[n]})};
