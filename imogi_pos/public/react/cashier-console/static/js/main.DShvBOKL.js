function sg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ef={exports:{}},Ei={},Nf={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=Symbol.for("react.element"),og=Symbol.for("react.portal"),ig=Symbol.for("react.fragment"),ag=Symbol.for("react.strict_mode"),lg=Symbol.for("react.profiler"),ug=Symbol.for("react.provider"),cg=Symbol.for("react.context"),dg=Symbol.for("react.forward_ref"),fg=Symbol.for("react.suspense"),pg=Symbol.for("react.memo"),hg=Symbol.for("react.lazy"),Ac=Symbol.iterator;function mg(e){return e===null||typeof e!="object"?null:(e=Ac&&e[Ac]||e["@@iterator"],typeof e=="function"?e:null)}var bf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tf=Object.assign,Of={};function Hr(e,t,n){this.props=e,this.context=t,this.refs=Of,this.updater=n||bf}Hr.prototype.isReactComponent={};Hr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rf(){}Rf.prototype=Hr.prototype;function Zl(e,t,n){this.props=e,this.context=t,this.refs=Of,this.updater=n||bf}var eu=Zl.prototype=new Rf;eu.constructor=Zl;Tf(eu,Hr.prototype);eu.isPureReactComponent=!0;var Fc=Array.isArray,Pf=Object.prototype.hasOwnProperty,tu={current:null},Lf={key:!0,ref:!0,__self:!0,__source:!0};function Af(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Pf.call(t,r)&&!Lf.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:qs,type:e,key:o,ref:i,props:s,_owner:tu.current}}function gg(e,t){return{$$typeof:qs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nu(e){return typeof e=="object"&&e!==null&&e.$$typeof===qs}function yg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ic=/\/+/g;function aa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yg(""+e.key):t.toString(36)}function Do(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case qs:case og:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+aa(i,0):r,Fc(s)?(n="",e!=null&&(n=e.replace(Ic,"$&/")+"/"),Do(s,t,n,"",function(c){return c})):s!=null&&(nu(s)&&(s=gg(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Ic,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Fc(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+aa(o,a);i+=Do(o,t,n,l,s)}else if(l=mg(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+aa(o,a++),i+=Do(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ho(e,t,n){if(e==null)return e;var r=[],s=0;return Do(e,r,"","",function(o){return t.call(n,o,s++)}),r}function vg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},zo={transition:null},wg={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:zo,ReactCurrentOwner:tu};function Ff(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:ho,forEach:function(e,t,n){ho(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ho(e,function(){t++}),t},toArray:function(e){return ho(e,function(t){return t})||[]},only:function(e){if(!nu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Hr;se.Fragment=ig;se.Profiler=lg;se.PureComponent=Zl;se.StrictMode=ag;se.Suspense=fg;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wg;se.act=Ff;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tf({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=tu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Pf.call(t,l)&&!Lf.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:qs,type:e.type,key:s,ref:o,props:r,_owner:i}};se.createContext=function(e){return e={$$typeof:cg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ug,_context:e},e.Consumer=e};se.createElement=Af;se.createFactory=function(e){var t=Af.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:dg,render:e}};se.isValidElement=nu;se.lazy=function(e){return{$$typeof:hg,_payload:{_status:-1,_result:e},_init:vg}};se.memo=function(e,t){return{$$typeof:pg,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=zo.transition;zo.transition={};try{e()}finally{zo.transition=t}};se.unstable_act=Ff;se.useCallback=function(e,t){return rt.current.useCallback(e,t)};se.useContext=function(e){return rt.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};se.useEffect=function(e,t){return rt.current.useEffect(e,t)};se.useId=function(){return rt.current.useId()};se.useImperativeHandle=function(e,t,n){return rt.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return rt.current.useMemo(e,t)};se.useReducer=function(e,t,n){return rt.current.useReducer(e,t,n)};se.useRef=function(e){return rt.current.useRef(e)};se.useState=function(e){return rt.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return rt.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return rt.current.useTransition()};se.version="18.3.1";Nf.exports=se;var T=Nf.exports;const qr=sg(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=T,Sg=Symbol.for("react.element"),_g=Symbol.for("react.fragment"),kg=Object.prototype.hasOwnProperty,Cg=xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jg={key:!0,ref:!0,__self:!0,__source:!0};function If(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)kg.call(t,r)&&!jg.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Sg,type:e,key:o,ref:i,props:s,_owner:Cg.current}}Ei.Fragment=_g;Ei.jsx=If;Ei.jsxs=If;Ef.exports=Ei;var u=Ef.exports,Zo={},Df={exports:{}},gt={},zf={exports:{}},Bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,W){var X=D.length;D.push(W);e:for(;0<X;){var ie=X-1>>>1,me=D[ie];if(0<s(me,W))D[ie]=W,D[X]=me,X=ie;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var W=D[0],X=D.pop();if(X!==W){D[0]=X;e:for(var ie=0,me=D.length,fe=me>>>1;ie<fe;){var ye=2*(ie+1)-1,$e=D[ye],Ke=ye+1,dt=D[Ke];if(0>s($e,X))Ke<me&&0>s(dt,$e)?(D[ie]=dt,D[Ke]=X,ie=Ke):(D[ie]=$e,D[ye]=X,ie=ye);else if(Ke<me&&0>s(dt,X))D[ie]=dt,D[Ke]=X,ie=Ke;else break e}}return W}function s(D,W){var X=D.sortIndex-W.sortIndex;return X!==0?X:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],p=1,g=null,y=3,m=!1,S=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=D)r(c),W.sortIndex=W.expirationTime,t(l,W);else break;W=n(c)}}function j(D){if(k=!1,_(D),!S)if(n(l)!==null)S=!0,oe(O);else{var W=n(c);W!==null&&G(j,W.startTime-D)}}function O(D,W){S=!1,k&&(k=!1,w(L),L=-1),m=!0;var X=y;try{for(_(W),g=n(l);g!==null&&(!(g.expirationTime>W)||D&&!U());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,y=g.priorityLevel;var me=ie(g.expirationTime<=W);W=e.unstable_now(),typeof me=="function"?g.callback=me:g===n(l)&&r(l),_(W)}else r(l);g=n(l)}if(g!==null)var fe=!0;else{var ye=n(c);ye!==null&&G(j,ye.startTime-W),fe=!1}return fe}finally{g=null,y=X,m=!1}}var I=!1,F=null,L=-1,H=5,R=-1;function U(){return!(e.unstable_now()-R<H)}function Z(){if(F!==null){var D=e.unstable_now();R=D;var W=!0;try{W=F(!0,D)}finally{W?A():(I=!1,F=null)}}else I=!1}var A;if(typeof x=="function")A=function(){x(Z)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ee=J.port2;J.port1.onmessage=Z,A=function(){ee.postMessage(null)}}else A=function(){P(Z,0)};function oe(D){F=D,I||(I=!0,A())}function G(D,W){L=P(function(){D(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){S||m||(S=!0,oe(O))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var X=y;y=W;try{return D()}finally{y=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var X=y;y=D;try{return W()}finally{y=X}},e.unstable_scheduleCallback=function(D,W,X){var ie=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ie+X:ie):X=ie,D){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=X+me,D={id:p++,callback:W,priorityLevel:D,startTime:X,expirationTime:me,sortIndex:-1},X>ie?(D.sortIndex=X,t(c,D),n(l)===null&&D===n(c)&&(k?(w(L),L=-1):k=!0,G(j,X-ie))):(D.sortIndex=me,t(l,D),S||m||(S=!0,oe(O))),D},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(D){var W=y;return function(){var X=y;y=W;try{return D.apply(this,arguments)}finally{y=X}}}})(Bf);zf.exports=Bf;var Eg=zf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng=T,mt=Eg;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mf=new Set,Ns={};function ar(e,t){Ir(e,t),Ir(e+"Capture",t)}function Ir(e,t){for(Ns[e]=t,e=0;e<t.length;e++)Mf.add(t[e])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wa=Object.prototype.hasOwnProperty,bg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dc={},zc={};function Tg(e){return Wa.call(zc,e)?!0:Wa.call(Dc,e)?!1:bg.test(e)?zc[e]=!0:(Dc[e]=!0,!1)}function Og(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rg(e,t,n,r){if(t===null||typeof t>"u"||Og(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var ru=/[\-:]([a-z])/g;function su(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ru,su);We[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ru,su);We[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ru,su);We[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function ou(e,t,n,r){var s=We.hasOwnProperty(t)?We[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rg(t,n,s,r)&&(n=null),r||s===null?Tg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vn=Ng.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mo=Symbol.for("react.element"),yr=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),iu=Symbol.for("react.strict_mode"),Ka=Symbol.for("react.profiler"),Uf=Symbol.for("react.provider"),$f=Symbol.for("react.context"),au=Symbol.for("react.forward_ref"),Qa=Symbol.for("react.suspense"),Ya=Symbol.for("react.suspense_list"),lu=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),Vf=Symbol.for("react.offscreen"),Bc=Symbol.iterator;function ns(e){return e===null||typeof e!="object"?null:(e=Bc&&e[Bc]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,la;function ps(e){if(la===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);la=t&&t[1]||""}return`
`+la+e}var ua=!1;function ca(e,t){if(!e||ua)return"";ua=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{ua=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ps(e):""}function Pg(e){switch(e.tag){case 5:return ps(e.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 2:case 15:return e=ca(e.type,!1),e;case 11:return e=ca(e.type.render,!1),e;case 1:return e=ca(e.type,!0),e;default:return""}}function Ja(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vr:return"Fragment";case yr:return"Portal";case Ka:return"Profiler";case iu:return"StrictMode";case Qa:return"Suspense";case Ya:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $f:return(e.displayName||"Context")+".Consumer";case Uf:return(e._context.displayName||"Context")+".Provider";case au:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lu:return t=e.displayName||null,t!==null?t:Ja(e.type)||"Memo";case Cn:t=e._payload,e=e._init;try{return Ja(e(t))}catch{}}return null}function Lg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ja(t);case 8:return t===iu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ag(e){var t=Hf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function go(e){e._valueTracker||(e._valueTracker=Ag(e))}function qf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xa(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Mc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wf(e,t){t=t.checked,t!=null&&ou(e,"checked",t,!1)}function Ga(e,t){Wf(e,t);var n=Bn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Za(e,t.type,n):t.hasOwnProperty("defaultValue")&&Za(e,t.type,Bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Za(e,t,n){(t!=="number"||ei(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hs=Array.isArray;function Tr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function el(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $c(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(hs(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bn(n)}}function Kf(e,t){var n=Bn(t.value),r=Bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yo,Yf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fg=["Webkit","ms","Moz","O"];Object.keys(vs).forEach(function(e){Fg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vs[t]=vs[e]})});function Jf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vs.hasOwnProperty(e)&&vs[e]?(""+t).trim():t+"px"}function Xf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Ig=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nl(e,t){if(t){if(Ig[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function rl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sl=null;function uu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,Or=null,Rr=null;function Hc(e){if(e=Qs(e)){if(typeof ol!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Ri(t),ol(e.stateNode,e.type,t))}}function Gf(e){Or?Rr?Rr.push(e):Rr=[e]:Or=e}function Zf(){if(Or){var e=Or,t=Rr;if(Rr=Or=null,Hc(e),t)for(e=0;e<t.length;e++)Hc(t[e])}}function ep(e,t){return e(t)}function tp(){}var da=!1;function np(e,t,n){if(da)return e(t,n);da=!0;try{return ep(e,t,n)}finally{da=!1,(Or!==null||Rr!==null)&&(tp(),Zf())}}function Ts(e,t){var n=e.stateNode;if(n===null)return null;var r=Ri(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var il=!1;if(pn)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){il=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{il=!1}function Dg(e,t,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var ws=!1,ti=null,ni=!1,al=null,zg={onError:function(e){ws=!0,ti=e}};function Bg(e,t,n,r,s,o,i,a,l){ws=!1,ti=null,Dg.apply(zg,arguments)}function Mg(e,t,n,r,s,o,i,a,l){if(Bg.apply(this,arguments),ws){if(ws){var c=ti;ws=!1,ti=null}else throw Error(z(198));ni||(ni=!0,al=c)}}function lr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qc(e){if(lr(e)!==e)throw Error(z(188))}function Ug(e){var t=e.alternate;if(!t){if(t=lr(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return qc(s),e;if(o===r)return qc(s),t;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function sp(e){return e=Ug(e),e!==null?op(e):null}function op(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=op(e);if(t!==null)return t;e=e.sibling}return null}var ip=mt.unstable_scheduleCallback,Wc=mt.unstable_cancelCallback,$g=mt.unstable_shouldYield,Vg=mt.unstable_requestPaint,Oe=mt.unstable_now,Hg=mt.unstable_getCurrentPriorityLevel,cu=mt.unstable_ImmediatePriority,ap=mt.unstable_UserBlockingPriority,ri=mt.unstable_NormalPriority,qg=mt.unstable_LowPriority,lp=mt.unstable_IdlePriority,Ni=null,Xt=null;function Wg(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Ni,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Yg,Kg=Math.log,Qg=Math.LN2;function Yg(e){return e>>>=0,e===0?32:31-(Kg(e)/Qg|0)|0}var vo=64,wo=4194304;function ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function si(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=ms(a):(o&=i,o!==0&&(r=ms(o)))}else i=n&~s,i!==0?r=ms(i):o!==0&&(r=ms(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ut(t),s=1<<n,r|=e[n],t&=~s;return r}function Jg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Ut(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=Jg(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function up(){var e=vo;return vo<<=1,!(vo&4194240)&&(vo=64),e}function fa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ws(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function Gg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ut(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function du(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ut(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ge=0;function cp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dp,fu,fp,pp,hp,ul=!1,xo=[],Rn=null,Pn=null,Ln=null,Os=new Map,Rs=new Map,En=[],Zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kc(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Os.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(t.pointerId)}}function ss(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Qs(t),t!==null&&fu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ey(e,t,n,r,s){switch(t){case"focusin":return Rn=ss(Rn,e,t,n,r,s),!0;case"dragenter":return Pn=ss(Pn,e,t,n,r,s),!0;case"mouseover":return Ln=ss(Ln,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Os.set(o,ss(Os.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Rs.set(o,ss(Rs.get(o)||null,e,t,n,r,s)),!0}return!1}function mp(e){var t=Xn(e.target);if(t!==null){var n=lr(t);if(n!==null){if(t=n.tag,t===13){if(t=rp(n),t!==null){e.blockedOn=t,hp(e.priority,function(){fp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sl=r,n.target.dispatchEvent(r),sl=null}else return t=Qs(n),t!==null&&fu(t),e.blockedOn=n,!1;t.shift()}return!0}function Qc(e,t,n){Bo(e)&&n.delete(t)}function ty(){ul=!1,Rn!==null&&Bo(Rn)&&(Rn=null),Pn!==null&&Bo(Pn)&&(Pn=null),Ln!==null&&Bo(Ln)&&(Ln=null),Os.forEach(Qc),Rs.forEach(Qc)}function os(e,t){e.blockedOn===t&&(e.blockedOn=null,ul||(ul=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,ty)))}function Ps(e){function t(s){return os(s,e)}if(0<xo.length){os(xo[0],e);for(var n=1;n<xo.length;n++){var r=xo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rn!==null&&os(Rn,e),Pn!==null&&os(Pn,e),Ln!==null&&os(Ln,e),Os.forEach(t),Rs.forEach(t),n=0;n<En.length;n++)r=En[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<En.length&&(n=En[0],n.blockedOn===null);)mp(n),n.blockedOn===null&&En.shift()}var Pr=vn.ReactCurrentBatchConfig,oi=!0;function ny(e,t,n,r){var s=ge,o=Pr.transition;Pr.transition=null;try{ge=1,pu(e,t,n,r)}finally{ge=s,Pr.transition=o}}function ry(e,t,n,r){var s=ge,o=Pr.transition;Pr.transition=null;try{ge=4,pu(e,t,n,r)}finally{ge=s,Pr.transition=o}}function pu(e,t,n,r){if(oi){var s=cl(e,t,n,r);if(s===null)_a(e,t,r,ii,n),Kc(e,r);else if(ey(s,e,t,n,r))r.stopPropagation();else if(Kc(e,r),t&4&&-1<Zg.indexOf(e)){for(;s!==null;){var o=Qs(s);if(o!==null&&dp(o),o=cl(e,t,n,r),o===null&&_a(e,t,r,ii,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else _a(e,t,r,null,n)}}var ii=null;function cl(e,t,n,r){if(ii=null,e=uu(r),e=Xn(e),e!==null)if(t=lr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ii=e,null}function gp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hg()){case cu:return 1;case ap:return 4;case ri:case qg:return 16;case lp:return 536870912;default:return 16}default:return 16}}var bn=null,hu=null,Mo=null;function yp(){if(Mo)return Mo;var e,t=hu,n=t.length,r,s="value"in bn?bn.value:bn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Mo=s.slice(e,1<r?1-r:void 0)}function Uo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function So(){return!0}function Yc(){return!1}function yt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?So:Yc,this.isPropagationStopped=Yc,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),t}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=yt(Wr),Ks=be({},Wr,{view:0,detail:0}),sy=yt(Ks),pa,ha,is,bi=be({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==is&&(is&&e.type==="mousemove"?(pa=e.screenX-is.screenX,ha=e.screenY-is.screenY):ha=pa=0,is=e),pa)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Jc=yt(bi),oy=be({},bi,{dataTransfer:0}),iy=yt(oy),ay=be({},Ks,{relatedTarget:0}),ma=yt(ay),ly=be({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),uy=yt(ly),cy=be({},Wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dy=yt(cy),fy=be({},Wr,{data:0}),Xc=yt(fy),py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},my={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=my[e])?!!t[e]:!1}function gu(){return gy}var yy=be({},Ks,{key:function(e){if(e.key){var t=py[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Uo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(e){return e.type==="keypress"?Uo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vy=yt(yy),wy=be({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=yt(wy),xy=be({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),Sy=yt(xy),_y=be({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ky=yt(_y),Cy=be({},bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jy=yt(Cy),Ey=[9,13,27,32],yu=pn&&"CompositionEvent"in window,xs=null;pn&&"documentMode"in document&&(xs=document.documentMode);var Ny=pn&&"TextEvent"in window&&!xs,vp=pn&&(!yu||xs&&8<xs&&11>=xs),Zc=" ",ed=!1;function wp(e,t){switch(e){case"keyup":return Ey.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wr=!1;function by(e,t){switch(e){case"compositionend":return xp(t);case"keypress":return t.which!==32?null:(ed=!0,Zc);case"textInput":return e=t.data,e===Zc&&ed?null:e;default:return null}}function Ty(e,t){if(wr)return e==="compositionend"||!yu&&wp(e,t)?(e=yp(),Mo=hu=bn=null,wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vp&&t.locale!=="ko"?null:t.data;default:return null}}var Oy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Oy[e.type]:t==="textarea"}function Sp(e,t,n,r){Gf(r),t=ai(t,"onChange"),0<t.length&&(n=new mu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ss=null,Ls=null;function Ry(e){Pp(e,0)}function Ti(e){var t=_r(e);if(qf(t))return e}function Py(e,t){if(e==="change")return t}var _p=!1;if(pn){var ga;if(pn){var ya="oninput"in document;if(!ya){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),ya=typeof nd.oninput=="function"}ga=ya}else ga=!1;_p=ga&&(!document.documentMode||9<document.documentMode)}function rd(){Ss&&(Ss.detachEvent("onpropertychange",kp),Ls=Ss=null)}function kp(e){if(e.propertyName==="value"&&Ti(Ls)){var t=[];Sp(t,Ls,e,uu(e)),np(Ry,t)}}function Ly(e,t,n){e==="focusin"?(rd(),Ss=t,Ls=n,Ss.attachEvent("onpropertychange",kp)):e==="focusout"&&rd()}function Ay(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ti(Ls)}function Fy(e,t){if(e==="click")return Ti(t)}function Iy(e,t){if(e==="input"||e==="change")return Ti(t)}function Dy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Dy;function As(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wa.call(t,s)||!Vt(e[s],t[s]))return!1}return!0}function sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function od(e,t){var n=sd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sd(n)}}function Cp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jp(){for(var e=window,t=ei();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ei(e.document)}return t}function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zy(e){var t=jp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cp(n.ownerDocument.documentElement,n)){if(r!==null&&vu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=od(n,o);var i=od(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var By=pn&&"documentMode"in document&&11>=document.documentMode,xr=null,dl=null,_s=null,fl=!1;function id(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fl||xr==null||xr!==ei(r)||(r=xr,"selectionStart"in r&&vu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_s&&As(_s,r)||(_s=r,r=ai(dl,"onSelect"),0<r.length&&(t=new mu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xr)))}function _o(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},va={},Ep={};pn&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function Oi(e){if(va[e])return va[e];if(!Sr[e])return e;var t=Sr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ep)return va[e]=t[n];return e}var Np=Oi("animationend"),bp=Oi("animationiteration"),Tp=Oi("animationstart"),Op=Oi("transitionend"),Rp=new Map,ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){Rp.set(e,t),ar(t,[e])}for(var wa=0;wa<ad.length;wa++){var xa=ad[wa],My=xa.toLowerCase(),Uy=xa[0].toUpperCase()+xa.slice(1);$n(My,"on"+Uy)}$n(Np,"onAnimationEnd");$n(bp,"onAnimationIteration");$n(Tp,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(Op,"onTransitionEnd");Ir("onMouseEnter",["mouseout","mouseover"]);Ir("onMouseLeave",["mouseout","mouseover"]);Ir("onPointerEnter",["pointerout","pointerover"]);Ir("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$y=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function ld(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Mg(r,t,void 0,e),e.currentTarget=null}function Pp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;ld(s,a,c),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;ld(s,a,c),o=l}}}if(ni)throw e=al,ni=!1,al=null,e}function Se(e,t){var n=t[yl];n===void 0&&(n=t[yl]=new Set);var r=e+"__bubble";n.has(r)||(Lp(t,e,2,!1),n.add(r))}function Sa(e,t,n){var r=0;t&&(r|=4),Lp(n,e,r,t)}var ko="_reactListening"+Math.random().toString(36).slice(2);function Fs(e){if(!e[ko]){e[ko]=!0,Mf.forEach(function(n){n!=="selectionchange"&&($y.has(n)||Sa(n,!1,e),Sa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ko]||(t[ko]=!0,Sa("selectionchange",!1,t))}}function Lp(e,t,n,r){switch(gp(t)){case 1:var s=ny;break;case 4:s=ry;break;default:s=pu}n=s.bind(null,t,n,e),s=void 0,!il||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function _a(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Xn(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}np(function(){var c=o,p=uu(n),g=[];e:{var y=Rp.get(e);if(y!==void 0){var m=mu,S=e;switch(e){case"keypress":if(Uo(n)===0)break e;case"keydown":case"keyup":m=vy;break;case"focusin":S="focus",m=ma;break;case"focusout":S="blur",m=ma;break;case"beforeblur":case"afterblur":m=ma;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=iy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Sy;break;case Np:case bp:case Tp:m=uy;break;case Op:m=ky;break;case"scroll":m=sy;break;case"wheel":m=jy;break;case"copy":case"cut":case"paste":m=dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Gc}var k=(t&4)!==0,P=!k&&e==="scroll",w=k?y!==null?y+"Capture":null:y;k=[];for(var x=c,_;x!==null;){_=x;var j=_.stateNode;if(_.tag===5&&j!==null&&(_=j,w!==null&&(j=Ts(x,w),j!=null&&k.push(Is(x,j,_)))),P)break;x=x.return}0<k.length&&(y=new m(y,S,null,n,p),g.push({event:y,listeners:k}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",y&&n!==sl&&(S=n.relatedTarget||n.fromElement)&&(Xn(S)||S[hn]))break e;if((m||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=c,S=S?Xn(S):null,S!==null&&(P=lr(S),S!==P||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=c),m!==S)){if(k=Jc,j="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(k=Gc,j="onPointerLeave",w="onPointerEnter",x="pointer"),P=m==null?y:_r(m),_=S==null?y:_r(S),y=new k(j,x+"leave",m,n,p),y.target=P,y.relatedTarget=_,j=null,Xn(p)===c&&(k=new k(w,x+"enter",S,n,p),k.target=_,k.relatedTarget=P,j=k),P=j,m&&S)t:{for(k=m,w=S,x=0,_=k;_;_=hr(_))x++;for(_=0,j=w;j;j=hr(j))_++;for(;0<x-_;)k=hr(k),x--;for(;0<_-x;)w=hr(w),_--;for(;x--;){if(k===w||w!==null&&k===w.alternate)break t;k=hr(k),w=hr(w)}k=null}else k=null;m!==null&&ud(g,y,m,k,!1),S!==null&&P!==null&&ud(g,P,S,k,!0)}}e:{if(y=c?_r(c):window,m=y.nodeName&&y.nodeName.toLowerCase(),m==="select"||m==="input"&&y.type==="file")var O=Py;else if(td(y))if(_p)O=Iy;else{O=Ay;var I=Ly}else(m=y.nodeName)&&m.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(O=Fy);if(O&&(O=O(e,c))){Sp(g,O,n,p);break e}I&&I(e,y,c),e==="focusout"&&(I=y._wrapperState)&&I.controlled&&y.type==="number"&&Za(y,"number",y.value)}switch(I=c?_r(c):window,e){case"focusin":(td(I)||I.contentEditable==="true")&&(xr=I,dl=c,_s=null);break;case"focusout":_s=dl=xr=null;break;case"mousedown":fl=!0;break;case"contextmenu":case"mouseup":case"dragend":fl=!1,id(g,n,p);break;case"selectionchange":if(By)break;case"keydown":case"keyup":id(g,n,p)}var F;if(yu)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else wr?wp(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(vp&&n.locale!=="ko"&&(wr||L!=="onCompositionStart"?L==="onCompositionEnd"&&wr&&(F=yp()):(bn=p,hu="value"in bn?bn.value:bn.textContent,wr=!0)),I=ai(c,L),0<I.length&&(L=new Xc(L,e,null,n,p),g.push({event:L,listeners:I}),F?L.data=F:(F=xp(n),F!==null&&(L.data=F)))),(F=Ny?by(e,n):Ty(e,n))&&(c=ai(c,"onBeforeInput"),0<c.length&&(p=new Xc("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:c}),p.data=F))}Pp(g,t)})}function Is(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ai(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ts(e,n),o!=null&&r.unshift(Is(e,o,s)),o=Ts(e,t),o!=null&&r.push(Is(e,o,s))),e=e.return}return r}function hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ud(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ts(n,o),l!=null&&i.unshift(Is(n,l,a))):s||(l=Ts(n,o),l!=null&&i.push(Is(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Vy=/\r\n?/g,Hy=/\u0000|\uFFFD/g;function cd(e){return(typeof e=="string"?e:""+e).replace(Vy,`
`).replace(Hy,"")}function Co(e,t,n){if(t=cd(t),cd(e)!==t&&n)throw Error(z(425))}function li(){}var pl=null,hl=null;function ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gl=typeof setTimeout=="function"?setTimeout:void 0,qy=typeof clearTimeout=="function"?clearTimeout:void 0,dd=typeof Promise=="function"?Promise:void 0,Wy=typeof queueMicrotask=="function"?queueMicrotask:typeof dd<"u"?function(e){return dd.resolve(null).then(e).catch(Ky)}:gl;function Ky(e){setTimeout(function(){throw e})}function ka(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ps(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ps(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Kr,Ds="__reactProps$"+Kr,hn="__reactContainer$"+Kr,yl="__reactEvents$"+Kr,Qy="__reactListeners$"+Kr,Yy="__reactHandles$"+Kr;function Xn(e){var t=e[Jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[Jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fd(e);e!==null;){if(n=e[Jt])return n;e=fd(e)}return t}e=n,n=e.parentNode}return null}function Qs(e){return e=e[Jt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Ri(e){return e[Ds]||null}var vl=[],kr=-1;function Vn(e){return{current:e}}function _e(e){0>kr||(e.current=vl[kr],vl[kr]=null,kr--)}function xe(e,t){kr++,vl[kr]=e.current,e.current=t}var Mn={},et=Vn(Mn),lt=Vn(!1),nr=Mn;function Dr(e,t){var n=e.type.contextTypes;if(!n)return Mn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ut(e){return e=e.childContextTypes,e!=null}function ui(){_e(lt),_e(et)}function pd(e,t,n){if(et.current!==Mn)throw Error(z(168));xe(et,t),xe(lt,n)}function Ap(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(z(108,Lg(e)||"Unknown",s));return be({},n,r)}function ci(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mn,nr=et.current,xe(et,e),xe(lt,lt.current),!0}function hd(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=Ap(e,t,nr),r.__reactInternalMemoizedMergedChildContext=e,_e(lt),_e(et),xe(et,e)):_e(lt),xe(lt,n)}var ln=null,Pi=!1,Ca=!1;function Fp(e){ln===null?ln=[e]:ln.push(e)}function Jy(e){Pi=!0,Fp(e)}function Hn(){if(!Ca&&ln!==null){Ca=!0;var e=0,t=ge;try{var n=ln;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,Pi=!1}catch(s){throw ln!==null&&(ln=ln.slice(e+1)),ip(cu,Hn),s}finally{ge=t,Ca=!1}}return null}var Cr=[],jr=0,di=null,fi=0,wt=[],xt=0,rr=null,cn=1,dn="";function Yn(e,t){Cr[jr++]=fi,Cr[jr++]=di,di=e,fi=t}function Ip(e,t,n){wt[xt++]=cn,wt[xt++]=dn,wt[xt++]=rr,rr=e;var r=cn;e=dn;var s=32-Ut(r)-1;r&=~(1<<s),n+=1;var o=32-Ut(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,cn=1<<32-Ut(t)+s|n<<s|r,dn=o+e}else cn=1<<o|n<<s|r,dn=e}function wu(e){e.return!==null&&(Yn(e,1),Ip(e,1,0))}function xu(e){for(;e===di;)di=Cr[--jr],Cr[jr]=null,fi=Cr[--jr],Cr[jr]=null;for(;e===rr;)rr=wt[--xt],wt[xt]=null,dn=wt[--xt],wt[xt]=null,cn=wt[--xt],wt[xt]=null}var ht=null,pt=null,je=!1,zt=null;function Dp(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function md(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,pt=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rr!==null?{id:cn,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ht=e,pt=null,!0):!1;default:return!1}}function wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xl(e){if(je){var t=pt;if(t){var n=t;if(!md(e,t)){if(wl(e))throw Error(z(418));t=An(n.nextSibling);var r=ht;t&&md(e,t)?Dp(r,n):(e.flags=e.flags&-4097|2,je=!1,ht=e)}}else{if(wl(e))throw Error(z(418));e.flags=e.flags&-4097|2,je=!1,ht=e}}}function gd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function jo(e){if(e!==ht)return!1;if(!je)return gd(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ml(e.type,e.memoizedProps)),t&&(t=pt)){if(wl(e))throw zp(),Error(z(418));for(;t;)Dp(e,t),t=An(t.nextSibling)}if(gd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=An(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=ht?An(e.stateNode.nextSibling):null;return!0}function zp(){for(var e=pt;e;)e=An(e.nextSibling)}function zr(){pt=ht=null,je=!1}function Su(e){zt===null?zt=[e]:zt.push(e)}var Xy=vn.ReactCurrentBatchConfig;function as(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function Eo(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yd(e){var t=e._init;return t(e._payload)}function Bp(e){function t(w,x){if(e){var _=w.deletions;_===null?(w.deletions=[x],w.flags|=16):_.push(x)}}function n(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=zn(w,x),w.index=0,w.sibling=null,w}function o(w,x,_){return w.index=_,e?(_=w.alternate,_!==null?(_=_.index,_<x?(w.flags|=2,x):_):(w.flags|=2,x)):(w.flags|=1048576,x)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,x,_,j){return x===null||x.tag!==6?(x=Ra(_,w.mode,j),x.return=w,x):(x=s(x,_),x.return=w,x)}function l(w,x,_,j){var O=_.type;return O===vr?p(w,x,_.props.children,j,_.key):x!==null&&(x.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Cn&&yd(O)===x.type)?(j=s(x,_.props),j.ref=as(w,x,_),j.return=w,j):(j=Qo(_.type,_.key,_.props,null,w.mode,j),j.ref=as(w,x,_),j.return=w,j)}function c(w,x,_,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Pa(_,w.mode,j),x.return=w,x):(x=s(x,_.children||[]),x.return=w,x)}function p(w,x,_,j,O){return x===null||x.tag!==7?(x=tr(_,w.mode,j,O),x.return=w,x):(x=s(x,_),x.return=w,x)}function g(w,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ra(""+x,w.mode,_),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mo:return _=Qo(x.type,x.key,x.props,null,w.mode,_),_.ref=as(w,null,x),_.return=w,_;case yr:return x=Pa(x,w.mode,_),x.return=w,x;case Cn:var j=x._init;return g(w,j(x._payload),_)}if(hs(x)||ns(x))return x=tr(x,w.mode,_,null),x.return=w,x;Eo(w,x)}return null}function y(w,x,_,j){var O=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(w,x,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case mo:return _.key===O?l(w,x,_,j):null;case yr:return _.key===O?c(w,x,_,j):null;case Cn:return O=_._init,y(w,x,O(_._payload),j)}if(hs(_)||ns(_))return O!==null?null:p(w,x,_,j,null);Eo(w,_)}return null}function m(w,x,_,j,O){if(typeof j=="string"&&j!==""||typeof j=="number")return w=w.get(_)||null,a(x,w,""+j,O);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case mo:return w=w.get(j.key===null?_:j.key)||null,l(x,w,j,O);case yr:return w=w.get(j.key===null?_:j.key)||null,c(x,w,j,O);case Cn:var I=j._init;return m(w,x,_,I(j._payload),O)}if(hs(j)||ns(j))return w=w.get(_)||null,p(x,w,j,O,null);Eo(x,j)}return null}function S(w,x,_,j){for(var O=null,I=null,F=x,L=x=0,H=null;F!==null&&L<_.length;L++){F.index>L?(H=F,F=null):H=F.sibling;var R=y(w,F,_[L],j);if(R===null){F===null&&(F=H);break}e&&F&&R.alternate===null&&t(w,F),x=o(R,x,L),I===null?O=R:I.sibling=R,I=R,F=H}if(L===_.length)return n(w,F),je&&Yn(w,L),O;if(F===null){for(;L<_.length;L++)F=g(w,_[L],j),F!==null&&(x=o(F,x,L),I===null?O=F:I.sibling=F,I=F);return je&&Yn(w,L),O}for(F=r(w,F);L<_.length;L++)H=m(F,w,L,_[L],j),H!==null&&(e&&H.alternate!==null&&F.delete(H.key===null?L:H.key),x=o(H,x,L),I===null?O=H:I.sibling=H,I=H);return e&&F.forEach(function(U){return t(w,U)}),je&&Yn(w,L),O}function k(w,x,_,j){var O=ns(_);if(typeof O!="function")throw Error(z(150));if(_=O.call(_),_==null)throw Error(z(151));for(var I=O=null,F=x,L=x=0,H=null,R=_.next();F!==null&&!R.done;L++,R=_.next()){F.index>L?(H=F,F=null):H=F.sibling;var U=y(w,F,R.value,j);if(U===null){F===null&&(F=H);break}e&&F&&U.alternate===null&&t(w,F),x=o(U,x,L),I===null?O=U:I.sibling=U,I=U,F=H}if(R.done)return n(w,F),je&&Yn(w,L),O;if(F===null){for(;!R.done;L++,R=_.next())R=g(w,R.value,j),R!==null&&(x=o(R,x,L),I===null?O=R:I.sibling=R,I=R);return je&&Yn(w,L),O}for(F=r(w,F);!R.done;L++,R=_.next())R=m(F,w,L,R.value,j),R!==null&&(e&&R.alternate!==null&&F.delete(R.key===null?L:R.key),x=o(R,x,L),I===null?O=R:I.sibling=R,I=R);return e&&F.forEach(function(Z){return t(w,Z)}),je&&Yn(w,L),O}function P(w,x,_,j){if(typeof _=="object"&&_!==null&&_.type===vr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case mo:e:{for(var O=_.key,I=x;I!==null;){if(I.key===O){if(O=_.type,O===vr){if(I.tag===7){n(w,I.sibling),x=s(I,_.props.children),x.return=w,w=x;break e}}else if(I.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Cn&&yd(O)===I.type){n(w,I.sibling),x=s(I,_.props),x.ref=as(w,I,_),x.return=w,w=x;break e}n(w,I);break}else t(w,I);I=I.sibling}_.type===vr?(x=tr(_.props.children,w.mode,j,_.key),x.return=w,w=x):(j=Qo(_.type,_.key,_.props,null,w.mode,j),j.ref=as(w,x,_),j.return=w,w=j)}return i(w);case yr:e:{for(I=_.key;x!==null;){if(x.key===I)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(w,x.sibling),x=s(x,_.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else t(w,x);x=x.sibling}x=Pa(_,w.mode,j),x.return=w,w=x}return i(w);case Cn:return I=_._init,P(w,x,I(_._payload),j)}if(hs(_))return S(w,x,_,j);if(ns(_))return k(w,x,_,j);Eo(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(w,x.sibling),x=s(x,_),x.return=w,w=x):(n(w,x),x=Ra(_,w.mode,j),x.return=w,w=x),i(w)):n(w,x)}return P}var Br=Bp(!0),Mp=Bp(!1),pi=Vn(null),hi=null,Er=null,_u=null;function ku(){_u=Er=hi=null}function Cu(e){var t=pi.current;_e(pi),e._currentValue=t}function Sl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lr(e,t){hi=e,_u=Er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function jt(e){var t=e._currentValue;if(_u!==e)if(e={context:e,memoizedValue:t,next:null},Er===null){if(hi===null)throw Error(z(308));Er=e,hi.dependencies={lanes:0,firstContext:e}}else Er=Er.next=e;return t}var Gn=null;function ju(e){Gn===null?Gn=[e]:Gn.push(e)}function Up(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ju(t)):(n.next=s.next,s.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jn=!1;function Eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $p(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,mn(e,n)}return s=r.interleaved,s===null?(t.next=t,ju(r)):(t.next=s.next,s.next=t),r.interleaved=t,mn(e,n)}function $o(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,du(e,n)}}function vd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function mi(e,t,n,r){var s=e.updateQueue;jn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==i&&(a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=l))}if(o!==null){var g=s.baseState;i=0,p=c=l=null,a=o;do{var y=a.lane,m=a.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=e,k=a;switch(y=t,m=n,k.tag){case 1:if(S=k.payload,typeof S=="function"){g=S.call(m,g,y);break e}g=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=k.payload,y=typeof S=="function"?S.call(m,g,y):S,y==null)break e;g=be({},g,y);break e;case 2:jn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[a]:y.push(a))}else m={eventTime:m,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(c=p=m,l=g):p=p.next=m,i|=y;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;y=a,a=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(p===null&&(l=g),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);or|=i,e.lanes=i,e.memoizedState=g}}function wd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Ys={},Gt=Vn(Ys),zs=Vn(Ys),Bs=Vn(Ys);function Zn(e){if(e===Ys)throw Error(z(174));return e}function Nu(e,t){switch(xe(Bs,t),xe(zs,e),xe(Gt,Ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tl(t,e)}_e(Gt),xe(Gt,t)}function Mr(){_e(Gt),_e(zs),_e(Bs)}function Vp(e){Zn(Bs.current);var t=Zn(Gt.current),n=tl(t,e.type);t!==n&&(xe(zs,e),xe(Gt,n))}function bu(e){zs.current===e&&(_e(Gt),_e(zs))}var Ee=Vn(0);function gi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=[];function Tu(){for(var e=0;e<ja.length;e++)ja[e]._workInProgressVersionPrimary=null;ja.length=0}var Vo=vn.ReactCurrentDispatcher,Ea=vn.ReactCurrentBatchConfig,sr=0,Ne=null,De=null,Me=null,yi=!1,ks=!1,Ms=0,Gy=0;function Xe(){throw Error(z(321))}function Ou(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function Ru(e,t,n,r,s,o){if(sr=o,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vo.current=e===null||e.memoizedState===null?nv:rv,e=n(r,s),ks){o=0;do{if(ks=!1,Ms=0,25<=o)throw Error(z(301));o+=1,Me=De=null,t.updateQueue=null,Vo.current=sv,e=n(r,s)}while(ks)}if(Vo.current=vi,t=De!==null&&De.next!==null,sr=0,Me=De=Ne=null,yi=!1,t)throw Error(z(300));return e}function Pu(){var e=Ms!==0;return Ms=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ne.memoizedState=Me=e:Me=Me.next=e,Me}function Et(){if(De===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Me===null?Ne.memoizedState:Me.next;if(t!==null)Me=t,De=e;else{if(e===null)throw Error(z(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Me===null?Ne.memoizedState=Me=e:Me=Me.next=e}return Me}function Us(e,t){return typeof t=="function"?t(e):t}function Na(e){var t=Et(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=De,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,c=o;do{var p=c.lane;if((sr&p)===p)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var g={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=g,i=r):l=l.next=g,Ne.lanes|=p,or|=p}c=c.next}while(c!==null&&c!==o);l===null?i=r:l.next=a,Vt(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ne.lanes|=o,or|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ba(e){var t=Et(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Vt(o,t.memoizedState)||(at=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Hp(){}function qp(e,t){var n=Ne,r=Et(),s=t(),o=!Vt(r.memoizedState,s);if(o&&(r.memoizedState=s,at=!0),r=r.queue,Lu(Qp.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,$s(9,Kp.bind(null,n,r,s,t),void 0,null),Ue===null)throw Error(z(349));sr&30||Wp(n,t,s)}return s}function Wp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kp(e,t,n,r){t.value=n,t.getSnapshot=r,Yp(t)&&Jp(e)}function Qp(e,t,n){return n(function(){Yp(t)&&Jp(e)})}function Yp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function Jp(e){var t=mn(e,1);t!==null&&$t(t,e,1,-1)}function xd(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:e},t.queue=e,e=e.dispatch=tv.bind(null,Ne,e),[t.memoizedState,e]}function $s(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Xp(){return Et().memoizedState}function Ho(e,t,n,r){var s=Yt();Ne.flags|=e,s.memoizedState=$s(1|t,n,void 0,r===void 0?null:r)}function Li(e,t,n,r){var s=Et();r=r===void 0?null:r;var o=void 0;if(De!==null){var i=De.memoizedState;if(o=i.destroy,r!==null&&Ou(r,i.deps)){s.memoizedState=$s(t,n,o,r);return}}Ne.flags|=e,s.memoizedState=$s(1|t,n,o,r)}function Sd(e,t){return Ho(8390656,8,e,t)}function Lu(e,t){return Li(2048,8,e,t)}function Gp(e,t){return Li(4,2,e,t)}function Zp(e,t){return Li(4,4,e,t)}function eh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function th(e,t,n){return n=n!=null?n.concat([e]):null,Li(4,4,eh.bind(null,t,e),n)}function Au(){}function nh(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ou(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rh(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ou(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sh(e,t,n){return sr&21?(Vt(n,t)||(n=up(),Ne.lanes|=n,or|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n)}function Zy(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=Ea.transition;Ea.transition={};try{e(!1),t()}finally{ge=n,Ea.transition=r}}function oh(){return Et().memoizedState}function ev(e,t,n){var r=Dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ih(e))ah(t,n);else if(n=Up(e,t,n,r),n!==null){var s=nt();$t(n,e,r,s),lh(n,t,r)}}function tv(e,t,n){var r=Dn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ih(e))ah(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Vt(a,i)){var l=t.interleaved;l===null?(s.next=s,ju(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Up(e,t,s,r),n!==null&&(s=nt(),$t(n,e,r,s),lh(n,t,r))}}function ih(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function ah(e,t){ks=yi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,du(e,n)}}var vi={readContext:jt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},nv={readContext:jt,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:Sd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ho(4194308,4,eh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ho(4,2,e,t)},useMemo:function(e,t){var n=Yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ev.bind(null,Ne,e),[r.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:xd,useDebugValue:Au,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=xd(!1),t=e[0];return e=Zy.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ne,s=Yt();if(je){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Ue===null)throw Error(z(349));sr&30||Wp(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Sd(Qp.bind(null,r,o,e),[e]),r.flags|=2048,$s(9,Kp.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Yt(),t=Ue.identifierPrefix;if(je){var n=dn,r=cn;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ms++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rv={readContext:jt,useCallback:nh,useContext:jt,useEffect:Lu,useImperativeHandle:th,useInsertionEffect:Gp,useLayoutEffect:Zp,useMemo:rh,useReducer:Na,useRef:Xp,useState:function(){return Na(Us)},useDebugValue:Au,useDeferredValue:function(e){var t=Et();return sh(t,De.memoizedState,e)},useTransition:function(){var e=Na(Us)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Hp,useSyncExternalStore:qp,useId:oh,unstable_isNewReconciler:!1},sv={readContext:jt,useCallback:nh,useContext:jt,useEffect:Lu,useImperativeHandle:th,useInsertionEffect:Gp,useLayoutEffect:Zp,useMemo:rh,useReducer:ba,useRef:Xp,useState:function(){return ba(Us)},useDebugValue:Au,useDeferredValue:function(e){var t=Et();return De===null?t.memoizedState=e:sh(t,De.memoizedState,e)},useTransition:function(){var e=ba(Us)[0],t=Et().memoizedState;return[e,t]},useMutableSource:Hp,useSyncExternalStore:qp,useId:oh,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _l(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ai={isMounted:function(e){return(e=e._reactInternals)?lr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),s=Dn(e),o=fn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Fn(e,o,s),t!==null&&($t(t,e,s,r),$o(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),s=Dn(e),o=fn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Fn(e,o,s),t!==null&&($t(t,e,s,r),$o(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=Dn(e),s=fn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Fn(e,s,r),t!==null&&($t(t,e,r,n),$o(t,e,r))}};function _d(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!As(n,r)||!As(s,o):!0}function uh(e,t,n){var r=!1,s=Mn,o=t.contextType;return typeof o=="object"&&o!==null?o=jt(o):(s=ut(t)?nr:et.current,r=t.contextTypes,o=(r=r!=null)?Dr(e,s):Mn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ai,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function kd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ai.enqueueReplaceState(t,t.state,null)}function kl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Eu(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=jt(o):(o=ut(t)?nr:et.current,s.context=Dr(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(_l(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ai.enqueueReplaceState(s,s.state,null),mi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ur(e,t){try{var n="",r=t;do n+=Pg(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Ta(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ov=typeof WeakMap=="function"?WeakMap:Map;function ch(e,t,n){n=fn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xi||(xi=!0,Al=r),Cl(e,t)},n}function dh(e,t,n){n=fn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Cl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Cl(e,t),typeof r!="function"&&(In===null?In=new Set([this]):In.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Cd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ov;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=wv.bind(null,e,t,n),t.then(e,e))}function jd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ed(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fn(-1,1),t.tag=2,Fn(n,t,1))),n.lanes|=1),e)}var iv=vn.ReactCurrentOwner,at=!1;function tt(e,t,n,r){t.child=e===null?Mp(t,null,n,r):Br(t,e.child,n,r)}function Nd(e,t,n,r,s){n=n.render;var o=t.ref;return Lr(t,s),r=Ru(e,t,n,r,o,s),n=Pu(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gn(e,t,s)):(je&&n&&wu(t),t.flags|=1,tt(e,t,r,s),t.child)}function bd(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!$u(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,fh(e,t,o,r,s)):(e=Qo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:As,n(i,r)&&e.ref===t.ref)return gn(e,t,s)}return t.flags|=1,e=zn(o,r),e.ref=t.ref,e.return=t,t.child=e}function fh(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(As(o,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,gn(e,t,s)}return jl(e,t,n,r,s)}function ph(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(br,ft),ft|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(br,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,xe(br,ft),ft|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,xe(br,ft),ft|=r;return tt(e,t,s,n),t.child}function hh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jl(e,t,n,r,s){var o=ut(n)?nr:et.current;return o=Dr(t,o),Lr(t,s),n=Ru(e,t,n,r,o,s),r=Pu(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gn(e,t,s)):(je&&r&&wu(t),t.flags|=1,tt(e,t,n,s),t.child)}function Td(e,t,n,r,s){if(ut(n)){var o=!0;ci(t)}else o=!1;if(Lr(t,s),t.stateNode===null)qo(e,t),uh(t,n,r),kl(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=jt(c):(c=ut(n)?nr:et.current,c=Dr(t,c));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&kd(t,i,r,c),jn=!1;var y=t.memoizedState;i.state=y,mi(t,r,i,s),l=t.memoizedState,a!==r||y!==l||lt.current||jn?(typeof p=="function"&&(_l(t,n,p,r),l=t.memoizedState),(a=jn||_d(t,n,a,r,y,l,c))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,$p(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ft(t.type,a),i.props=c,g=t.pendingProps,y=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=jt(l):(l=ut(n)?nr:et.current,l=Dr(t,l));var m=n.getDerivedStateFromProps;(p=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==g||y!==l)&&kd(t,i,r,l),jn=!1,y=t.memoizedState,i.state=y,mi(t,r,i,s);var S=t.memoizedState;a!==g||y!==S||lt.current||jn?(typeof m=="function"&&(_l(t,n,m,r),S=t.memoizedState),(c=jn||_d(t,n,c,r,y,S,l)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,S,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,S,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),i.props=r,i.state=S,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return El(e,t,n,r,o,s)}function El(e,t,n,r,s,o){hh(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&hd(t,n,!1),gn(e,t,o);r=t.stateNode,iv.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Br(t,e.child,null,o),t.child=Br(t,null,a,o)):tt(e,t,a,o),t.memoizedState=r.state,s&&hd(t,n,!0),t.child}function mh(e){var t=e.stateNode;t.pendingContext?pd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pd(e,t.context,!1),Nu(e,t.containerInfo)}function Od(e,t,n,r,s){return zr(),Su(s),t.flags|=256,tt(e,t,n,r),t.child}var Nl={dehydrated:null,treeContext:null,retryLane:0};function bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function gh(e,t,n){var r=t.pendingProps,s=Ee.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xe(Ee,s&1),e===null)return xl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Di(i,r,0,null),e=tr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=bl(n),t.memoizedState=Nl,e):Fu(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return av(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=zn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=zn(a,o):(o=tr(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?bl(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Nl,r}return o=e.child,e=o.sibling,r=zn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fu(e,t){return t=Di({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function No(e,t,n,r){return r!==null&&Su(r),Br(t,e.child,null,n),e=Fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function av(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Ta(Error(z(422))),No(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Di({mode:"visible",children:r.children},s,0,null),o=tr(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Br(t,e.child,null,i),t.child.memoizedState=bl(i),t.memoizedState=Nl,o);if(!(t.mode&1))return No(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(z(419)),r=Ta(o,r,void 0),No(e,t,i,r)}if(a=(i&e.childLanes)!==0,at||a){if(r=Ue,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,mn(e,s),$t(r,e,s,-1))}return Uu(),r=Ta(Error(z(421))),No(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=xv.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,pt=An(s.nextSibling),ht=t,je=!0,zt=null,e!==null&&(wt[xt++]=cn,wt[xt++]=dn,wt[xt++]=rr,cn=e.id,dn=e.overflow,rr=t),t=Fu(t,r.children),t.flags|=4096,t)}function Rd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Sl(e.return,t,n)}function Oa(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function yh(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(tt(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rd(e,n,t);else if(e.tag===19)Rd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&gi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Oa(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&gi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Oa(t,!0,n,null,o);break;case"together":Oa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),or|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lv(e,t,n){switch(t.tag){case 3:mh(t),zr();break;case 5:Vp(t);break;case 1:ut(t.type)&&ci(t);break;case 4:Nu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;xe(pi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?gh(e,t,n):(xe(Ee,Ee.current&1),e=gn(e,t,n),e!==null?e.sibling:null);xe(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,ph(e,t,n)}return gn(e,t,n)}var vh,Tl,wh,xh;vh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tl=function(){};wh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Zn(Gt.current);var o=null;switch(n){case"input":s=Xa(e,s),r=Xa(e,r),o=[];break;case"select":s=be({},s,{value:void 0}),r=be({},r,{value:void 0}),o=[];break;case"textarea":s=el(e,s),r=el(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=li)}nl(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ns.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ns.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Se("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};xh=function(e,t,n,r){n!==r&&(t.flags|=4)};function ls(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uv(e,t,n){var r=t.pendingProps;switch(xu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return ut(t.type)&&ui(),Ge(t),null;case 3:return r=t.stateNode,Mr(),_e(lt),_e(et),Tu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(jo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(Dl(zt),zt=null))),Tl(e,t),Ge(t),null;case 5:bu(t);var s=Zn(Bs.current);if(n=t.type,e!==null&&t.stateNode!=null)wh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return Ge(t),null}if(e=Zn(Gt.current),jo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Jt]=t,r[Ds]=o,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<gs.length;s++)Se(gs[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Mc(r,o),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Se("invalid",r);break;case"textarea":$c(r,o),Se("invalid",r)}nl(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Co(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Co(r.textContent,a,e),s=["children",""+a]):Ns.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Se("scroll",r)}switch(n){case"input":go(r),Uc(r,o,!0);break;case"textarea":go(r),Vc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=li)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Jt]=t,e[Ds]=r,vh(e,t,!1,!1),t.stateNode=e;e:{switch(i=rl(n,r),n){case"dialog":Se("cancel",e),Se("close",e),s=r;break;case"iframe":case"object":case"embed":Se("load",e),s=r;break;case"video":case"audio":for(s=0;s<gs.length;s++)Se(gs[s],e);s=r;break;case"source":Se("error",e),s=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),s=r;break;case"details":Se("toggle",e),s=r;break;case"input":Mc(e,r),s=Xa(e,r),Se("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=be({},r,{value:void 0}),Se("invalid",e);break;case"textarea":$c(e,r),s=el(e,r),Se("invalid",e);break;default:s=r}nl(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Xf(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yf(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bs(e,l):typeof l=="number"&&bs(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ns.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Se("scroll",e):l!=null&&ou(e,o,l,i))}switch(n){case"input":go(e),Uc(e,r,!1);break;case"textarea":go(e),Vc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Tr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Tr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)xh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=Zn(Bs.current),Zn(Gt.current),jo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jt]=t,(o=r.nodeValue!==n)&&(e=ht,e!==null))switch(e.tag){case 3:Co(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Co(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=t,t.stateNode=r}return Ge(t),null;case 13:if(_e(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&pt!==null&&t.mode&1&&!(t.flags&128))zp(),zr(),t.flags|=98560,o=!1;else if(o=jo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[Jt]=t}else zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),o=!1}else zt!==null&&(Dl(zt),zt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?ze===0&&(ze=3):Uu())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return Mr(),Tl(e,t),e===null&&Fs(t.stateNode.containerInfo),Ge(t),null;case 10:return Cu(t.type._context),Ge(t),null;case 17:return ut(t.type)&&ui(),Ge(t),null;case 19:if(_e(Ee),o=t.memoizedState,o===null)return Ge(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)ls(o,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=gi(e),i!==null){for(t.flags|=128,ls(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Ee,Ee.current&1|2),t.child}e=e.sibling}o.tail!==null&&Oe()>$r&&(t.flags|=128,r=!0,ls(o,!1),t.lanes=4194304)}else{if(!r)if(e=gi(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ls(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!je)return Ge(t),null}else 2*Oe()-o.renderingStartTime>$r&&n!==1073741824&&(t.flags|=128,r=!0,ls(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Oe(),t.sibling=null,n=Ee.current,xe(Ee,r?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return Mu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function cv(e,t){switch(xu(t),t.tag){case 1:return ut(t.type)&&ui(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mr(),_e(lt),_e(et),Tu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bu(t),null;case 13:if(_e(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Ee),null;case 4:return Mr(),null;case 10:return Cu(t.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var bo=!1,Ze=!1,dv=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function Ol(e,t,n){try{n()}catch(r){Te(e,t,r)}}var Pd=!1;function fv(e,t){if(pl=oi,e=jp(),vu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,p=0,g=e,y=null;t:for(;;){for(var m;g!==n||s!==0&&g.nodeType!==3||(a=i+s),g!==o||r!==0&&g.nodeType!==3||(l=i+r),g.nodeType===3&&(i+=g.nodeValue.length),(m=g.firstChild)!==null;)y=g,g=m;for(;;){if(g===e)break t;if(y===n&&++c===s&&(a=i),y===o&&++p===r&&(l=i),(m=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hl={focusedElem:e,selectionRange:n},oi=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var k=S.memoizedProps,P=S.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ft(t.type,k),P);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(j){Te(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return S=Pd,Pd=!1,S}function Cs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Ol(t,n,o)}s=s.next}while(s!==r)}}function Fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Rl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sh(e){var t=e.alternate;t!==null&&(e.alternate=null,Sh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[Ds],delete t[yl],delete t[Qy],delete t[Yy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _h(e){return e.tag===5||e.tag===3||e.tag===4}function Ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=li));else if(r!==4&&(e=e.child,e!==null))for(Pl(e,t,n),e=e.sibling;e!==null;)Pl(e,t,n),e=e.sibling}function Ll(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ll(e,t,n),e=e.sibling;e!==null;)Ll(e,t,n),e=e.sibling}var Ve=null,It=!1;function kn(e,t,n){for(n=n.child;n!==null;)kh(e,t,n),n=n.sibling}function kh(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Ni,n)}catch{}switch(n.tag){case 5:Ze||Nr(n,t);case 6:var r=Ve,s=It;Ve=null,kn(e,t,n),Ve=r,It=s,Ve!==null&&(It?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(It?(e=Ve,n=n.stateNode,e.nodeType===8?ka(e.parentNode,n):e.nodeType===1&&ka(e,n),Ps(e)):ka(Ve,n.stateNode));break;case 4:r=Ve,s=It,Ve=n.stateNode.containerInfo,It=!0,kn(e,t,n),Ve=r,It=s;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Ol(n,t,i),s=s.next}while(s!==r)}kn(e,t,n);break;case 1:if(!Ze&&(Nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Te(n,t,a)}kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,kn(e,t,n),Ze=r):kn(e,t,n);break;default:kn(e,t,n)}}function Ad(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dv),t.forEach(function(r){var s=Sv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,It=!1;break e;case 3:Ve=a.stateNode.containerInfo,It=!0;break e;case 4:Ve=a.stateNode.containerInfo,It=!0;break e}a=a.return}if(Ve===null)throw Error(z(160));kh(o,i,s),Ve=null,It=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Te(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ch(t,e),t=t.sibling}function Ch(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Kt(e),r&4){try{Cs(3,e,e.return),Fi(3,e)}catch(k){Te(e,e.return,k)}try{Cs(5,e,e.return)}catch(k){Te(e,e.return,k)}}break;case 1:Ot(t,e),Kt(e),r&512&&n!==null&&Nr(n,n.return);break;case 5:if(Ot(t,e),Kt(e),r&512&&n!==null&&Nr(n,n.return),e.flags&32){var s=e.stateNode;try{bs(s,"")}catch(k){Te(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Wf(s,o),rl(a,i);var c=rl(a,o);for(i=0;i<l.length;i+=2){var p=l[i],g=l[i+1];p==="style"?Xf(s,g):p==="dangerouslySetInnerHTML"?Yf(s,g):p==="children"?bs(s,g):ou(s,p,g,c)}switch(a){case"input":Ga(s,o);break;case"textarea":Kf(s,o);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Tr(s,!!o.multiple,m,!1):y!==!!o.multiple&&(o.defaultValue!=null?Tr(s,!!o.multiple,o.defaultValue,!0):Tr(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ds]=o}catch(k){Te(e,e.return,k)}}break;case 6:if(Ot(t,e),Kt(e),r&4){if(e.stateNode===null)throw Error(z(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(k){Te(e,e.return,k)}}break;case 3:if(Ot(t,e),Kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ps(t.containerInfo)}catch(k){Te(e,e.return,k)}break;case 4:Ot(t,e),Kt(e);break;case 13:Ot(t,e),Kt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(zu=Oe())),r&4&&Ad(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ze=(c=Ze)||p,Ot(t,e),Ze=c):Ot(t,e),Kt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(Q=e,p=e.child;p!==null;){for(g=Q=p;Q!==null;){switch(y=Q,m=y.child,y.tag){case 0:case 11:case 14:case 15:Cs(4,y,y.return);break;case 1:Nr(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(k){Te(r,n,k)}}break;case 5:Nr(y,y.return);break;case 22:if(y.memoizedState!==null){Id(g);continue}}m!==null?(m.return=y,Q=m):Id(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=g.stateNode,l=g.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Jf("display",i))}catch(k){Te(e,e.return,k)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(k){Te(e,e.return,k)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ot(t,e),Kt(e),r&4&&Ad(e);break;case 21:break;default:Ot(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_h(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bs(s,""),r.flags&=-33);var o=Ld(e);Ll(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Ld(e);Pl(e,a,i);break;default:throw Error(z(161))}}catch(l){Te(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pv(e,t,n){Q=e,jh(e)}function jh(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var s=Q,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||bo;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ze;a=bo;var c=Ze;if(bo=i,(Ze=l)&&!c)for(Q=s;Q!==null;)i=Q,l=i.child,i.tag===22&&i.memoizedState!==null?Dd(s):l!==null?(l.return=i,Q=l):Dd(s);for(;o!==null;)Q=o,jh(o),o=o.sibling;Q=s,bo=a,Ze=c}Fd(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Q=o):Fd(e)}}function Fd(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||Fi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ft(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&wd(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wd(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Ps(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ze||t.flags&512&&Rl(t)}catch(y){Te(t,t.return,y)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function Id(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function Dd(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fi(4,t)}catch(l){Te(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Te(t,s,l)}}var o=t.return;try{Rl(t)}catch(l){Te(t,o,l)}break;case 5:var i=t.return;try{Rl(t)}catch(l){Te(t,i,l)}}}catch(l){Te(t,t.return,l)}if(t===e){Q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Q=a;break}Q=t.return}}var hv=Math.ceil,wi=vn.ReactCurrentDispatcher,Iu=vn.ReactCurrentOwner,Ct=vn.ReactCurrentBatchConfig,he=0,Ue=null,Le=null,qe=0,ft=0,br=Vn(0),ze=0,Vs=null,or=0,Ii=0,Du=0,js=null,it=null,zu=0,$r=1/0,an=null,xi=!1,Al=null,In=null,To=!1,Tn=null,Si=0,Es=0,Fl=null,Wo=-1,Ko=0;function nt(){return he&6?Oe():Wo!==-1?Wo:Wo=Oe()}function Dn(e){return e.mode&1?he&2&&qe!==0?qe&-qe:Xy.transition!==null?(Ko===0&&(Ko=up()),Ko):(e=ge,e!==0||(e=window.event,e=e===void 0?16:gp(e.type)),e):1}function $t(e,t,n,r){if(50<Es)throw Es=0,Fl=null,Error(z(185));Ws(e,n,r),(!(he&2)||e!==Ue)&&(e===Ue&&(!(he&2)&&(Ii|=n),ze===4&&Nn(e,qe)),ct(e,r),n===1&&he===0&&!(t.mode&1)&&($r=Oe()+500,Pi&&Hn()))}function ct(e,t){var n=e.callbackNode;Xg(e,t);var r=si(e,e===Ue?qe:0);if(r===0)n!==null&&Wc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wc(n),t===1)e.tag===0?Jy(zd.bind(null,e)):Fp(zd.bind(null,e)),Wy(function(){!(he&6)&&Hn()}),n=null;else{switch(cp(r)){case 1:n=cu;break;case 4:n=ap;break;case 16:n=ri;break;case 536870912:n=lp;break;default:n=ri}n=Lh(n,Eh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Eh(e,t){if(Wo=-1,Ko=0,he&6)throw Error(z(327));var n=e.callbackNode;if(Ar()&&e.callbackNode!==n)return null;var r=si(e,e===Ue?qe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_i(e,r);else{t=r;var s=he;he|=2;var o=bh();(Ue!==e||qe!==t)&&(an=null,$r=Oe()+500,er(e,t));do try{yv();break}catch(a){Nh(e,a)}while(!0);ku(),wi.current=o,he=s,Le!==null?t=0:(Ue=null,qe=0,t=ze)}if(t!==0){if(t===2&&(s=ll(e),s!==0&&(r=s,t=Il(e,s))),t===1)throw n=Vs,er(e,0),Nn(e,r),ct(e,Oe()),n;if(t===6)Nn(e,r);else{if(s=e.current.alternate,!(r&30)&&!mv(s)&&(t=_i(e,r),t===2&&(o=ll(e),o!==0&&(r=o,t=Il(e,o))),t===1))throw n=Vs,er(e,0),Nn(e,r),ct(e,Oe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:Jn(e,it,an);break;case 3:if(Nn(e,r),(r&130023424)===r&&(t=zu+500-Oe(),10<t)){if(si(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=gl(Jn.bind(null,e,it,an),t);break}Jn(e,it,an);break;case 4:if(Nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Ut(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hv(r/1960))-r,10<r){e.timeoutHandle=gl(Jn.bind(null,e,it,an),r);break}Jn(e,it,an);break;case 5:Jn(e,it,an);break;default:throw Error(z(329))}}}return ct(e,Oe()),e.callbackNode===n?Eh.bind(null,e):null}function Il(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(er(e,t).flags|=256),e=_i(e,t),e!==2&&(t=it,it=n,t!==null&&Dl(t)),e}function Dl(e){it===null?it=e:it.push.apply(it,e)}function mv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Vt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nn(e,t){for(t&=~Du,t&=~Ii,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function zd(e){if(he&6)throw Error(z(327));Ar();var t=si(e,0);if(!(t&1))return ct(e,Oe()),null;var n=_i(e,t);if(e.tag!==0&&n===2){var r=ll(e);r!==0&&(t=r,n=Il(e,r))}if(n===1)throw n=Vs,er(e,0),Nn(e,t),ct(e,Oe()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jn(e,it,an),ct(e,Oe()),null}function Bu(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&($r=Oe()+500,Pi&&Hn())}}function ir(e){Tn!==null&&Tn.tag===0&&!(he&6)&&Ar();var t=he;he|=1;var n=Ct.transition,r=ge;try{if(Ct.transition=null,ge=1,e)return e()}finally{ge=r,Ct.transition=n,he=t,!(he&6)&&Hn()}}function Mu(){ft=br.current,_e(br)}function er(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,qy(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(xu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ui();break;case 3:Mr(),_e(lt),_e(et),Tu();break;case 5:bu(r);break;case 4:Mr();break;case 13:_e(Ee);break;case 19:_e(Ee);break;case 10:Cu(r.type._context);break;case 22:case 23:Mu()}n=n.return}if(Ue=e,Le=e=zn(e.current,null),qe=ft=t,ze=0,Vs=null,Du=Ii=or=0,it=js=null,Gn!==null){for(t=0;t<Gn.length;t++)if(n=Gn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Gn=null}return e}function Nh(e,t){do{var n=Le;try{if(ku(),Vo.current=vi,yi){for(var r=Ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}yi=!1}if(sr=0,Me=De=Ne=null,ks=!1,Ms=0,Iu.current=null,n===null||n.return===null){ze=1,Vs=t,Le=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=jd(i);if(m!==null){m.flags&=-257,Ed(m,i,a,o,t),m.mode&1&&Cd(o,c,t),t=m,l=c;var S=t.updateQueue;if(S===null){var k=new Set;k.add(l),t.updateQueue=k}else S.add(l);break e}else{if(!(t&1)){Cd(o,c,t),Uu();break e}l=Error(z(426))}}else if(je&&a.mode&1){var P=jd(i);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Ed(P,i,a,o,t),Su(Ur(l,a));break e}}o=l=Ur(l,a),ze!==4&&(ze=2),js===null?js=[o]:js.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=ch(o,l,t);vd(o,w);break e;case 1:a=l;var x=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(In===null||!In.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=dh(o,a,t);vd(o,j);break e}}o=o.return}while(o!==null)}Oh(n)}catch(O){t=O,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function bh(){var e=wi.current;return wi.current=vi,e===null?vi:e}function Uu(){(ze===0||ze===3||ze===2)&&(ze=4),Ue===null||!(or&268435455)&&!(Ii&268435455)||Nn(Ue,qe)}function _i(e,t){var n=he;he|=2;var r=bh();(Ue!==e||qe!==t)&&(an=null,er(e,t));do try{gv();break}catch(s){Nh(e,s)}while(!0);if(ku(),he=n,wi.current=r,Le!==null)throw Error(z(261));return Ue=null,qe=0,ze}function gv(){for(;Le!==null;)Th(Le)}function yv(){for(;Le!==null&&!$g();)Th(Le)}function Th(e){var t=Ph(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?Oh(e):Le=t,Iu.current=null}function Oh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cv(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Le=null;return}}else if(n=uv(n,t,ft),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);ze===0&&(ze=5)}function Jn(e,t,n){var r=ge,s=Ct.transition;try{Ct.transition=null,ge=1,vv(e,t,n,r)}finally{Ct.transition=s,ge=r}return null}function vv(e,t,n,r){do Ar();while(Tn!==null);if(he&6)throw Error(z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Gg(e,o),e===Ue&&(Le=Ue=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||To||(To=!0,Lh(ri,function(){return Ar(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ct.transition,Ct.transition=null;var i=ge;ge=1;var a=he;he|=4,Iu.current=null,fv(e,n),Ch(n,e),zy(hl),oi=!!pl,hl=pl=null,e.current=n,pv(n),Vg(),he=a,ge=i,Ct.transition=o}else e.current=n;if(To&&(To=!1,Tn=e,Si=s),o=e.pendingLanes,o===0&&(In=null),Wg(n.stateNode),ct(e,Oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(xi)throw xi=!1,e=Al,Al=null,e;return Si&1&&e.tag!==0&&Ar(),o=e.pendingLanes,o&1?e===Fl?Es++:(Es=0,Fl=e):Es=0,Hn(),null}function Ar(){if(Tn!==null){var e=cp(Si),t=Ct.transition,n=ge;try{if(Ct.transition=null,ge=16>e?16:e,Tn===null)var r=!1;else{if(e=Tn,Tn=null,Si=0,he&6)throw Error(z(331));var s=he;for(he|=4,Q=e.current;Q!==null;){var o=Q,i=o.child;if(Q.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var p=Q;switch(p.tag){case 0:case 11:case 15:Cs(8,p,o)}var g=p.child;if(g!==null)g.return=p,Q=g;else for(;Q!==null;){p=Q;var y=p.sibling,m=p.return;if(Sh(p),p===c){Q=null;break}if(y!==null){y.return=m,Q=y;break}Q=m}}}var S=o.alternate;if(S!==null){var k=S.child;if(k!==null){S.child=null;do{var P=k.sibling;k.sibling=null,k=P}while(k!==null)}}Q=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Q=i;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Cs(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Q=w;break e}Q=o.return}}var x=e.current;for(Q=x;Q!==null;){i=Q;var _=i.child;if(i.subtreeFlags&2064&&_!==null)_.return=i,Q=_;else e:for(i=x;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fi(9,a)}}catch(O){Te(a,a.return,O)}if(a===i){Q=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,Q=j;break e}Q=a.return}}if(he=s,Hn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Ni,e)}catch{}r=!0}return r}finally{ge=n,Ct.transition=t}}return!1}function Bd(e,t,n){t=Ur(n,t),t=ch(e,t,1),e=Fn(e,t,1),t=nt(),e!==null&&(Ws(e,1,t),ct(e,t))}function Te(e,t,n){if(e.tag===3)Bd(e,e,n);else for(;t!==null;){if(t.tag===3){Bd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(In===null||!In.has(r))){e=Ur(n,e),e=dh(t,e,1),t=Fn(t,e,1),e=nt(),t!==null&&(Ws(t,1,e),ct(t,e));break}}t=t.return}}function wv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,Ue===e&&(qe&n)===n&&(ze===4||ze===3&&(qe&130023424)===qe&&500>Oe()-zu?er(e,0):Du|=n),ct(e,t)}function Rh(e,t){t===0&&(e.mode&1?(t=wo,wo<<=1,!(wo&130023424)&&(wo=4194304)):t=1);var n=nt();e=mn(e,t),e!==null&&(Ws(e,t,n),ct(e,n))}function xv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rh(e,n)}function Sv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),Rh(e,n)}var Ph;Ph=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)at=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return at=!1,lv(e,t,n);at=!!(e.flags&131072)}else at=!1,je&&t.flags&1048576&&Ip(t,fi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var s=Dr(t,et.current);Lr(t,n),s=Ru(null,t,r,e,s,n);var o=Pu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(o=!0,ci(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Eu(t),s.updater=Ai,t.stateNode=s,s._reactInternals=t,kl(t,r,e,n),t=El(null,t,r,!0,o,n)):(t.tag=0,je&&o&&wu(t),tt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=kv(r),e=Ft(r,e),s){case 0:t=jl(null,t,r,e,n);break e;case 1:t=Td(null,t,r,e,n);break e;case 11:t=Nd(null,t,r,e,n);break e;case 14:t=bd(null,t,r,Ft(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),jl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),Td(e,t,r,s,n);case 3:e:{if(mh(t),e===null)throw Error(z(387));r=t.pendingProps,o=t.memoizedState,s=o.element,$p(e,t),mi(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ur(Error(z(423)),t),t=Od(e,t,r,n,s);break e}else if(r!==s){s=Ur(Error(z(424)),t),t=Od(e,t,r,n,s);break e}else for(pt=An(t.stateNode.containerInfo.firstChild),ht=t,je=!0,zt=null,n=Mp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zr(),r===s){t=gn(e,t,n);break e}tt(e,t,r,n)}t=t.child}return t;case 5:return Vp(t),e===null&&xl(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,ml(r,s)?i=null:o!==null&&ml(r,o)&&(t.flags|=32),hh(e,t),tt(e,t,i,n),t.child;case 6:return e===null&&xl(t),null;case 13:return gh(e,t,n);case 4:return Nu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Br(t,null,r,n):tt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),Nd(e,t,r,s,n);case 7:return tt(e,t,t.pendingProps,n),t.child;case 8:return tt(e,t,t.pendingProps.children,n),t.child;case 12:return tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,xe(pi,r._currentValue),r._currentValue=i,o!==null)if(Vt(o.value,i)){if(o.children===s.children&&!lt.current){t=gn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=fn(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?l.next=l:(l.next=p.next,p.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Sl(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(z(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Sl(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}tt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Lr(t,n),s=jt(s),r=r(s),t.flags|=1,tt(e,t,r,n),t.child;case 14:return r=t.type,s=Ft(r,t.pendingProps),s=Ft(r.type,s),bd(e,t,r,s,n);case 15:return fh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),qo(e,t),t.tag=1,ut(r)?(e=!0,ci(t)):e=!1,Lr(t,n),uh(t,r,s),kl(t,r,s,n),El(null,t,r,!0,e,n);case 19:return yh(e,t,n);case 22:return ph(e,t,n)}throw Error(z(156,t.tag))};function Lh(e,t){return ip(e,t)}function _v(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new _v(e,t,n,r)}function $u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kv(e){if(typeof e=="function")return $u(e)?1:0;if(e!=null){if(e=e.$$typeof,e===au)return 11;if(e===lu)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qo(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")$u(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vr:return tr(n.children,s,o,t);case iu:i=8,s|=8;break;case Ka:return e=kt(12,n,t,s|2),e.elementType=Ka,e.lanes=o,e;case Qa:return e=kt(13,n,t,s),e.elementType=Qa,e.lanes=o,e;case Ya:return e=kt(19,n,t,s),e.elementType=Ya,e.lanes=o,e;case Vf:return Di(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uf:i=10;break e;case $f:i=9;break e;case au:i=11;break e;case lu:i=14;break e;case Cn:i=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=kt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function tr(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function Di(e,t,n,r){return e=kt(22,e,r,t),e.elementType=Vf,e.lanes=n,e.stateNode={isHidden:!1},e}function Ra(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function Pa(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fa(0),this.expirationTimes=fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,s,o,i,a,l){return e=new Cv(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=kt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eu(o),e}function jv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ah(e){if(!e)return Mn;e=e._reactInternals;e:{if(lr(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(ut(n))return Ap(e,n,t)}return t}function Fh(e,t,n,r,s,o,i,a,l){return e=Vu(n,r,!0,e,s,o,i,a,l),e.context=Ah(null),n=e.current,r=nt(),s=Dn(n),o=fn(r,s),o.callback=t??null,Fn(n,o,s),e.current.lanes=s,Ws(e,s,r),ct(e,r),e}function zi(e,t,n,r){var s=t.current,o=nt(),i=Dn(s);return n=Ah(n),t.context===null?t.context=n:t.pendingContext=n,t=fn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fn(s,t,i),e!==null&&($t(e,s,i,o),$o(e,s,i)),i}function ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hu(e,t){Md(e,t),(e=e.alternate)&&Md(e,t)}function Ev(){return null}var Ih=typeof reportError=="function"?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}Bi.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));zi(e,t,null,null)};Bi.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ir(function(){zi(null,e,null,null)}),t[hn]=null}};function Bi(e){this._internalRoot=e}Bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=pp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<En.length&&t!==0&&t<En[n].priority;n++);En.splice(n,0,e),n===0&&mp(e)}};function Wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ud(){}function Nv(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=ki(i);o.call(c)}}var i=Fh(t,r,e,0,null,!1,!1,"",Ud);return e._reactRootContainer=i,e[hn]=i.current,Fs(e.nodeType===8?e.parentNode:e),ir(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ki(l);a.call(c)}}var l=Vu(e,0,!1,null,null,!1,!1,"",Ud);return e._reactRootContainer=l,e[hn]=l.current,Fs(e.nodeType===8?e.parentNode:e),ir(function(){zi(t,l,n,r)}),l}function Ui(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=ki(i);a.call(l)}}zi(t,i,e,s)}else i=Nv(n,t,e,s,r);return ki(i)}dp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ms(t.pendingLanes);n!==0&&(du(t,n|1),ct(t,Oe()),!(he&6)&&($r=Oe()+500,Hn()))}break;case 13:ir(function(){var r=mn(e,1);if(r!==null){var s=nt();$t(r,e,1,s)}}),Hu(e,1)}};fu=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=nt();$t(t,e,134217728,n)}Hu(e,134217728)}};fp=function(e){if(e.tag===13){var t=Dn(e),n=mn(e,t);if(n!==null){var r=nt();$t(n,e,t,r)}Hu(e,t)}};pp=function(){return ge};hp=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};ol=function(e,t,n){switch(t){case"input":if(Ga(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ri(r);if(!s)throw Error(z(90));qf(r),Ga(r,s)}}}break;case"textarea":Kf(e,n);break;case"select":t=n.value,t!=null&&Tr(e,!!n.multiple,t,!1)}};ep=Bu;tp=ir;var bv={usingClientEntryPoint:!1,Events:[Qs,_r,Ri,Gf,Zf,Bu]},us={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tv={bundleType:us.bundleType,version:us.version,rendererPackageName:us.rendererPackageName,rendererConfig:us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sp(e),e===null?null:e.stateNode},findFiberByHostInstance:us.findFiberByHostInstance||Ev,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{Ni=Oo.inject(Tv),Xt=Oo}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bv;gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wu(t))throw Error(z(200));return jv(e,t,null,n)};gt.createRoot=function(e,t){if(!Wu(e))throw Error(z(299));var n=!1,r="",s=Ih;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vu(e,1,!1,null,null,n,!1,r,s),e[hn]=t.current,Fs(e.nodeType===8?e.parentNode:e),new qu(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=sp(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return ir(e)};gt.hydrate=function(e,t,n){if(!Mi(t))throw Error(z(200));return Ui(null,e,t,!0,n)};gt.hydrateRoot=function(e,t,n){if(!Wu(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Ih;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Fh(t,null,e,1,n??null,s,!1,o,i),e[hn]=t.current,Fs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Bi(t)};gt.render=function(e,t,n){if(!Mi(t))throw Error(z(200));return Ui(null,e,t,!1,n)};gt.unmountComponentAtNode=function(e){if(!Mi(e))throw Error(z(40));return e._reactRootContainer?(ir(function(){Ui(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};gt.unstable_batchedUpdates=Bu;gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mi(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Ui(e,t,n,!1,r)};gt.version="18.3.1-next-f1338f8080-20240426";function Dh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dh)}catch(e){console.error(e)}}Dh(),Df.exports=gt;var Ov=Df.exports,$d=Ov;Zo.createRoot=$d.createRoot,Zo.hydrateRoot=$d.hydrateRoot;var Rv=Object.defineProperty,Pv=(e,t,n)=>t in e?Rv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qn=(e,t,n)=>Pv(e,typeof t!="symbol"?t+"":t,n),Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mr={},cs={},Rt={},Vd;function zh(){if(Vd)return Rt;Vd=1;var e=Rt&&Rt.__assign||function(){return e=Object.assign||function(s){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s},e.apply(this,arguments)},t=Rt&&Rt.__awaiter||function(s,o,i,a){function l(c){return c instanceof i?c:new i(function(p){p(c)})}return new(i||(i=Promise))(function(c,p){function g(S){try{m(a.next(S))}catch(k){p(k)}}function y(S){try{m(a.throw(S))}catch(k){p(k)}}function m(S){S.done?c(S.value):l(S.value).then(g,y)}m((a=a.apply(s,o||[])).next())})},n=Rt&&Rt.__generator||function(s,o){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(m){return function(S){return y([m,S])}}function y(m){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,m[0]&&(i=0)),i;)try{if(a=1,l&&(c=m[0]&2?l.return:m[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,m[1])).done)return c;switch(l=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,l=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){i.label=m[1];break}if(m[0]===6&&i.label<c[1]){i.label=c[1],c=m;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(m);break}c[2]&&i.ops.pop(),i.trys.pop();continue}m=o.call(s,i)}catch(S){m=[6,S],l=0}finally{a=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.FrappeCall=void 0;var r=function(){function s(o,i,a,l,c){this.appURL=o,this.axios=i,this.useToken=a??!1,this.token=l,this.tokenType=c}return s.prototype.get=function(o,i){return t(this,void 0,void 0,function(){var a;return n(this,function(l){return a=new URLSearchParams,i&&Object.entries(i).forEach(function(c){var p=c[0],g=c[1];if(g!=null){var y=typeof g=="object"?JSON.stringify(g):g;a.set(p,y)}}),[2,this.axios.get("/api/method/".concat(o),{params:a}).then(function(c){return c.data}).catch(function(c){var p,g;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(p=c.response.data.message)!==null&&p!==void 0?p:"There was an error.",exception:(g=c.response.data.exception)!==null&&g!==void 0?g:""})})]})})},s.prototype.post=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(a){return[2,this.axios.post("/api/method/".concat(o),e({},i)).then(function(l){return l.data}).catch(function(l){var c,p;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(c=l.response.data.message)!==null&&c!==void 0?c:"There was an error.",exception:(p=l.response.data.exception)!==null&&p!==void 0?p:""})})]})})},s.prototype.put=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(a){return[2,this.axios.put("/api/method/".concat(o),e({},i)).then(function(l){return l.data}).catch(function(l){var c,p;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(c=l.response.data.message)!==null&&c!==void 0?c:"There was an error.",exception:(p=l.response.data.exception)!==null&&p!==void 0?p:""})})]})})},s.prototype.delete=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(a){return[2,this.axios.delete("/api/method/".concat(o),{params:i}).then(function(l){return l.data}).catch(function(l){var c,p;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(c=l.response.data.message)!==null&&c!==void 0?c:"There was an error.",exception:(p=l.response.data.exception)!==null&&p!==void 0?p:""})})]})})},s}();return Rt.FrappeCall=r,Rt}var Pt={},Hd;function Bh(){if(Hd)return Pt;Hd=1;var e=Pt&&Pt.__assign||function(){return e=Object.assign||function(s){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s},e.apply(this,arguments)},t=Pt&&Pt.__awaiter||function(s,o,i,a){function l(c){return c instanceof i?c:new i(function(p){p(c)})}return new(i||(i=Promise))(function(c,p){function g(S){try{m(a.next(S))}catch(k){p(k)}}function y(S){try{m(a.throw(S))}catch(k){p(k)}}function m(S){S.done?c(S.value):l(S.value).then(g,y)}m((a=a.apply(s,o||[])).next())})},n=Pt&&Pt.__generator||function(s,o){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(m){return function(S){return y([m,S])}}function y(m){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,m[0]&&(i=0)),i;)try{if(a=1,l&&(c=m[0]&2?l.return:m[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,m[1])).done)return c;switch(l=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,l=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){i.label=m[1];break}if(m[0]===6&&i.label<c[1]){i.label=c[1],c=m;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(m);break}c[2]&&i.ops.pop(),i.trys.pop();continue}m=o.call(s,i)}catch(S){m=[6,S],l=0}finally{a=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.FrappeDB=void 0;var r=function(){function s(o,i,a,l,c){this.appURL=o,this.axios=i,this.useToken=a??!1,this.token=l,this.tokenType=c}return s.prototype.getDoc=function(o,i){return i===void 0&&(i=""),t(this,void 0,void 0,function(){return n(this,function(a){return[2,this.axios.get("/api/resource/".concat(o,"/").concat(encodeURIComponent(i))).then(function(l){return l.data.data}).catch(function(l){var c,p;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:"There was an error while fetching the document.",exception:(p=(c=l.response.data.exception)!==null&&c!==void 0?c:l.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},s.prototype.getDocList=function(o,i){var a;return t(this,void 0,void 0,function(){var l,c,p,g,y,m,S,k,P,w,x;return n(this,function(_){return l={},i&&(c=i.fields,p=i.filters,g=i.orFilters,y=i.orderBy,m=i.limit,S=i.limit_start,k=i.groupBy,P=i.asDict,w=P===void 0?!0:P,x=y?"".concat(String(y==null?void 0:y.field)," ").concat((a=y==null?void 0:y.order)!==null&&a!==void 0?a:"asc"):"",l={fields:c?JSON.stringify(c):void 0,filters:p?JSON.stringify(p):void 0,or_filters:g?JSON.stringify(g):void 0,order_by:x,group_by:k,limit:m,limit_start:S,as_dict:w}),[2,this.axios.get("/api/resource/".concat(o),{params:l}).then(function(j){return j.data.data}).catch(function(j){var O,I;throw e(e({},j.response.data),{httpStatus:j.response.status,httpStatusText:j.response.statusText,message:"There was an error while fetching the documents.",exception:(I=(O=j.response.data.exception)!==null&&O!==void 0?O:j.response.data.exc_type)!==null&&I!==void 0?I:""})})]})})},s.prototype.createDoc=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(a){return[2,this.axios.post("/api/resource/".concat(o),e({},i)).then(function(l){return l.data.data}).catch(function(l){var c,p,g;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:(c=l.response.data.message)!==null&&c!==void 0?c:"There was an error while creating the document.",exception:(g=(p=l.response.data.exception)!==null&&p!==void 0?p:l.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},s.prototype.updateDoc=function(o,i,a){return t(this,void 0,void 0,function(){return n(this,function(l){return[2,this.axios.put("/api/resource/".concat(o,"/").concat(i&&encodeURIComponent(i)),e({},a)).then(function(c){return c.data.data}).catch(function(c){var p,g,y;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:(p=c.response.data.message)!==null&&p!==void 0?p:"There was an error while updating the document.",exception:(y=(g=c.response.data.exception)!==null&&g!==void 0?g:c.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},s.prototype.deleteDoc=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(a){return[2,this.axios.delete("/api/resource/".concat(o,"/").concat(i&&encodeURIComponent(i))).then(function(l){return l.data}).catch(function(l){var c,p;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:"There was an error while deleting the document.",exception:(p=(c=l.response.data.exception)!==null&&c!==void 0?c:l.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},s.prototype.getCount=function(o,i,a){return a===void 0&&(a=!1),t(this,void 0,void 0,function(){var l;return n(this,function(c){return l={doctype:o,filters:[]},a&&(l.debug=a),i&&(l.filters=i?JSON.stringify(i):void 0),[2,this.axios.get("/api/method/frappe.client.get_count",{params:l}).then(function(p){return p.data.message}).catch(function(p){var g,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while getting the count.",exception:(y=(g=p.response.data.exception)!==null&&g!==void 0?g:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},s.prototype.getLastDoc=function(o,i){return t(this,void 0,void 0,function(){var a,l;return n(this,function(c){switch(c.label){case 0:return a={orderBy:{field:"creation",order:"desc"}},i&&(a=e(e({},a),i)),[4,this.getDocList(o,e(e({},a),{limit:1,fields:["name"]}))];case 1:return l=c.sent(),l.length>0?[2,this.getDoc(o,l[0].name)]:[2,{}]}})})},s.prototype.renameDoc=function(o,i,a,l){return l===void 0&&(l=!1),t(this,void 0,void 0,function(){return n(this,function(c){return[2,this.axios.post("/api/method/frappe.client.rename_doc",{doctype:o,old_name:i,new_name:a,merge:l}).then(function(p){return p.data}).catch(function(p){var g,y,m;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:(g=p.response.data.message)!==null&&g!==void 0?g:"There was an error while renaming the document.",exception:(m=(y=p.response.data.exception)!==null&&y!==void 0?y:p.response.data.exc_type)!==null&&m!==void 0?m:""})})]})})},s.prototype.getValue=function(o,i,a,l,c,p){return l===void 0&&(l=!0),c===void 0&&(c=!1),p===void 0&&(p=null),t(this,void 0,void 0,function(){var g;return n(this,function(y){return g={doctype:o,fieldname:"[]",filters:[],as_dict:l,debug:c,parent:null},i&&(g.fieldname=typeof i=="object"?JSON.stringify(i):i),a&&(g.filters=a?JSON.stringify(a):void 0),p&&(g.parent=p),[2,this.axios.get("/api/method/frappe.client.get_value",{params:g}).then(function(m){return m.data}).catch(function(m){var S,k;throw e(e({},m.response.data),{httpStatus:m.response.status,httpStatusText:m.response.statusText,message:"There was an error while getting the value.",exception:(k=(S=m.response.data.exception)!==null&&S!==void 0?S:m.response.data.exc_type)!==null&&k!==void 0?k:""})})]})})},s.prototype.setValue=function(o,i,a,l){return t(this,void 0,void 0,function(){return n(this,function(c){return a!==null&&typeof a=="object"&&!Array.isArray(a)&&(l=void 0),[2,this.axios.post("/api/method/frappe.client.set_value",{doctype:o,name:i,fieldname:a,value:l}).then(function(p){return p.data}).catch(function(p){var g,y;throw e(e({},p.response.data),{httpStatus:p.response.status,httpStatusText:p.response.statusText,message:"There was an error while setting the value.",exception:(y=(g=p.response.data.exception)!==null&&g!==void 0?g:p.response.data.exc_type)!==null&&y!==void 0?y:""})})]})})},s.prototype.getSingleValue=function(o,i){return t(this,void 0,void 0,function(){var a;return n(this,function(l){return a={doctype:o,field:i},[2,this.axios.get("/api/method/frappe.client.get_single_value",{params:a}).then(function(c){return c.data}).catch(function(c){var p,g;throw e(e({},c.response.data),{httpStatus:c.response.status,httpStatusText:c.response.statusText,message:"There was an error while getting the value of single doctype.",exception:(g=(p=c.response.data.exception)!==null&&p!==void 0?p:c.response.data.exc_type)!==null&&g!==void 0?g:""})})]})})},s.prototype.submit=function(o){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.post("/api/method/frappe.client.submit",{doc:o}).then(function(a){return a.data.message}).catch(function(a){var l,c;throw e(e({},a.response.data),{httpStatus:a.response.status,httpStatusText:a.response.statusText,message:"There was an error while submitting the document.",exception:(c=(l=a.response.data.exception)!==null&&l!==void 0?l:a.response.data.exc_type)!==null&&c!==void 0?c:""})})]})})},s.prototype.cancel=function(o,i){return t(this,void 0,void 0,function(){return n(this,function(a){return[2,this.axios.post("/api/method/frappe.client.cancel",{doctype:o,name:i}).then(function(l){return l.data}).catch(function(l){var c,p;throw e(e({},l.response.data),{httpStatus:l.response.status,httpStatusText:l.response.statusText,message:"There was an error while cancelling the document.",exception:(p=(c=l.response.data.exception)!==null&&c!==void 0?c:l.response.data.exc_type)!==null&&p!==void 0?p:""})})]})})},s}();return Pt.FrappeDB=r,Pt}var Lt={},on={};/*! Axios v1.12.2 Copyright (c) 2025 Matt Zabriskie and contributors */var La,qd;function Av(){if(qd)return La;qd=1;function e(d,f){return function(){return d.apply(f,arguments)}}const{toString:t}=Object.prototype,{getPrototypeOf:n}=Object,{iterator:r,toStringTag:s}=Symbol,o=(d=>f=>{const h=t.call(f);return d[h]||(d[h]=h.slice(8,-1).toLowerCase())})(Object.create(null)),i=d=>(d=d.toLowerCase(),f=>o(f)===d),a=d=>f=>typeof f===d,{isArray:l}=Array,c=a("undefined");function p(d){return d!==null&&!c(d)&&d.constructor!==null&&!c(d.constructor)&&S(d.constructor.isBuffer)&&d.constructor.isBuffer(d)}const g=i("ArrayBuffer");function y(d){let f;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?f=ArrayBuffer.isView(d):f=d&&d.buffer&&g(d.buffer),f}const m=a("string"),S=a("function"),k=a("number"),P=d=>d!==null&&typeof d=="object",w=d=>d===!0||d===!1,x=d=>{if(o(d)!=="object")return!1;const f=n(d);return(f===null||f===Object.prototype||Object.getPrototypeOf(f)===null)&&!(s in d)&&!(r in d)},_=d=>{if(!P(d)||p(d))return!1;try{return Object.keys(d).length===0&&Object.getPrototypeOf(d)===Object.prototype}catch{return!1}},j=i("Date"),O=i("File"),I=i("Blob"),F=i("FileList"),L=d=>P(d)&&S(d.pipe),H=d=>{let f;return d&&(typeof FormData=="function"&&d instanceof FormData||S(d.append)&&((f=o(d))==="formdata"||f==="object"&&S(d.toString)&&d.toString()==="[object FormData]"))},R=i("URLSearchParams"),[U,Z,A,J]=["ReadableStream","Request","Response","Headers"].map(i),ee=d=>d.trim?d.trim():d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function oe(d,f,{allOwnKeys:h=!1}={}){if(d===null||typeof d>"u")return;let v,C;if(typeof d!="object"&&(d=[d]),l(d))for(v=0,C=d.length;v<C;v++)f.call(null,d[v],v,d);else{if(p(d))return;const E=h?Object.getOwnPropertyNames(d):Object.keys(d),N=E.length;let B;for(v=0;v<N;v++)B=E[v],f.call(null,d[B],B,d)}}function G(d,f){if(p(d))return null;f=f.toLowerCase();const h=Object.keys(d);let v=h.length,C;for(;v-- >0;)if(C=h[v],f===C.toLowerCase())return C;return null}const D=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Lv,W=d=>!c(d)&&d!==D;function X(){const{caseless:d,skipUndefined:f}=W(this)&&this||{},h={},v=(C,E)=>{const N=d&&G(h,E)||E;x(h[N])&&x(C)?h[N]=X(h[N],C):x(C)?h[N]=X({},C):l(C)?h[N]=C.slice():(!f||!c(C))&&(h[N]=C)};for(let C=0,E=arguments.length;C<E;C++)arguments[C]&&oe(arguments[C],v);return h}const ie=(d,f,h,{allOwnKeys:v}={})=>(oe(f,(C,E)=>{h&&S(C)?d[E]=e(C,h):d[E]=C},{allOwnKeys:v}),d),me=d=>(d.charCodeAt(0)===65279&&(d=d.slice(1)),d),fe=(d,f,h,v)=>{d.prototype=Object.create(f.prototype,v),d.prototype.constructor=d,Object.defineProperty(d,"super",{value:f.prototype}),h&&Object.assign(d.prototype,h)},ye=(d,f,h,v)=>{let C,E,N;const B={};if(f=f||{},d==null)return f;do{for(C=Object.getOwnPropertyNames(d),E=C.length;E-- >0;)N=C[E],(!v||v(N,d,f))&&!B[N]&&(f[N]=d[N],B[N]=!0);d=h!==!1&&n(d)}while(d&&(!h||h(d,f))&&d!==Object.prototype);return f},$e=(d,f,h)=>{d=String(d),(h===void 0||h>d.length)&&(h=d.length),h-=f.length;const v=d.indexOf(f,h);return v!==-1&&v===h},Ke=d=>{if(!d)return null;if(l(d))return d;let f=d.length;if(!k(f))return null;const h=new Array(f);for(;f-- >0;)h[f]=d[f];return h},dt=(d=>f=>d&&f instanceof d)(typeof Uint8Array<"u"&&n(Uint8Array)),Yr=(d,f)=>{const h=(d&&d[r]).call(d);let v;for(;(v=h.next())&&!v.done;){const C=v.value;f.call(d,C[0],C[1])}},Jr=(d,f)=>{let h;const v=[];for(;(h=d.exec(f))!==null;)v.push(h);return v},tn=i("HTMLFormElement"),nn=d=>d.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(f,h,v){return h.toUpperCase()+v}),ae=(({hasOwnProperty:d})=>(f,h)=>d.call(f,h))(Object.prototype),ve=i("RegExp"),ke=(d,f)=>{const h=Object.getOwnPropertyDescriptors(d),v={};oe(h,(C,E)=>{let N;(N=f(C,E,d))!==!1&&(v[E]=N||C)}),Object.defineProperties(d,v)},ce=d=>{ke(d,(f,h)=>{if(S(d)&&["arguments","caller","callee"].indexOf(h)!==-1)return!1;const v=d[h];if(S(v)){if(f.enumerable=!1,"writable"in f){f.writable=!1;return}f.set||(f.set=()=>{throw Error("Can not rewrite read-only method '"+h+"'")})}})},Nt=(d,f)=>{const h={},v=C=>{C.forEach(E=>{h[E]=!0})};return l(d)?v(d):v(String(d).split(f)),h},bt=()=>{},Be=(d,f)=>d!=null&&Number.isFinite(d=+d)?d:f;function Fe(d){return!!(d&&S(d.append)&&d[s]==="FormData"&&d[r])}const vt=d=>{const f=new Array(10),h=(v,C)=>{if(P(v)){if(f.indexOf(v)>=0)return;if(p(v))return v;if(!("toJSON"in v)){f[C]=v;const E=l(v)?[]:{};return oe(v,(N,B)=>{const q=h(N,C+1);!c(q)&&(E[B]=q)}),f[C]=void 0,E}}return v};return h(d,0)},rn=i("AsyncFunction"),ur=d=>d&&(P(d)||S(d))&&S(d.then)&&S(d.catch),qn=((d,f)=>d?setImmediate:f?((h,v)=>(D.addEventListener("message",({source:C,data:E})=>{C===D&&E===h&&v.length&&v.shift()()},!1),C=>{v.push(C),D.postMessage(h,"*")}))(`axios@${Math.random()}`,[]):h=>setTimeout(h))(typeof setImmediate=="function",S(D.postMessage)),Qe=typeof queueMicrotask<"u"?queueMicrotask.bind(D):typeof process<"u"&&process.nextTick||qn;var b={isArray:l,isArrayBuffer:g,isBuffer:p,isFormData:H,isArrayBufferView:y,isString:m,isNumber:k,isBoolean:w,isObject:P,isPlainObject:x,isEmptyObject:_,isReadableStream:U,isRequest:Z,isResponse:A,isHeaders:J,isUndefined:c,isDate:j,isFile:O,isBlob:I,isRegExp:ve,isFunction:S,isStream:L,isURLSearchParams:R,isTypedArray:dt,isFileList:F,forEach:oe,merge:X,extend:ie,trim:ee,stripBOM:me,inherits:fe,toFlatObject:ye,kindOf:o,kindOfTest:i,endsWith:$e,toArray:Ke,forEachEntry:Yr,matchAll:Jr,isHTMLForm:tn,hasOwnProperty:ae,hasOwnProp:ae,reduceDescriptors:ke,freezeMethods:ce,toObjectSet:Nt,toCamelCase:nn,noop:bt,toFiniteNumber:Be,findKey:G,global:D,isContextDefined:W,isSpecCompliantForm:Fe,toJSONObject:vt,isAsyncFn:rn,isThenable:ur,setImmediate:qn,asap:Qe,isIterable:d=>d!=null&&S(d[r])};function te(d,f,h,v,C){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=d,this.name="AxiosError",f&&(this.code=f),h&&(this.config=h),v&&(this.request=v),C&&(this.response=C,this.status=C.status?C.status:null)}b.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.status}}});const cr=te.prototype,sn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(d=>{sn[d]={value:d}}),Object.defineProperties(te,sn),Object.defineProperty(cr,"isAxiosError",{value:!0}),te.from=(d,f,h,v,C,E)=>{const N=Object.create(cr);b.toFlatObject(d,N,function(M){return M!==Error.prototype},M=>M!=="isAxiosError");const B=d&&d.message?d.message:"Error",q=f==null&&d?d.code:f;return te.call(N,B,q,h,v,C),d&&N.cause==null&&Object.defineProperty(N,"cause",{value:d,configurable:!0}),N.name=d&&d.name||"Error",E&&Object.assign(N,E),N};var Hi=null;function Xr(d){return b.isPlainObject(d)||b.isArray(d)}function Gs(d){return b.endsWith(d,"[]")?d.slice(0,-2):d}function Zs(d,f,h){return d?d.concat(f).map(function(v,C){return v=Gs(v),!h&&C?"["+v+"]":v}).join(h?".":""):f}function qi(d){return b.isArray(d)&&!d.some(Xr)}const Wi=b.toFlatObject(b,{},null,function(d){return/^is[A-Z]/.test(d)});function dr(d,f,h){if(!b.isObject(d))throw new TypeError("target must be an object");f=f||new FormData,h=b.toFlatObject(h,{metaTokens:!0,dots:!1,indexes:!1},!1,function(re,$){return!b.isUndefined($[re])});const v=h.metaTokens,C=h.visitor||M,E=h.dots,N=h.indexes,B=(h.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(f);if(!b.isFunction(C))throw new TypeError("visitor must be a function");function q(re){if(re===null)return"";if(b.isDate(re))return re.toISOString();if(b.isBoolean(re))return re.toString();if(!B&&b.isBlob(re))throw new te("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(re)||b.isTypedArray(re)?B&&typeof Blob=="function"?new Blob([re]):Buffer.from(re):re}function M(re,$,K){let Pe=re;if(re&&!K&&typeof re=="object"){if(b.endsWith($,"{}"))$=v?$:$.slice(0,-2),re=JSON.stringify(re);else if(b.isArray(re)&&qi(re)||(b.isFileList(re)||b.endsWith($,"[]"))&&(Pe=b.toArray(re)))return $=Gs($),Pe.forEach(function(Je,Ie){!(b.isUndefined(Je)||Je===null)&&f.append(N===!0?Zs([$],Ie,E):N===null?$:$+"[]",q(Je))}),!1}return Xr(re)?!0:(f.append(Zs(K,$,E),q(re)),!1)}const V=[],ne=Object.assign(Wi,{defaultVisitor:M,convertValue:q,isVisitable:Xr});function we(re,$){if(!b.isUndefined(re)){if(V.indexOf(re)!==-1)throw Error("Circular reference detected in "+$.join("."));V.push(re),b.forEach(re,function(K,Pe){(!(b.isUndefined(K)||K===null)&&C.call(f,K,b.isString(Pe)?Pe.trim():Pe,$,ne))===!0&&we(K,$?$.concat(Pe):[Pe])}),V.pop()}}if(!b.isObject(d))throw new TypeError("data must be an object");return we(d),f}function eo(d){const f={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(d).replace(/[!'()~]|%20|%00/g,function(h){return f[h]})}function Gr(d,f){this._pairs=[],d&&dr(d,this,f)}const to=Gr.prototype;to.append=function(d,f){this._pairs.push([d,f])},to.toString=function(d){const f=d?function(h){return d.call(this,h,eo)}:eo;return this._pairs.map(function(h){return f(h[0])+"="+f(h[1])},"").join("&")};function Ki(d){return encodeURIComponent(d).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Y(d,f,h){if(!f)return d;const v=h&&h.encode||Ki;b.isFunction(h)&&(h={serialize:h});const C=h&&h.serialize;let E;if(C?E=C(f,h):E=b.isURLSearchParams(f)?f.toString():new Gr(f,h).toString(v),E){const N=d.indexOf("#");N!==-1&&(d=d.slice(0,N)),d+=(d.indexOf("?")===-1?"?":"&")+E}return d}class de{constructor(){this.handlers=[]}use(f,h,v){return this.handlers.push({fulfilled:f,rejected:h,synchronous:v?v.synchronous:!1,runWhen:v?v.runWhen:null}),this.handlers.length-1}eject(f){this.handlers[f]&&(this.handlers[f]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(f){b.forEach(this.handlers,function(h){h!==null&&f(h)})}}var le=de,ot={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zr=typeof URLSearchParams<"u"?URLSearchParams:Gr,wm=typeof FormData<"u"?FormData:null,xm=typeof Blob<"u"?Blob:null,Sm={isBrowser:!0,classes:{URLSearchParams:Zr,FormData:wm,Blob:xm},protocols:["http","https","file","blob","url","data"]};const Qi=typeof window<"u"&&typeof document<"u",Yi=typeof navigator=="object"&&navigator||void 0,_m=Qi&&(!Yi||["ReactNative","NativeScript","NS"].indexOf(Yi.product)<0),km=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Cm=Qi&&window.location.href||"http://localhost";var jm=Object.freeze({__proto__:null,hasBrowserEnv:Qi,hasStandardBrowserWebWorkerEnv:km,hasStandardBrowserEnv:_m,navigator:Yi,origin:Cm}),Ye={...jm,...Sm};function Em(d,f){return dr(d,new Ye.classes.URLSearchParams,{visitor:function(h,v,C,E){return Ye.isNode&&b.isBuffer(h)?(this.append(v,h.toString("base64")),!1):E.defaultVisitor.apply(this,arguments)},...f})}function Nm(d){return b.matchAll(/\w+|\[(\w*)]/g,d).map(f=>f[0]==="[]"?"":f[1]||f[0])}function bm(d){const f={},h=Object.keys(d);let v;const C=h.length;let E;for(v=0;v<C;v++)E=h[v],f[E]=d[E];return f}function ic(d){function f(h,v,C,E){let N=h[E++];if(N==="__proto__")return!0;const B=Number.isFinite(+N),q=E>=h.length;return N=!N&&b.isArray(C)?C.length:N,q?(b.hasOwnProp(C,N)?C[N]=[C[N],v]:C[N]=v,!B):((!C[N]||!b.isObject(C[N]))&&(C[N]=[]),f(h,v,C[N],E)&&b.isArray(C[N])&&(C[N]=bm(C[N])),!B)}if(b.isFormData(d)&&b.isFunction(d.entries)){const h={};return b.forEachEntry(d,(v,C)=>{f(Nm(v),C,h,0)}),h}return null}function Tm(d,f,h){if(b.isString(d))try{return(f||JSON.parse)(d),b.trim(d)}catch(v){if(v.name!=="SyntaxError")throw v}return(h||JSON.stringify)(d)}const Ji={transitional:ot,adapter:["xhr","http","fetch"],transformRequest:[function(d,f){const h=f.getContentType()||"",v=h.indexOf("application/json")>-1,C=b.isObject(d);if(C&&b.isHTMLForm(d)&&(d=new FormData(d)),b.isFormData(d))return v?JSON.stringify(ic(d)):d;if(b.isArrayBuffer(d)||b.isBuffer(d)||b.isStream(d)||b.isFile(d)||b.isBlob(d)||b.isReadableStream(d))return d;if(b.isArrayBufferView(d))return d.buffer;if(b.isURLSearchParams(d))return f.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),d.toString();let E;if(C){if(h.indexOf("application/x-www-form-urlencoded")>-1)return Em(d,this.formSerializer).toString();if((E=b.isFileList(d))||h.indexOf("multipart/form-data")>-1){const N=this.env&&this.env.FormData;return dr(E?{"files[]":d}:d,N&&new N,this.formSerializer)}}return C||v?(f.setContentType("application/json",!1),Tm(d)):d}],transformResponse:[function(d){const f=this.transitional||Ji.transitional,h=f&&f.forcedJSONParsing,v=this.responseType==="json";if(b.isResponse(d)||b.isReadableStream(d))return d;if(d&&b.isString(d)&&(h&&!this.responseType||v)){const C=!(f&&f.silentJSONParsing)&&v;try{return JSON.parse(d,this.parseReviver)}catch(E){if(C)throw E.name==="SyntaxError"?te.from(E,te.ERR_BAD_RESPONSE,this,null,this.response):E}}return d}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ye.classes.FormData,Blob:Ye.classes.Blob},validateStatus:function(d){return d>=200&&d<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],d=>{Ji.headers[d]={}});var Xi=Ji;const Om=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Rm=d=>{const f={};let h,v,C;return d&&d.split(`
`).forEach(function(E){C=E.indexOf(":"),h=E.substring(0,C).trim().toLowerCase(),v=E.substring(C+1).trim(),!(!h||f[h]&&Om[h])&&(h==="set-cookie"?f[h]?f[h].push(v):f[h]=[v]:f[h]=f[h]?f[h]+", "+v:v)}),f};const ac=Symbol("internals");function es(d){return d&&String(d).trim().toLowerCase()}function no(d){return d===!1||d==null?d:b.isArray(d)?d.map(no):String(d)}function Pm(d){const f=Object.create(null),h=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let v;for(;v=h.exec(d);)f[v[1]]=v[2];return f}const Lm=d=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(d.trim());function Gi(d,f,h,v,C){if(b.isFunction(v))return v.call(this,f,h);if(C&&(f=h),!!b.isString(f)){if(b.isString(v))return f.indexOf(v)!==-1;if(b.isRegExp(v))return v.test(f)}}function Am(d){return d.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(f,h,v)=>h.toUpperCase()+v)}function Fm(d,f){const h=b.toCamelCase(" "+f);["get","set","has"].forEach(v=>{Object.defineProperty(d,v+h,{value:function(C,E,N){return this[v].call(this,f,C,E,N)},configurable:!0})})}class ro{constructor(f){f&&this.set(f)}set(f,h,v){const C=this;function E(B,q,M){const V=es(q);if(!V)throw new Error("header name must be a non-empty string");const ne=b.findKey(C,V);(!ne||C[ne]===void 0||M===!0||M===void 0&&C[ne]!==!1)&&(C[ne||q]=no(B))}const N=(B,q)=>b.forEach(B,(M,V)=>E(M,V,q));if(b.isPlainObject(f)||f instanceof this.constructor)N(f,h);else if(b.isString(f)&&(f=f.trim())&&!Lm(f))N(Rm(f),h);else if(b.isObject(f)&&b.isIterable(f)){let B={},q,M;for(const V of f){if(!b.isArray(V))throw TypeError("Object iterator must return a key-value pair");B[M=V[0]]=(q=B[M])?b.isArray(q)?[...q,V[1]]:[q,V[1]]:V[1]}N(B,h)}else f!=null&&E(h,f,v);return this}get(f,h){if(f=es(f),f){const v=b.findKey(this,f);if(v){const C=this[v];if(!h)return C;if(h===!0)return Pm(C);if(b.isFunction(h))return h.call(this,C,v);if(b.isRegExp(h))return h.exec(C);throw new TypeError("parser must be boolean|regexp|function")}}}has(f,h){if(f=es(f),f){const v=b.findKey(this,f);return!!(v&&this[v]!==void 0&&(!h||Gi(this,this[v],v,h)))}return!1}delete(f,h){const v=this;let C=!1;function E(N){if(N=es(N),N){const B=b.findKey(v,N);B&&(!h||Gi(v,v[B],B,h))&&(delete v[B],C=!0)}}return b.isArray(f)?f.forEach(E):E(f),C}clear(f){const h=Object.keys(this);let v=h.length,C=!1;for(;v--;){const E=h[v];(!f||Gi(this,this[E],E,f,!0))&&(delete this[E],C=!0)}return C}normalize(f){const h=this,v={};return b.forEach(this,(C,E)=>{const N=b.findKey(v,E);if(N){h[N]=no(C),delete h[E];return}const B=f?Am(E):String(E).trim();B!==E&&delete h[E],h[B]=no(C),v[B]=!0}),this}concat(...f){return this.constructor.concat(this,...f)}toJSON(f){const h=Object.create(null);return b.forEach(this,(v,C)=>{v!=null&&v!==!1&&(h[C]=f&&b.isArray(v)?v.join(", "):v)}),h}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([f,h])=>f+": "+h).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(f){return f instanceof this?f:new this(f)}static concat(f,...h){const v=new this(f);return h.forEach(C=>v.set(C)),v}static accessor(f){const h=(this[ac]=this[ac]={accessors:{}}).accessors,v=this.prototype;function C(E){const N=es(E);h[N]||(Fm(v,E),h[N]=!0)}return b.isArray(f)?f.forEach(C):C(f),this}}ro.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),b.reduceDescriptors(ro.prototype,({value:d},f)=>{let h=f[0].toUpperCase()+f.slice(1);return{get:()=>d,set(v){this[h]=v}}}),b.freezeMethods(ro);var Tt=ro;function Zi(d,f){const h=this||Xi,v=f||h,C=Tt.from(v.headers);let E=v.data;return b.forEach(d,function(N){E=N.call(h,E,C.normalize(),f?f.status:void 0)}),C.normalize(),E}function lc(d){return!!(d&&d.__CANCEL__)}function fr(d,f,h){te.call(this,d??"canceled",te.ERR_CANCELED,f,h),this.name="CanceledError"}b.inherits(fr,te,{__CANCEL__:!0});function uc(d,f,h){const v=h.config.validateStatus;!h.status||!v||v(h.status)?d(h):f(new te("Request failed with status code "+h.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(h.status/100)-4],h.config,h.request,h))}function Im(d){const f=/^([-+\w]{1,25})(:?\/\/|:)/.exec(d);return f&&f[1]||""}function Dm(d,f){d=d||10;const h=new Array(d),v=new Array(d);let C=0,E=0,N;return f=f!==void 0?f:1e3,function(B){const q=Date.now(),M=v[E];N||(N=q),h[C]=B,v[C]=q;let V=E,ne=0;for(;V!==C;)ne+=h[V++],V=V%d;if(C=(C+1)%d,C===E&&(E=(E+1)%d),q-N<f)return;const we=M&&q-M;return we?Math.round(ne*1e3/we):void 0}}function zm(d,f){let h=0,v=1e3/f,C,E;const N=(B,q=Date.now())=>{h=q,C=null,E&&(clearTimeout(E),E=null),d(...B)};return[(...B)=>{const q=Date.now(),M=q-h;M>=v?N(B,q):(C=B,E||(E=setTimeout(()=>{E=null,N(C)},v-M)))},()=>C&&N(C)]}const so=(d,f,h=3)=>{let v=0;const C=Dm(50,250);return zm(E=>{const N=E.loaded,B=E.lengthComputable?E.total:void 0,q=N-v,M=C(q),V=N<=B;v=N;const ne={loaded:N,total:B,progress:B?N/B:void 0,bytes:q,rate:M||void 0,estimated:M&&B&&V?(B-N)/M:void 0,event:E,lengthComputable:B!=null,[f?"download":"upload"]:!0};d(ne)},h)},cc=(d,f)=>{const h=d!=null;return[v=>f[0]({lengthComputable:h,total:d,loaded:v}),f[1]]},dc=d=>(...f)=>b.asap(()=>d(...f));var Bm=Ye.hasStandardBrowserEnv?((d,f)=>h=>(h=new URL(h,Ye.origin),d.protocol===h.protocol&&d.host===h.host&&(f||d.port===h.port)))(new URL(Ye.origin),Ye.navigator&&/(msie|trident)/i.test(Ye.navigator.userAgent)):()=>!0,Mm=Ye.hasStandardBrowserEnv?{write(d,f,h,v,C,E){const N=[d+"="+encodeURIComponent(f)];b.isNumber(h)&&N.push("expires="+new Date(h).toGMTString()),b.isString(v)&&N.push("path="+v),b.isString(C)&&N.push("domain="+C),E===!0&&N.push("secure"),document.cookie=N.join("; ")},read(d){const f=document.cookie.match(new RegExp("(^|;\\s*)("+d+")=([^;]*)"));return f?decodeURIComponent(f[3]):null},remove(d){this.write(d,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Um(d){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(d)}function $m(d,f){return f?d.replace(/\/?\/$/,"")+"/"+f.replace(/^\/+/,""):d}function fc(d,f,h){let v=!Um(f);return d&&(v||h==!1)?$m(d,f):f}const pc=d=>d instanceof Tt?{...d}:d;function Wn(d,f){f=f||{};const h={};function v(M,V,ne,we){return b.isPlainObject(M)&&b.isPlainObject(V)?b.merge.call({caseless:we},M,V):b.isPlainObject(V)?b.merge({},V):b.isArray(V)?V.slice():V}function C(M,V,ne,we){if(b.isUndefined(V)){if(!b.isUndefined(M))return v(void 0,M,ne,we)}else return v(M,V,ne,we)}function E(M,V){if(!b.isUndefined(V))return v(void 0,V)}function N(M,V){if(b.isUndefined(V)){if(!b.isUndefined(M))return v(void 0,M)}else return v(void 0,V)}function B(M,V,ne){if(ne in f)return v(M,V);if(ne in d)return v(void 0,M)}const q={url:E,method:E,data:E,baseURL:N,transformRequest:N,transformResponse:N,paramsSerializer:N,timeout:N,timeoutMessage:N,withCredentials:N,withXSRFToken:N,adapter:N,responseType:N,xsrfCookieName:N,xsrfHeaderName:N,onUploadProgress:N,onDownloadProgress:N,decompress:N,maxContentLength:N,maxBodyLength:N,beforeRedirect:N,transport:N,httpAgent:N,httpsAgent:N,cancelToken:N,socketPath:N,responseEncoding:N,validateStatus:B,headers:(M,V,ne)=>C(pc(M),pc(V),ne,!0)};return b.forEach(Object.keys({...d,...f}),function(M){const V=q[M]||C,ne=V(d[M],f[M],M);b.isUndefined(ne)&&V!==B||(h[M]=ne)}),h}var hc=d=>{const f=Wn({},d);let{data:h,withXSRFToken:v,xsrfHeaderName:C,xsrfCookieName:E,headers:N,auth:B}=f;if(f.headers=N=Tt.from(N),f.url=Y(fc(f.baseURL,f.url,f.allowAbsoluteUrls),d.params,d.paramsSerializer),B&&N.set("Authorization","Basic "+btoa((B.username||"")+":"+(B.password?unescape(encodeURIComponent(B.password)):""))),b.isFormData(h)){if(Ye.hasStandardBrowserEnv||Ye.hasStandardBrowserWebWorkerEnv)N.setContentType(void 0);else if(b.isFunction(h.getHeaders)){const q=h.getHeaders(),M=["content-type","content-length"];Object.entries(q).forEach(([V,ne])=>{M.includes(V.toLowerCase())&&N.set(V,ne)})}}if(Ye.hasStandardBrowserEnv&&(v&&b.isFunction(v)&&(v=v(f)),v||v!==!1&&Bm(f.url))){const q=C&&E&&Mm.read(E);q&&N.set(C,q)}return f},Vm=typeof XMLHttpRequest<"u"&&function(d){return new Promise(function(f,h){const v=hc(d);let C=v.data;const E=Tt.from(v.headers).normalize();let{responseType:N,onUploadProgress:B,onDownloadProgress:q}=v,M,V,ne,we,re;function $(){we&&we(),re&&re(),v.cancelToken&&v.cancelToken.unsubscribe(M),v.signal&&v.signal.removeEventListener("abort",M)}let K=new XMLHttpRequest;K.open(v.method.toUpperCase(),v.url,!0),K.timeout=v.timeout;function Pe(){if(!K)return;const Ie=Tt.from("getAllResponseHeaders"in K&&K.getAllResponseHeaders()),qt={data:!N||N==="text"||N==="json"?K.responseText:K.response,status:K.status,statusText:K.statusText,headers:Ie,config:d,request:K};uc(function(wn){f(wn),$()},function(wn){h(wn),$()},qt),K=null}"onloadend"in K?K.onloadend=Pe:K.onreadystatechange=function(){!K||K.readyState!==4||K.status===0&&!(K.responseURL&&K.responseURL.indexOf("file:")===0)||setTimeout(Pe)},K.onabort=function(){K&&(h(new te("Request aborted",te.ECONNABORTED,d,K)),K=null)},K.onerror=function(Ie){const qt=Ie&&Ie.message?Ie.message:"Network Error",wn=new te(qt,te.ERR_NETWORK,d,K);wn.event=Ie||null,h(wn),K=null},K.ontimeout=function(){let Ie=v.timeout?"timeout of "+v.timeout+"ms exceeded":"timeout exceeded";const qt=v.transitional||ot;v.timeoutErrorMessage&&(Ie=v.timeoutErrorMessage),h(new te(Ie,qt.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,d,K)),K=null},C===void 0&&E.setContentType(null),"setRequestHeader"in K&&b.forEach(E.toJSON(),function(Ie,qt){K.setRequestHeader(qt,Ie)}),b.isUndefined(v.withCredentials)||(K.withCredentials=!!v.withCredentials),N&&N!=="json"&&(K.responseType=v.responseType),q&&([ne,re]=so(q,!0),K.addEventListener("progress",ne)),B&&K.upload&&([V,we]=so(B),K.upload.addEventListener("progress",V),K.upload.addEventListener("loadend",we)),(v.cancelToken||v.signal)&&(M=Ie=>{K&&(h(!Ie||Ie.type?new fr(null,d,K):Ie),K.abort(),K=null)},v.cancelToken&&v.cancelToken.subscribe(M),v.signal&&(v.signal.aborted?M():v.signal.addEventListener("abort",M)));const Je=Im(v.url);if(Je&&Ye.protocols.indexOf(Je)===-1){h(new te("Unsupported protocol "+Je+":",te.ERR_BAD_REQUEST,d));return}K.send(C||null)})},Hm=(d,f)=>{const{length:h}=d=d?d.filter(Boolean):[];if(f||h){let v=new AbortController,C;const E=function(M){if(!C){C=!0,B();const V=M instanceof Error?M:this.reason;v.abort(V instanceof te?V:new fr(V instanceof Error?V.message:V))}};let N=f&&setTimeout(()=>{N=null,E(new te(`timeout ${f} of ms exceeded`,te.ETIMEDOUT))},f);const B=()=>{d&&(N&&clearTimeout(N),N=null,d.forEach(M=>{M.unsubscribe?M.unsubscribe(E):M.removeEventListener("abort",E)}),d=null)};d.forEach(M=>M.addEventListener("abort",E));const{signal:q}=v;return q.unsubscribe=()=>b.asap(B),q}};const qm=function*(d,f){let h=d.byteLength;if(h<f){yield d;return}let v=0,C;for(;v<h;)C=v+f,yield d.slice(v,C),v=C},Wm=async function*(d,f){for await(const h of Km(d))yield*qm(h,f)},Km=async function*(d){if(d[Symbol.asyncIterator]){yield*d;return}const f=d.getReader();try{for(;;){const{done:h,value:v}=await f.read();if(h)break;yield v}}finally{await f.cancel()}},mc=(d,f,h,v)=>{const C=Wm(d,f);let E=0,N,B=q=>{N||(N=!0,v&&v(q))};return new ReadableStream({async pull(q){try{const{done:M,value:V}=await C.next();if(M){B(),q.close();return}let ne=V.byteLength;if(h){let we=E+=ne;h(we)}q.enqueue(new Uint8Array(V))}catch(M){throw B(M),M}},cancel(q){return B(q),C.return()}},{highWaterMark:2})},gc=64*1024,{isFunction:oo}=b,Qm=(({Request:d,Response:f})=>({Request:d,Response:f}))(b.global),{ReadableStream:yc,TextEncoder:vc}=b.global,wc=(d,...f)=>{try{return!!d(...f)}catch{return!1}},Ym=d=>{d=b.merge.call({skipUndefined:!0},Qm,d);const{fetch:f,Request:h,Response:v}=d,C=f?oo(f):typeof fetch=="function",E=oo(h),N=oo(v);if(!C)return!1;const B=C&&oo(yc),q=C&&(typeof vc=="function"?($=>K=>$.encode(K))(new vc):async $=>new Uint8Array(await new h($).arrayBuffer())),M=E&&B&&wc(()=>{let $=!1;const K=new h(Ye.origin,{body:new yc,method:"POST",get duplex(){return $=!0,"half"}}).headers.has("Content-Type");return $&&!K}),V=N&&B&&wc(()=>b.isReadableStream(new v("").body)),ne={stream:V&&($=>$.body)};C&&["text","arrayBuffer","blob","formData","stream"].forEach($=>{!ne[$]&&(ne[$]=(K,Pe)=>{let Je=K&&K[$];if(Je)return Je.call(K);throw new te(`Response type '${$}' is not supported`,te.ERR_NOT_SUPPORT,Pe)})});const we=async $=>{if($==null)return 0;if(b.isBlob($))return $.size;if(b.isSpecCompliantForm($))return(await new h(Ye.origin,{method:"POST",body:$}).arrayBuffer()).byteLength;if(b.isArrayBufferView($)||b.isArrayBuffer($))return $.byteLength;if(b.isURLSearchParams($)&&($=$+""),b.isString($))return(await q($)).byteLength},re=async($,K)=>b.toFiniteNumber($.getContentLength())??we(K);return async $=>{let{url:K,method:Pe,data:Je,signal:Ie,cancelToken:qt,timeout:wn,onDownloadProgress:sa,onUploadProgress:Nc,responseType:xn,headers:oa,withCredentials:co="same-origin",fetchOptions:bc}=hc($),Tc=f||fetch;xn=xn?(xn+"").toLowerCase():"text";let fo=Hm([Ie,qt&&qt.toAbortSignal()],wn),ts=null;const Kn=fo&&fo.unsubscribe&&(()=>{fo.unsubscribe()});let Oc;try{if(Nc&&M&&Pe!=="get"&&Pe!=="head"&&(Oc=await re(oa,Je))!==0){let _n=new h(K,{method:"POST",body:Je,duplex:"half"}),pr;if(b.isFormData(Je)&&(pr=_n.headers.get("content-type"))&&oa.setContentType(pr),_n.body){const[ia,po]=cc(Oc,so(dc(Nc)));Je=mc(_n.body,gc,ia,po)}}b.isString(co)||(co=co?"include":"omit");const Wt=E&&"credentials"in h.prototype,Rc={...bc,signal:fo,method:Pe.toUpperCase(),headers:oa.normalize().toJSON(),body:Je,duplex:"half",credentials:Wt?co:void 0};ts=E&&new h(K,Rc);let Sn=await(E?Tc(ts,bc):Tc(K,Rc));const Pc=V&&(xn==="stream"||xn==="response");if(V&&(sa||Pc&&Kn)){const _n={};["status","statusText","headers"].forEach(Lc=>{_n[Lc]=Sn[Lc]});const pr=b.toFiniteNumber(Sn.headers.get("content-length")),[ia,po]=sa&&cc(pr,so(dc(sa),!0))||[];Sn=new v(mc(Sn.body,gc,ia,()=>{po&&po(),Kn&&Kn()}),_n)}xn=xn||"text";let rg=await ne[b.findKey(ne,xn)||"text"](Sn,$);return!Pc&&Kn&&Kn(),await new Promise((_n,pr)=>{uc(_n,pr,{data:rg,headers:Tt.from(Sn.headers),status:Sn.status,statusText:Sn.statusText,config:$,request:ts})})}catch(Wt){throw Kn&&Kn(),Wt&&Wt.name==="TypeError"&&/Load failed|fetch/i.test(Wt.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,$,ts),{cause:Wt.cause||Wt}):te.from(Wt,Wt&&Wt.code,$,ts)}}},Jm=new Map,xc=d=>{let f=d?d.env:{};const{fetch:h,Request:v,Response:C}=f,E=[v,C,h];let N=E.length,B=N,q,M,V=Jm;for(;B--;)q=E[B],M=V.get(q),M===void 0&&V.set(q,M=B?new Map:Ym(f)),V=M;return M};xc();const ea={http:Hi,xhr:Vm,fetch:{get:xc}};b.forEach(ea,(d,f)=>{if(d){try{Object.defineProperty(d,"name",{value:f})}catch{}Object.defineProperty(d,"adapterName",{value:f})}});const Sc=d=>`- ${d}`,Xm=d=>b.isFunction(d)||d===null||d===!1;var _c={getAdapter:(d,f)=>{d=b.isArray(d)?d:[d];const{length:h}=d;let v,C;const E={};for(let N=0;N<h;N++){v=d[N];let B;if(C=v,!Xm(v)&&(C=ea[(B=String(v)).toLowerCase()],C===void 0))throw new te(`Unknown adapter '${B}'`);if(C&&(b.isFunction(C)||(C=C.get(f))))break;E[B||"#"+N]=C}if(!C){const N=Object.entries(E).map(([q,M])=>`adapter ${q} `+(M===!1?"is not supported by the environment":"is not available in the build"));let B=h?N.length>1?`since :
`+N.map(Sc).join(`
`):" "+Sc(N[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+B,"ERR_NOT_SUPPORT")}return C},adapters:ea};function ta(d){if(d.cancelToken&&d.cancelToken.throwIfRequested(),d.signal&&d.signal.aborted)throw new fr(null,d)}function kc(d){return ta(d),d.headers=Tt.from(d.headers),d.data=Zi.call(d,d.transformRequest),["post","put","patch"].indexOf(d.method)!==-1&&d.headers.setContentType("application/x-www-form-urlencoded",!1),_c.getAdapter(d.adapter||Xi.adapter,d)(d).then(function(f){return ta(d),f.data=Zi.call(d,d.transformResponse,f),f.headers=Tt.from(f.headers),f},function(f){return lc(f)||(ta(d),f&&f.response&&(f.response.data=Zi.call(d,d.transformResponse,f.response),f.response.headers=Tt.from(f.response.headers))),Promise.reject(f)})}const Cc="1.12.2",io={};["object","boolean","number","function","string","symbol"].forEach((d,f)=>{io[d]=function(h){return typeof h===d||"a"+(f<1?"n ":" ")+d}});const jc={};io.transitional=function(d,f,h){function v(C,E){return"[Axios v"+Cc+"] Transitional option '"+C+"'"+E+(h?". "+h:"")}return(C,E,N)=>{if(d===!1)throw new te(v(E," has been removed"+(f?" in "+f:"")),te.ERR_DEPRECATED);return f&&!jc[E]&&(jc[E]=!0,console.warn(v(E," has been deprecated since v"+f+" and will be removed in the near future"))),d?d(C,E,N):!0}},io.spelling=function(d){return(f,h)=>(console.warn(`${h} is likely a misspelling of ${d}`),!0)};function Gm(d,f,h){if(typeof d!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const v=Object.keys(d);let C=v.length;for(;C-- >0;){const E=v[C],N=f[E];if(N){const B=d[E],q=B===void 0||N(B,E,d);if(q!==!0)throw new te("option "+E+" must be "+q,te.ERR_BAD_OPTION_VALUE);continue}if(h!==!0)throw new te("Unknown option "+E,te.ERR_BAD_OPTION)}}var ao={assertOptions:Gm,validators:io};const Ht=ao.validators;class lo{constructor(f){this.defaults=f||{},this.interceptors={request:new le,response:new le}}async request(f,h){try{return await this._request(f,h)}catch(v){if(v instanceof Error){let C={};Error.captureStackTrace?Error.captureStackTrace(C):C=new Error;const E=C.stack?C.stack.replace(/^.+\n/,""):"";try{v.stack?E&&!String(v.stack).endsWith(E.replace(/^.+\n.+\n/,""))&&(v.stack+=`
`+E):v.stack=E}catch{}}throw v}}_request(f,h){typeof f=="string"?(h=h||{},h.url=f):h=f||{},h=Wn(this.defaults,h);const{transitional:v,paramsSerializer:C,headers:E}=h;v!==void 0&&ao.assertOptions(v,{silentJSONParsing:Ht.transitional(Ht.boolean),forcedJSONParsing:Ht.transitional(Ht.boolean),clarifyTimeoutError:Ht.transitional(Ht.boolean)},!1),C!=null&&(b.isFunction(C)?h.paramsSerializer={serialize:C}:ao.assertOptions(C,{encode:Ht.function,serialize:Ht.function},!0)),h.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?h.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:h.allowAbsoluteUrls=!0),ao.assertOptions(h,{baseUrl:Ht.spelling("baseURL"),withXsrfToken:Ht.spelling("withXSRFToken")},!0),h.method=(h.method||this.defaults.method||"get").toLowerCase();let N=E&&b.merge(E.common,E[h.method]);E&&b.forEach(["delete","get","head","post","put","patch","common"],$=>{delete E[$]}),h.headers=Tt.concat(N,E);const B=[];let q=!0;this.interceptors.request.forEach(function($){typeof $.runWhen=="function"&&$.runWhen(h)===!1||(q=q&&$.synchronous,B.unshift($.fulfilled,$.rejected))});const M=[];this.interceptors.response.forEach(function($){M.push($.fulfilled,$.rejected)});let V,ne=0,we;if(!q){const $=[kc.bind(this),void 0];for($.unshift(...B),$.push(...M),we=$.length,V=Promise.resolve(h);ne<we;)V=V.then($[ne++],$[ne++]);return V}we=B.length;let re=h;for(;ne<we;){const $=B[ne++],K=B[ne++];try{re=$(re)}catch(Pe){K.call(this,Pe);break}}try{V=kc.call(this,re)}catch($){return Promise.reject($)}for(ne=0,we=M.length;ne<we;)V=V.then(M[ne++],M[ne++]);return V}getUri(f){f=Wn(this.defaults,f);const h=fc(f.baseURL,f.url,f.allowAbsoluteUrls);return Y(h,f.params,f.paramsSerializer)}}b.forEach(["delete","get","head","options"],function(d){lo.prototype[d]=function(f,h){return this.request(Wn(h||{},{method:d,url:f,data:(h||{}).data}))}}),b.forEach(["post","put","patch"],function(d){function f(h){return function(v,C,E){return this.request(Wn(E||{},{method:d,headers:h?{"Content-Type":"multipart/form-data"}:{},url:v,data:C}))}}lo.prototype[d]=f(),lo.prototype[d+"Form"]=f(!0)});var uo=lo;class na{constructor(f){if(typeof f!="function")throw new TypeError("executor must be a function.");let h;this.promise=new Promise(function(C){h=C});const v=this;this.promise.then(C=>{if(!v._listeners)return;let E=v._listeners.length;for(;E-- >0;)v._listeners[E](C);v._listeners=null}),this.promise.then=C=>{let E;const N=new Promise(B=>{v.subscribe(B),E=B}).then(C);return N.cancel=function(){v.unsubscribe(E)},N},f(function(C,E,N){v.reason||(v.reason=new fr(C,E,N),h(v.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(f){if(this.reason){f(this.reason);return}this._listeners?this._listeners.push(f):this._listeners=[f]}unsubscribe(f){if(!this._listeners)return;const h=this._listeners.indexOf(f);h!==-1&&this._listeners.splice(h,1)}toAbortSignal(){const f=new AbortController,h=v=>{f.abort(v)};return this.subscribe(h),f.signal.unsubscribe=()=>this.unsubscribe(h),f.signal}static source(){let f;return{token:new na(function(h){f=h}),cancel:f}}}var Zm=na;function eg(d){return function(f){return d.apply(null,f)}}function tg(d){return b.isObject(d)&&d.isAxiosError===!0}const ra={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ra).forEach(([d,f])=>{ra[f]=d});var ng=ra;function Ec(d){const f=new uo(d),h=e(uo.prototype.request,f);return b.extend(h,uo.prototype,f,{allOwnKeys:!0}),b.extend(h,f,null,{allOwnKeys:!0}),h.create=function(v){return Ec(Wn(d,v))},h}const Re=Ec(Xi);return Re.Axios=uo,Re.CanceledError=fr,Re.CancelToken=Zm,Re.isCancel=lc,Re.VERSION=Cc,Re.toFormData=dr,Re.AxiosError=te,Re.Cancel=Re.CanceledError,Re.all=function(d){return Promise.all(d)},Re.spread=eg,Re.isAxiosError=tg,Re.mergeConfig=Wn,Re.AxiosHeaders=Tt,Re.formToJSON=d=>ic(b.isHTMLForm(d)?new FormData(d):d),Re.getAdapter=_c.getAdapter,Re.HttpStatusCode=ng,Re.default=Re,La=Re,La}var Wd;function Mh(){if(Wd)return on;Wd=1;var e=on&&on.__assign||function(){return e=Object.assign||function(s){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s},e.apply(this,arguments)};Object.defineProperty(on,"__esModule",{value:!0}),on.getRequestHeaders=on.getAxiosClient=void 0;var t=Av();function n(s,o,i,a,l){var c=t.default.create({baseURL:s,headers:r(o,a,i,s,l),withCredentials:!0});return c.interceptors.request.use(function(p){return typeof window<"u"&&window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(p.headers["X-Frappe-CSRF-Token"]=window.csrf_token),o&&a&&i&&(p.headers.Authorization="".concat(a," ").concat(i())),p}),c}on.getAxiosClient=n;function r(s,o,i,a,l){s===void 0&&(s=!1);var c={Accept:"application/json","Content-Type":"application/json; charset=utf-8"};return s&&o&&i&&(c.Authorization="".concat(o," ").concat(i())),typeof window<"u"&&typeof document<"u"&&(window.location&&(a&&a!==window.location.origin||(c["X-Frappe-Site-Name"]=window.location.hostname)),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(c["X-Frappe-CSRF-Token"]=window.csrf_token)),e(e({},c),l??{})}return on.getRequestHeaders=r,on}var Kd;function Uh(){if(Kd)return Lt;Kd=1;var e=Lt&&Lt.__assign||function(){return e=Object.assign||function(o){for(var i,a=1,l=arguments.length;a<l;a++){i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(o[c]=i[c])}return o},e.apply(this,arguments)},t=Lt&&Lt.__awaiter||function(o,i,a,l){function c(p){return p instanceof a?p:new a(function(g){g(p)})}return new(a||(a=Promise))(function(p,g){function y(k){try{S(l.next(k))}catch(P){g(P)}}function m(k){try{S(l.throw(k))}catch(P){g(P)}}function S(k){k.done?p(k.value):c(k.value).then(y,m)}S((l=l.apply(o,i||[])).next())})},n=Lt&&Lt.__generator||function(o,i){var a={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},l,c,p,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(S){return function(k){return m([S,k])}}function m(S){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,S[0]&&(a=0)),a;)try{if(l=1,c&&(p=S[0]&2?c.return:S[0]?c.throw||((p=c.return)&&p.call(c),0):c.next)&&!(p=p.call(c,S[1])).done)return p;switch(c=0,p&&(S=[S[0]&2,p.value]),S[0]){case 0:case 1:p=S;break;case 4:return a.label++,{value:S[1],done:!1};case 5:a.label++,c=S[1],S=[0];continue;case 7:S=a.ops.pop(),a.trys.pop();continue;default:if(p=a.trys,!(p=p.length>0&&p[p.length-1])&&(S[0]===6||S[0]===2)){a=0;continue}if(S[0]===3&&(!p||S[1]>p[0]&&S[1]<p[3])){a.label=S[1];break}if(S[0]===6&&a.label<p[1]){a.label=p[1],p=S;break}if(p&&a.label<p[2]){a.label=p[2],a.ops.push(S);break}p[2]&&a.ops.pop(),a.trys.pop();continue}S=i.call(o,a)}catch(k){S=[6,k],c=0}finally{l=p=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.FrappeFileUpload=void 0;var r=Mh(),s=function(){function o(i,a,l,c,p,g){this.appURL=i,this.axios=a,this.useToken=l??!1,this.token=c,this.tokenType=p,this.customHeaders=g}return o.prototype.uploadFile=function(i,a,l,c){return c===void 0&&(c="upload_file"),t(this,void 0,void 0,function(){var p,g,y,m,S,k,P,w;return n(this,function(x){return p=new FormData,i&&p.append("file",i,i.name),g=a.isPrivate,y=a.folder,m=a.file_url,S=a.doctype,k=a.docname,P=a.fieldname,w=a.otherData,g&&p.append("is_private","1"),y&&p.append("folder",y),m&&p.append("file_url",m),S&&k&&(p.append("doctype",S),p.append("docname",k),P&&p.append("fieldname",P)),w&&Object.keys(w).forEach(function(_){var j=w[_];p.append(_,j)}),[2,this.axios.post("/api/method/".concat(c),p,{onUploadProgress:function(_){l&&l(_.loaded,_.total,_)},headers:e(e({},(0,r.getRequestHeaders)(this.useToken,this.tokenType,this.token,this.appURL,this.customHeaders)),{"Content-Type":"multipart/form-data"})}).catch(function(_){var j,O;throw e(e({},_.response.data),{httpStatus:_.response.status,httpStatusText:_.response.statusText,message:(j=_.response.data.message)!==null&&j!==void 0?j:"There was an error while uploading the file.",exception:(O=_.response.data.exception)!==null&&O!==void 0?O:""})})]})})},o}();return Lt.FrappeFileUpload=s,Lt}var Qd;function Fv(){if(Qd)return cs;Qd=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.FrappeApp=void 0;var e=$h(),t=zh(),n=Bh(),r=Uh(),s=Mh(),o=function(){function i(a,l,c,p){var g,y;this.url=a,this.name=c??"FrappeApp",this.useToken=(g=l==null?void 0:l.useToken)!==null&&g!==void 0?g:!1,this.token=l==null?void 0:l.token,this.tokenType=(y=l==null?void 0:l.type)!==null&&y!==void 0?y:"Bearer",this.customHeaders=p,this.axios=(0,s.getAxiosClient)(this.url,this.useToken,this.token,this.tokenType,this.customHeaders)}return i.prototype.auth=function(){return new e.FrappeAuth(this.url,this.axios,this.useToken,this.token,this.tokenType)},i.prototype.db=function(){return new n.FrappeDB(this.url,this.axios,this.useToken,this.token,this.tokenType)},i.prototype.file=function(){return new r.FrappeFileUpload(this.url,this.axios,this.useToken,this.token,this.tokenType,this.customHeaders)},i.prototype.call=function(){return new t.FrappeCall(this.url,this.axios,this.useToken,this.token,this.tokenType)},i}();return cs.FrappeApp=o,cs}var At={},Yd;function Iv(){if(Yd)return At;Yd=1;var e=At&&At.__assign||function(){return e=Object.assign||function(s){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s},e.apply(this,arguments)},t=At&&At.__awaiter||function(s,o,i,a){function l(c){return c instanceof i?c:new i(function(p){p(c)})}return new(i||(i=Promise))(function(c,p){function g(S){try{m(a.next(S))}catch(k){p(k)}}function y(S){try{m(a.throw(S))}catch(k){p(k)}}function m(S){S.done?c(S.value):l(S.value).then(g,y)}m((a=a.apply(s,o||[])).next())})},n=At&&At.__generator||function(s,o){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,p;return p={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function g(m){return function(S){return y([m,S])}}function y(m){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,m[0]&&(i=0)),i;)try{if(a=1,l&&(c=m[0]&2?l.return:m[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,m[1])).done)return c;switch(l=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,l=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){i.label=m[1];break}if(m[0]===6&&i.label<c[1]){i.label=c[1],c=m;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(m);break}c[2]&&i.ops.pop(),i.trys.pop();continue}m=o.call(s,i)}catch(S){m=[6,S],l=0}finally{a=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(At,"__esModule",{value:!0}),At.FrappeAuth=void 0;var r=function(){function s(o,i,a,l,c){this.appURL=o,this.axios=i,this.useToken=a??!1,this.token=l,this.tokenType=c}return s.prototype.loginWithUsernamePassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.post("/api/method/login",{usr:o.username,pwd:o.password,otp:o.otp,tmp_id:o.tmp_id,device:o.device}).then(function(a){return a.data}).catch(function(a){var l,c;throw e(e({},a.response.data),{httpStatus:a.response.status,httpStatusText:a.response.statusText,message:(l=a.response.data.message)!==null&&l!==void 0?l:"There was an error while logging in",exception:(c=a.response.data.exception)!==null&&c!==void 0?c:""})})]})})},s.prototype.getLoggedInUser=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.get("/api/method/frappe.auth.get_logged_user").then(function(i){return i.data.message}).catch(function(i){var a;throw e(e({},i.response.data),{httpStatus:i.response.status,httpStatusText:i.response.statusText,message:"There was an error while fetching the logged in user",exception:(a=i.response.data.exception)!==null&&a!==void 0?a:""})})]})})},s.prototype.logout=function(){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,this.axios.post("/api/method/logout",{}).then(function(){}).catch(function(i){var a,l;throw e(e({},i.response.data),{httpStatus:i.response.status,httpStatusText:i.response.statusText,message:(a=i.response.data.message)!==null&&a!==void 0?a:"There was an error while logging out",exception:(l=i.response.data.exception)!==null&&l!==void 0?l:""})})]})})},s.prototype.forgetPassword=function(o){return t(this,void 0,void 0,function(){return n(this,function(i){return[2,this.axios.post("/",{cmd:"frappe.core.doctype.user.user.reset_password",user:o}).then(function(){}).catch(function(a){var l,c;throw e(e({},a.response.data),{httpStatus:a.response.status,httpStatusText:a.response.statusText,message:(l=a.response.data.message)!==null&&l!==void 0?l:"There was an error sending password reset email.",exception:(c=a.response.data.exception)!==null&&c!==void 0?c:""})})]})})},s}();return At.FrappeAuth=r,At}var Jd;function $h(){return Jd||(Jd=1,function(e){var t=mr&&mr.__createBinding||(Object.create?function(r,s,o,i){i===void 0&&(i=o);var a=Object.getOwnPropertyDescriptor(s,o);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(r,i,a)}:function(r,s,o,i){i===void 0&&(i=o),r[i]=s[o]}),n=mr&&mr.__exportStar||function(r,s){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(Fv(),e),n(Iv(),e),n(Bh(),e),n(Uh(),e),n(zh(),e)}(mr)),mr}var Dv=$h(),Xd={exports:{}},Aa={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd;function zv(){if(Gd)return Aa;Gd=1;var e=qr;function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,i=e.useDebugValue;function a(g,y){var m=y(),S=r({inst:{value:m,getSnapshot:y}}),k=S[0].inst,P=S[1];return o(function(){k.value=m,k.getSnapshot=y,l(k)&&P({inst:k})},[g,m,y]),s(function(){return l(k)&&P({inst:k}),g(function(){l(k)&&P({inst:k})})},[g]),i(m),m}function l(g){var y=g.getSnapshot;g=g.value;try{var m=y();return!n(g,m)}catch{return!0}}function c(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Aa.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Aa}var Zd;function Bv(){return Zd||(Zd=1,Xd.exports=zv()),Xd.exports}var Mv=Bv();const Vh=0,Hh=1,qh=2,ef=3;var tf=Object.prototype.hasOwnProperty;function zl(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&zl(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(tf.call(e,n)&&++r&&!tf.call(t,n)||!(n in t)||!zl(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const un=new WeakMap,On=()=>{},He=On(),Ci=Object,pe=e=>e===He,Bt=e=>typeof e=="function",yn=(e,t)=>({...e,...t}),Wh=e=>Bt(e.then),Fa={},Ro={},Ku="undefined",Js=typeof window!=Ku,Bl=typeof document!=Ku,Uv=Js&&"Deno"in window,$v=()=>Js&&typeof window.requestAnimationFrame!=Ku,Kh=(e,t)=>{const n=un.get(e);return[()=>!pe(t)&&e.get(t)||Fa,r=>{if(!pe(t)){const s=e.get(t);t in Ro||(Ro[t]=s),n[5](t,yn(s,r),s||Fa)}},n[6],()=>!pe(t)&&t in Ro?Ro[t]:!pe(t)&&e.get(t)||Fa]};let Ml=!0;const Vv=()=>Ml,[Ul,$l]=Js&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[On,On],Hv=()=>{const e=Bl&&document.visibilityState;return pe(e)||e!=="hidden"},qv=e=>(Bl&&document.addEventListener("visibilitychange",e),Ul("focus",e),()=>{Bl&&document.removeEventListener("visibilitychange",e),$l("focus",e)}),Wv=e=>{const t=()=>{Ml=!0,e()},n=()=>{Ml=!1};return Ul("online",t),Ul("offline",n),()=>{$l("online",t),$l("offline",n)}},Kv={isOnline:Vv,isVisible:Hv},Qv={initFocus:qv,initReconnect:Wv},nf=!qr.useId,Hs=!Js||Uv,Yv=e=>$v()?window.requestAnimationFrame(e):setTimeout(e,1),Yo=Hs?T.useEffect:T.useLayoutEffect,Ia=typeof navigator<"u"&&navigator.connection,rf=!Hs&&Ia&&(["slow-2g","2g"].includes(Ia.effectiveType)||Ia.saveData),Po=new WeakMap,Jv=e=>Ci.prototype.toString.call(e),Da=(e,t)=>e===`[object ${t}]`;let Xv=0;const Vl=e=>{const t=typeof e,n=Jv(e),r=Da(n,"Date"),s=Da(n,"RegExp"),o=Da(n,"Object");let i,a;if(Ci(e)===e&&!r&&!s){if(i=Po.get(e),i)return i;if(i=++Xv+"~",Po.set(e,i),Array.isArray(e)){for(i="@",a=0;a<e.length;a++)i+=Vl(e[a])+",";Po.set(e,i)}if(o){i="#";const l=Ci.keys(e).sort();for(;!pe(a=l.pop());)pe(e[a])||(i+=a+":"+Vl(e[a])+",");Po.set(e,i)}}else i=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},Qu=e=>{if(Bt(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Vl(e):"",[e,t]};let Gv=0;const Hl=()=>++Gv;async function Qh(...e){const[t,n,r,s]=e,o=yn({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let i=o.populateCache;const a=o.rollbackOnError;let l=o.optimisticData;const c=y=>typeof a=="function"?a(y):a!==!1,p=o.throwOnError;if(Bt(n)){const y=n,m=[],S=t.keys();for(const k of S)!/^\$(inf|sub)\$/.test(k)&&y(t.get(k)._k)&&m.push(k);return Promise.all(m.map(g))}return g(n);async function g(y){const[m]=Qu(y);if(!m)return;const[S,k]=Kh(t,m),[P,w,x,_]=un.get(t),j=()=>{const J=P[m];return(Bt(o.revalidate)?o.revalidate(S().data,y):o.revalidate!==!1)&&(delete x[m],delete _[m],J&&J[0])?J[0](qh).then(()=>S().data):S().data};if(e.length<3)return j();let O=r,I,F=!1;const L=Hl();w[m]=[L,0];const H=!pe(l),R=S(),U=R.data,Z=R._c,A=pe(Z)?U:Z;if(H&&(l=Bt(l)?l(A,U):l,k({data:l,_c:A})),Bt(O))try{O=O(A)}catch(J){I=J,F=!0}if(O&&Wh(O))if(O=await O.catch(J=>{I=J,F=!0}),L!==w[m][0]){if(F)throw I;return O}else F&&H&&c(I)&&(i=!0,k({data:A,_c:He}));if(i&&!F)if(Bt(i)){const J=i(O,A);k({data:J,error:He,_c:He})}else k({data:O,error:He,_c:He});if(w[m][1]=Hl(),Promise.resolve(j()).then(()=>{k({_c:He})}),F){if(p)throw I;return}return O}}const sf=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},Yh=(e,t)=>{if(!un.has(e)){const n=yn(Qv,t),r=Object.create(null),s=Qh.bind(He,e);let o=On;const i=Object.create(null),a=(p,g)=>{const y=i[p]||[];return i[p]=y,y.push(g),()=>y.splice(y.indexOf(g),1)},l=(p,g,y)=>{e.set(p,g);const m=i[p];if(m)for(const S of m)S(g,y)},c=()=>{if(!un.has(e)&&(un.set(e,[r,Object.create(null),Object.create(null),Object.create(null),s,l,a]),!Hs)){const p=n.initFocus(setTimeout.bind(He,sf.bind(He,r,Vh))),g=n.initReconnect(setTimeout.bind(He,sf.bind(He,r,Hh)));o=()=>{p&&p(),g&&g(),un.delete(e)}}};return c(),[e,s,c,o]}return[e,un.get(e)[4]]},Zv=(e,t,n,r,s)=>{const o=n.errorRetryCount,i=s.retryCount,a=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;!pe(o)&&i>o||setTimeout(r,a,s)},e0=zl,[Yu,t0]=Yh(new Map),Jh=yn({onLoadingSlow:On,onSuccess:On,onError:On,onErrorRetry:Zv,onDiscarded:On,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:rf?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:rf?5e3:3e3,compare:e0,isPaused:()=>!1,cache:Yu,mutate:t0,fallback:{}},Kv),Xh=(e,t)=>{const n=yn(e,t);if(t){const{use:r,fallback:s}=e,{use:o,fallback:i}=t;r&&o&&(n.use=r.concat(o)),s&&i&&(n.fallback=yn(s,i))}return n},ql=T.createContext({}),n0=e=>{const{value:t}=e,n=T.useContext(ql),r=Bt(t),s=T.useMemo(()=>r?t(n):t,[r,n,t]),o=T.useMemo(()=>r?s:Xh(n,s),[r,n,s]),i=s&&s.provider,a=T.useRef(He);i&&!a.current&&(a.current=Yh(i(o.cache||Yu),s));const l=a.current;return l&&(o.cache=l[0],o.mutate=l[1]),Yo(()=>{if(l)return l[2]&&l[2](),l[3]},[]),T.createElement(ql.Provider,yn(e,{value:o}))},r0="$inf$",Gh=Js&&window.__SWR_DEVTOOLS_USE__,s0=Gh?window.__SWR_DEVTOOLS_USE__:[],o0=()=>{Gh&&(window.__SWR_DEVTOOLS_REACT__=qr)},i0=e=>Bt(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],a0=()=>{const e=T.useContext(ql);return T.useMemo(()=>yn(Jh,e),[e])},l0=e=>(t,n,r)=>e(t,n&&((...s)=>{const[o]=Qu(t),[,,,i]=un.get(Yu);if(o.startsWith(r0))return n(...s);const a=i[o];return pe(a)?n(...s):(delete i[o],a)}),r),u0=s0.concat(l0),c0=e=>function(...t){const n=a0(),[r,s,o]=i0(t),i=Xh(n,o);let a=e;const{use:l}=i,c=(l||[]).concat(u0);for(let p=c.length;p--;)a=c[p](a);return a(r,s||i.fetcher||null,i)},d0=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}};o0();const za=qr.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Ba={dedupe:!0},of=Promise.resolve(He),f0=(e,t,n)=>{const{cache:r,compare:s,suspense:o,fallbackData:i,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:p,refreshWhenOffline:g,keepPreviousData:y}=n,[m,S,k,P]=un.get(r),[w,x]=Qu(e),_=T.useRef(!1),j=T.useRef(!1),O=T.useRef(w),I=T.useRef(t),F=T.useRef(n),L=()=>F.current,H=()=>L().isVisible()&&L().isOnline(),[R,U,Z,A]=Kh(r,w),J=T.useRef({}).current,ee=pe(i)?pe(n.fallback)?He:n.fallback[w]:i,oe=(ae,ve)=>{for(const ke in J){const ce=ke;if(ce==="data"){if(!s(ae[ce],ve[ce])&&(!pe(ae[ce])||!s($e,ve[ce])))return!1}else if(ve[ce]!==ae[ce])return!1}return!0},G=T.useMemo(()=>{const ae=!w||!t?!1:pe(a)?L().isPaused()||o?!1:l!==!1:a,ve=Fe=>{const vt=yn(Fe);return delete vt._k,ae?{isValidating:!0,isLoading:!0,...vt}:vt},ke=R(),ce=A(),Nt=ve(ke),bt=ke===ce?Nt:ve(ce);let Be=Nt;return[()=>{const Fe=ve(R());return oe(Fe,Be)?(Be.data=Fe.data,Be.isLoading=Fe.isLoading,Be.isValidating=Fe.isValidating,Be.error=Fe.error,Be):(Be=Fe,Fe)},()=>bt]},[r,w]),D=Mv.useSyncExternalStore(T.useCallback(ae=>Z(w,(ve,ke)=>{oe(ke,ve)||ae()}),[r,w]),G[0],G[1]),W=!_.current,X=m[w]&&m[w].length>0,ie=D.data,me=pe(ie)?ee&&Wh(ee)?za(ee):ee:ie,fe=D.error,ye=T.useRef(me),$e=y?pe(ie)?pe(ye.current)?me:ye.current:ie:me,Ke=X&&!pe(fe)?!1:W&&!pe(a)?a:L().isPaused()?!1:o?pe(me)?!1:l:pe(me)||l,dt=!!(w&&t&&W&&Ke),Yr=pe(D.isValidating)?dt:D.isValidating,Jr=pe(D.isLoading)?dt:D.isLoading,tn=T.useCallback(async ae=>{const ve=I.current;if(!w||!ve||j.current||L().isPaused())return!1;let ke,ce,Nt=!0;const bt=ae||{},Be=!k[w]||!bt.dedupe,Fe=()=>nf?!j.current&&w===O.current&&_.current:w===O.current,vt={isValidating:!1,isLoading:!1},rn=()=>{U(vt)},ur=()=>{const Qe=k[w];Qe&&Qe[1]===ce&&delete k[w]},qn={isValidating:!0};pe(R().data)&&(qn.isLoading=!0);try{if(Be&&(U(qn),n.loadingTimeout&&pe(R().data)&&setTimeout(()=>{Nt&&Fe()&&L().onLoadingSlow(w,n)},n.loadingTimeout),k[w]=[ve(x),Hl()]),[ke,ce]=k[w],ke=await ke,Be&&setTimeout(ur,n.dedupingInterval),!k[w]||k[w][1]!==ce)return Be&&Fe()&&L().onDiscarded(w),!1;vt.error=He;const Qe=S[w];if(!pe(Qe)&&(ce<=Qe[0]||ce<=Qe[1]||Qe[1]===0))return rn(),Be&&Fe()&&L().onDiscarded(w),!1;const b=R().data;vt.data=s(b,ke)?b:ke,Be&&Fe()&&L().onSuccess(ke,w,n)}catch(Qe){ur();const b=L(),{shouldRetryOnError:te}=b;b.isPaused()||(vt.error=Qe,Be&&Fe()&&(b.onError(Qe,w,b),(te===!0||Bt(te)&&te(Qe))&&(!L().revalidateOnFocus||!L().revalidateOnReconnect||H())&&b.onErrorRetry(Qe,w,b,cr=>{const sn=m[w];sn&&sn[0]&&sn[0](ef,cr)},{retryCount:(bt.retryCount||0)+1,dedupe:!0})))}return Nt=!1,rn(),!0},[w,r]),nn=T.useCallback((...ae)=>Qh(r,O.current,...ae),[]);if(Yo(()=>{I.current=t,F.current=n,pe(ie)||(ye.current=ie)}),Yo(()=>{if(!w)return;const ae=tn.bind(He,Ba);let ve=0;L().revalidateOnFocus&&(ve=Date.now()+L().focusThrottleInterval);const ke=d0(w,m,(ce,Nt={})=>{if(ce==Vh){const bt=Date.now();L().revalidateOnFocus&&bt>ve&&H()&&(ve=bt+L().focusThrottleInterval,ae())}else if(ce==Hh)L().revalidateOnReconnect&&H()&&ae();else{if(ce==qh)return tn();if(ce==ef)return tn(Nt)}});return j.current=!1,O.current=w,_.current=!0,U({_k:x}),Ke&&(k[w]||(pe(me)||Hs?ae():Yv(ae))),()=>{j.current=!0,ke()}},[w]),Yo(()=>{let ae;function ve(){const ce=Bt(c)?c(R().data):c;ce&&ae!==-1&&(ae=setTimeout(ke,ce))}function ke(){!R().error&&(p||L().isVisible())&&(g||L().isOnline())?tn(Ba).then(ve):ve()}return ve(),()=>{ae&&(clearTimeout(ae),ae=-1)}},[c,p,g,w]),T.useDebugValue($e),o){const ae=w&&pe(me);if(!nf&&Hs&&ae)throw new Error("Fallback data is required when using Suspense in SSR.");ae&&(I.current=t,F.current=n,j.current=!1);const ve=P[w],ke=!pe(ve)&&ae?nn(ve):of;if(za(ke),!pe(fe)&&ae)throw fe;const ce=ae?tn(Ba):of;!pe($e)&&ae&&(ce.status="fulfilled",ce.value=!0),za(ce)}return{mutate:nn,get data(){return J.data=!0,$e},get error(){return J.error=!0,fe},get isValidating(){return J.isValidating=!0,Yr},get isLoading(){return J.isLoading=!0,Jr}}},p0=Ci.defineProperty(n0,"defaultValue",{value:Jh}),h0=c0(f0);Promise.resolve();const en=Object.create(null);en.open="0";en.close="1";en.ping="2";en.pong="3";en.message="4";en.upgrade="5";en.noop="6";const Jo=Object.create(null);Object.keys(en).forEach(e=>{Jo[en[e]]=e});const Wl={type:"error",data:"parser error"},Zh=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",em=typeof ArrayBuffer=="function",tm=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ju=({type:e,data:t},n,r)=>Zh&&t instanceof Blob?n?r(t):af(t,r):em&&(t instanceof ArrayBuffer||tm(t))?n?r(t):af(new Blob([t]),r):r(en[e]+(t||"")),af=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function lf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ma;function m0(e,t){if(Zh&&e.data instanceof Blob)return e.data.arrayBuffer().then(lf).then(t);if(em&&(e.data instanceof ArrayBuffer||tm(e.data)))return t(lf(e.data));Ju(e,!1,n=>{Ma||(Ma=new TextEncoder),t(Ma.encode(n))})}const uf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ys=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<uf.length;e++)ys[uf.charCodeAt(e)]=e;const g0=e=>{let t=e.length*.75,n=e.length,r,s=0,o,i,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),p=new Uint8Array(c);for(r=0;r<n;r+=4)o=ys[e.charCodeAt(r)],i=ys[e.charCodeAt(r+1)],a=ys[e.charCodeAt(r+2)],l=ys[e.charCodeAt(r+3)],p[s++]=o<<2|i>>4,p[s++]=(i&15)<<4|a>>2,p[s++]=(a&3)<<6|l&63;return c},y0=typeof ArrayBuffer=="function",Xu=(e,t)=>{if(typeof e!="string")return{type:"message",data:nm(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:v0(e.substring(1),t)}:Jo[n]?e.length>1?{type:Jo[n],data:e.substring(1)}:{type:Jo[n]}:Wl},v0=(e,t)=>{if(y0){const n=g0(e);return nm(n,t)}else return{base64:!0,data:e}},nm=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},rm="",w0=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((o,i)=>{Ju(o,!1,a=>{r[i]=a,++s===n&&t(r.join(rm))})})},x0=(e,t)=>{const n=e.split(rm),r=[];for(let s=0;s<n.length;s++){const o=Xu(n[s],t);if(r.push(o),o.type==="error")break}return r};function S0(){return new TransformStream({transform(e,t){m0(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Ua;function Lo(e){return e.reduce((t,n)=>t+n.length,0)}function Ao(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function _0(e,t){Ua||(Ua=new TextDecoder);const n=[];let r=0,s=-1,o=!1;return new TransformStream({transform(i,a){for(n.push(i);;){if(r===0){if(Lo(n)<1)break;const l=Ao(n,1);o=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Lo(n)<2)break;const l=Ao(n,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(Lo(n)<8)break;const l=Ao(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),p=c.getUint32(0);if(p>Math.pow(2,21)-1){a.enqueue(Wl);break}s=p*Math.pow(2,32)+c.getUint32(4),r=3}else{if(Lo(n)<s)break;const l=Ao(n,s);a.enqueue(Xu(o?l:Ua.decode(l),t)),r=0}if(s===0||s>e){a.enqueue(Wl);break}}}})}const sm=4;function Ae(e){if(e)return k0(e)}function k0(e){for(var t in Ae.prototype)e[t]=Ae.prototype[t];return e}Ae.prototype.on=Ae.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ae.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Ae.prototype.off=Ae.prototype.removeListener=Ae.prototype.removeAllListeners=Ae.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Ae.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};Ae.prototype.emitReserved=Ae.prototype.emit;Ae.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ae.prototype.hasListeners=function(e){return!!this.listeners(e).length};const St=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function om(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const C0=St.setTimeout,j0=St.clearTimeout;function $i(e,t){t.useNativeTimers?(e.setTimeoutFn=C0.bind(St),e.clearTimeoutFn=j0.bind(St)):(e.setTimeoutFn=St.setTimeout.bind(St),e.clearTimeoutFn=St.clearTimeout.bind(St))}const E0=1.33;function N0(e){return typeof e=="string"?b0(e):Math.ceil((e.byteLength||e.size)*E0)}function b0(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function T0(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function O0(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class R0 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Gu extends Ae{constructor(t){super(),this.writable=!1,$i(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new R0(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Xu(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=T0(t);return n.length?"?"+n:""}}const im="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Kl=64,P0={};let cf=0,Fo=0,df;function ff(e){let t="";do t=im[e%Kl]+t,e=Math.floor(e/Kl);while(e>0);return t}function am(){const e=ff(+new Date);return e!==df?(cf=0,df=e):e+"."+ff(cf++)}for(;Fo<Kl;Fo++)P0[im[Fo]]=Fo;let lm=!1;try{lm=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const L0=lm;function um(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||L0))return new XMLHttpRequest}catch{}if(!t)try{return new St[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function A0(){}const F0=function(){return new um({xdomain:!1}).responseType!=null}();class I0 extends Gu{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}const n=t&&t.forceBase64;this.supportsBinary=F0&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};x0(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,w0(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=am()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Zt(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Zt extends Ae{constructor(t,n){super(),$i(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=om(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new um(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=Zt.requestsCount++,Zt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=A0,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Zt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Zt.requestsCount=0;Zt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",pf);else if(typeof addEventListener=="function"){const e="onpagehide"in St?"pagehide":"unload";addEventListener(e,pf,!1)}}function pf(){for(let e in Zt.requests)Zt.requests.hasOwnProperty(e)&&Zt.requests[e].abort()}const Zu=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Io=St.WebSocket||St.MozWebSocket,hf=!0,D0="arraybuffer",mf=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class z0 extends Gu{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=mf?{}:om(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=hf&&!mf?n?new Io(t,n):new Io(t):new Io(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Ju(r,this.supportsBinary,o=>{try{hf&&this.ws.send(o)}catch{}s&&Zu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=am()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Io}}class B0 extends Gu{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=_0(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=S0();s.readable.pipeTo(t.writable),this.writer=s.writable.getWriter();const o=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),o())}).catch(a=>{})};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this.writer.write(i).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this.writer.write(r).then(()=>{s&&Zu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const M0={websocket:z0,webtransport:B0,polling:I0},U0=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ql(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=U0.exec(e||""),o={},i=14;for(;i--;)o[$0[i]]=s[i]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=V0(o,o.path),o.queryKey=H0(o,o.query),o}function V0(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function H0(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,o){s&&(n[s]=o)}),n}let cm=class gr extends Ae{constructor(t,n={}){super(),this.binaryType=D0,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Ql(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Ql(n.host).host),$i(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=O0(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=sm,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new M0[t](r)}open(){let t;if(this.opts.rememberUpgrade&&gr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;gr.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;gr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=n.name,this.emitReserved("upgradeError",y)}}))};function o(){r||(r=!0,p(),n.close(),n=null)}const i=g=>{const y=new Error("probe error: "+g);y.transport=n.name,o(),this.emitReserved("upgradeError",y)};function a(){i("transport closed")}function l(){i("socket closed")}function c(g){n&&g.name!==n.name&&o()}const p=()=>{n.removeListener("open",s),n.removeListener("error",i),n.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};n.once("open",s),n.once("error",i),n.once("close",a),this.once("close",l),this.once("upgrading",c),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",gr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+=N0(r)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){gr.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const s=t.length;for(;r<s;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};cm.protocol=sm;function q0(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Ql(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const W0=typeof ArrayBuffer=="function",K0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,dm=Object.prototype.toString,Q0=typeof Blob=="function"||typeof Blob<"u"&&dm.call(Blob)==="[object BlobConstructor]",Y0=typeof File=="function"||typeof File<"u"&&dm.call(File)==="[object FileConstructor]";function ec(e){return W0&&(e instanceof ArrayBuffer||K0(e))||Q0&&e instanceof Blob||Y0&&e instanceof File}function Xo(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Xo(e[n]))return!0;return!1}if(ec(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Xo(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Xo(e[n]))return!0;return!1}function J0(e){const t=[],n=e.data,r=e;return r.data=Yl(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Yl(e,t){if(!e)return e;if(ec(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Yl(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Yl(e[r],t));return n}return e}function X0(e,t){return e.data=Jl(e.data,t),delete e.attachments,e}function Jl(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Jl(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Jl(e[n],t));return e}const G0=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Z0=5;var ue;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ue||(ue={}));class ew{constructor(t){this.replacer=t}encode(t){return(t.type===ue.EVENT||t.type===ue.ACK)&&Xo(t)?this.encodeAsBinary({type:t.type===ue.EVENT?ue.BINARY_EVENT:ue.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ue.BINARY_EVENT||t.type===ue.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=J0(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function gf(e){return Object.prototype.toString.call(e)==="[object Object]"}class tc extends Ae{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===ue.BINARY_EVENT;r||n.type===ue.BINARY_ACK?(n.type=r?ue.EVENT:ue.ACK,this.reconstructor=new tw(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ec(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(ue[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ue.BINARY_EVENT||r.type===ue.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(o,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(i)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const o=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(tc.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ue.CONNECT:return gf(n);case ue.DISCONNECT:return n===void 0;case ue.CONNECT_ERROR:return typeof n=="string"||gf(n);case ue.EVENT:case ue.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&G0.indexOf(n[0])===-1);case ue.ACK:case ue.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class tw{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=X0(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const nw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:tc,Encoder:ew,get PacketType(){return ue},protocol:Z0},Symbol.toStringTag,{value:"Module"}));function Dt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const rw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class fm extends Ae{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Dt(t,"open",this.onopen.bind(this)),Dt(t,"packet",this.onpacket.bind(this)),Dt(t,"error",this.onerror.bind(this)),Dt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(rw.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:ue.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,i=n.pop();this._registerAckCallback(o,i),r.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let i=0;i<this.sendBuffer.length;i++)this.sendBuffer[i].id===t&&this.sendBuffer.splice(i,1);n.call(this,new Error("operation has timed out"))},s);this.acks[t]=(...i)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...i])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,o)=>{n.push((i,a)=>r?i?o(i):s(a):s(i)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...o)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ue.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ue.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ue.EVENT:case ue.BINARY_EVENT:this.onevent(t);break;case ue.ACK:case ue.BINARY_ACK:this.onack(t);break;case ue.DISCONNECT:this.ondisconnect();break;case ue.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:ue.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ue.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Qr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Qr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Qr.prototype.reset=function(){this.attempts=0};Qr.prototype.setMin=function(e){this.ms=e};Qr.prototype.setMax=function(e){this.max=e};Qr.prototype.setJitter=function(e){this.jitter=e};class Xl extends Ae{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,$i(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Qr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||nw;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new cm(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Dt(n,"open",function(){r.onopen(),t&&t()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},i=Dt(n,"error",o);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Dt(t,"ping",this.onping.bind(this)),Dt(t,"data",this.ondata.bind(this)),Dt(t,"error",this.onerror.bind(this)),Dt(t,"close",this.onclose.bind(this)),Dt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Zu(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new fm(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ds={};function Go(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=q0(e,t.path||"/socket.io"),r=n.source,s=n.id,o=n.path,i=ds[s]&&o in ds[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let l;return a?l=new Xl(r,t):(ds[s]||(ds[s]=new Xl(r,t)),l=ds[s]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(Go,{Manager:Xl,Socket:fm,io:Go,connect:Go});class sw{constructor(t,n,r,s){Qn(this,"socket_port"),Qn(this,"host"),Qn(this,"port"),Qn(this,"protocol"),Qn(this,"url"),Qn(this,"site_name"),Qn(this,"socket");var o,i,a,l;if(this.socket_port=r??"9000",this.host=(o=window.location)==null?void 0:o.hostname,this.port=(i=window.location)!=null&&i.port?`:${this.socket_port}`:"",this.protocol=((a=window.location)==null?void 0:a.protocol)==="https:"?"https":"http",t){let c=new URL(t);c.port="",r?(c.port=r,this.url=c.toString()):this.url=c.toString()}else this.url=`${this.protocol}://${this.host}${this.port}/`;n&&(this.url=`${this.url}${n}`),this.site_name=n,this.socket=Go(`${this.url}`,{withCredentials:!0,secure:this.protocol==="https",extraHeaders:s&&s.useToken===!0?{Authorization:`${s.type} ${(l=s.token)==null?void 0:l.call(s)}`}:{}})}}const nc=T.createContext(null),ow=({url:e="",tokenParams:t,socketPort:n,swrConfig:r,siteName:s,enableSocket:o=!0,children:i,customHeaders:a})=>{const l=T.useMemo(()=>{const c=new Dv.FrappeApp(e,t,void 0,a);return{url:e,tokenParams:t,app:c,auth:c.auth(),db:c.db(),call:c.call(),file:c.file(),socket:o?new sw(e,s,n,t).socket:void 0,enableSocket:o,socketPort:n}},[e,t,n,o,a]);return u.jsx(nc.Provider,{value:l,children:u.jsx(p0,{value:r,children:i})})};function iw(e){const t=[];for(let n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}const Vi=(e,t,n,r,s="GET")=>{const{call:o}=T.useContext(nc),i=iw(t??{}),a=`${e}?${i}`;return{...h0(n===void 0?a:n,s==="GET"?()=>o.get(e,t):()=>o.post(e,t),r)}},aw=e=>{const{call:t}=T.useContext(nc),[n,r]=T.useState(null),[s,o]=T.useState(!1),[i,a]=T.useState(null),[l,c]=T.useState(!1),p=T.useCallback(()=>{r(null),o(!1),a(null),c(!1)},[]);return{call:T.useCallback(async g=>(a(null),c(!1),o(!0),r(null),t.post(e,g).then(y=>(r(y),o(!1),c(!0),y)).catch(y=>{throw o(!1),c(!1),a(y),y})),[]),result:n,loading:s,error:i,reset:p,isCompleted:l}},lw=localStorage.getItem("imogi_debug")==="true"||new URLSearchParams(window.location.search).get("debug")==="true";function Un(e,t,n=null){const r=`[imogi][${e}]`;n!=null?console.log(r,t,n):console.log(r,t)}function _t(e,t,n=null){if(!lw)return;const r=`[imogi][${e}] `;n!=null?console.log(r,t,n):console.log(r,t)}function Mt(e,t,n=null){const r=`[imogi][${e}] `;n?n instanceof Error?console.error(r,t,{message:n.message,stack:n.stack,httpStatus:n.httpStatus,responseText:n.responseText}):console.error(r,t,n):console.error(r,t)}function uw(e,t,n=null){const r=`[imogi][${e}] `;n!=null?console.warn(r,t,n):console.warn(r,t)}function pm(e,t,n=null){const r=`[imogi][${e}] `;n!=null?console.log(r,t,n):console.log(r,t)}const yf=["imogi_debug","imogi_debug_logs"];function rc(e){return e.startsWith("imogi_")?e:`imogi_${e}`}function Xs(e){return e?sessionStorage:localStorage}function cw(e){if(!e||!e.ttl||!e.timestamp)return!1;const t=Date.now(),n=e.timestamp+e.ttl*1e3;return t>n}function hm(e,t=!1){const n=rc(e),r=Xs(t);try{const s=r.getItem(n);if(!s)return _t("storage",`Get: ${n} (not found)`),null;let o;try{o=JSON.parse(s)}catch{return _t("storage",`Get: ${n} (raw value)`),s}return o&&typeof o=="object"&&o.hasOwnProperty("value")?cw(o)?(_t("storage",`Get: ${n} (expired, removing)`),r.removeItem(n),null):(_t("storage",`Get: ${n} (TTL: ${o.ttl||"none"})`),o.value):(_t("storage",`Get: ${n}`),o)}catch(s){return Mt("storage",`Failed to get ${n}`,s),null}}function dw(e,t,n=null,r=!1){const s=rc(e),o=Xs(r);try{let i;n!==null&&n>0?(i={value:t,ttl:n,timestamp:Date.now()},Un("storage",`Set: ${s} (TTL: ${n}s)`)):(i=t,Un("storage",`Set: ${s}`)),o.setItem(s,JSON.stringify(i))}catch(i){Mt("storage",`Failed to set ${s}`,i)}}function fw(e,t=!1){const n=rc(e),r=Xs(t);try{r.removeItem(n),Un("storage",`Remove: ${n}`)}catch(s){Mt("storage",`Failed to remove ${n}`,s)}}function pw(e=!1){const t=Xs(e),n=e?"sessionStorage":"localStorage";try{const s=Object.keys(t).filter(o=>o.startsWith("imogi_"));Un("storage",`Clearing all imogi_* keys from ${n} (${s.length} keys)`),s.forEach(o=>{t.removeItem(o),_t("storage",`Removed: ${o}`)}),pm("storage",`Cleared ${s.length} keys from ${n}`)}catch(r){Mt("storage",`Failed to clear ${n}`,r)}}function hw(){Un("storage","Clearing non-persistent keys on logout...");try{sessionStorage.clear(),_t("storage","Cleared all sessionStorage");const t=Object.keys(localStorage).filter(r=>r.startsWith("imogi_"));let n=0;t.forEach(r=>{yf.includes(r)?_t("storage",`Kept persistent: ${r}`):(localStorage.removeItem(r),_t("storage",`Removed: ${r}`),n++)}),pm("storage",`Logout cleanup complete (${n} keys cleared, ${yf.length} kept)`)}catch(e){Mt("storage","Failed to clear on logout",e)}}function mw(e,t=!1){return hm(e,t)!==null}function gw(e=!1){const t=Xs(e);try{return Object.keys(t).filter(s=>s.startsWith("imogi_")).map(s=>s.replace("imogi_",""))}catch(n){return Mt("storage","Failed to get all keys",n),[]}}function yw(){try{const e={localStorage:{},sessionStorage:{}};return Object.keys(localStorage).forEach(t=>{if(t.startsWith("imogi_"))try{e.localStorage[t]=JSON.parse(localStorage.getItem(t))}catch{e.localStorage[t]=localStorage.getItem(t)}}),Object.keys(sessionStorage).forEach(t=>{if(t.startsWith("imogi_"))try{e.sessionStorage[t]=JSON.parse(sessionStorage.getItem(t))}catch{e.sessionStorage[t]=sessionStorage.getItem(t)}}),Un("storage","Exported all storage data",e),e}catch(e){return Mt("storage","Failed to export storage",e),null}}const Fr={getItem:hm,setItem:dw,removeItem:fw,clearAll:pw,clearOnLogout:hw,hasItem:mw,getAllKeys:gw,exportAll:yw},vf="operational_context_cache",wf=e=>Array.isArray(e)?e:[];function mm(e={}){const{autoResolve:t=!0}=e,[n,r]=T.useState(()=>Fr.getItem(vf)||null),[s,o]=T.useState(()=>{const _=window.__IMOGI_SERVER_CONTEXT_STATE__||{};return{ready:!!_.ready,loading:!!_.loading,error:_.error||null}}),{data:i,isLoading:a,error:l,mutate:c}=Vi("imogi_pos.utils.operational_context.get_operational_context",void 0,void 0,{revalidateOnFocus:!1,revalidateOnReconnect:!0,shouldRetryOnError:!1}),{call:p}=aw("imogi_pos.utils.operational_context.set_operational_context");T.useEffect(()=>{var H,R;if(!i)return;const j=((H=i.active_context)==null?void 0:H.pos_profile)?i.active_context:{pos_profile:i.current_pos_profile,branch:i.current_branch},O={pos_profile:j.pos_profile||null,branch:j.branch||null,available_pos_profiles:wf(i.available_pos_profiles),branches:wf(i.branches),require_selection:i.require_selection||!1,has_access:i.has_access!==!1,role_class:i.role_class||null,is_privileged:i.is_privileged||!1,context_required:i.context_required!==!1};r(O),j.pos_profile&&Fr.setItem(vf,j);const I=(R=i.active_context)==null?void 0:R.pos_profile,F=i.current_pos_profile;t&&(F&&(!I||I!==F))&&(console.log("[OperationalContext] Auto-setting context on server:",{resolved:F,serverHas:I||"none"}),p({pos_profile:i.current_pos_profile,branch:i.current_branch||null}).catch(U=>{console.warn("[OperationalContext] Failed to auto-set context on server:",U)}))},[i,t,p]),T.useEffect(()=>{const _=j=>{j!=null&&j.detail&&o({ready:!!j.detail.ready,loading:!!j.detail.loading,error:j.detail.error||null})};return window.addEventListener("imogiServerContextUpdated",_),()=>window.removeEventListener("imogiServerContextUpdated",_)},[]);const g=T.useCallback(async _=>{if(!_||!_.pos_profile)throw new Error("pos_profile is required when setting context");try{const j=await p({pos_profile:_.pos_profile,branch:_.branch||null});if(j!=null&&j.success){const O=j.context||_;return r({pos_profile:O.pos_profile,branch:O.branch,...n}),Fr.setItem("operational_context_cache",O),window.dispatchEvent(new CustomEvent("operationalContextChanged",{detail:O})),c(),{success:!0,context:O}}throw new Error((j==null?void 0:j.message)||"Failed to set operational context")}catch(j){throw console.error("Error setting operational context:",j),j}},[p,n,c]),y=T.useCallback(async(_={})=>{if(typeof window.ensureOperationalContext!="function")throw new Error("ensureOperationalContext is not available");return window.ensureOperationalContext({pos_profile:_.pos_profile||(n==null?void 0:n.pos_profile)||null,branch:_.branch||(n==null?void 0:n.branch)||null,route:_.route,module:_.module,force:_.force===!0})},[n]),m=T.useCallback((_={})=>{const{redirect:j=!0,allowOptional:O=!1}=_;if(!n){if(j)return window.location.href="/app/imogi-module-select",null;throw new Error("Operational context required but not set")}if(n.context_required&&!n.pos_profile){if(n.require_selection){if(j)return window.location.href="/app/imogi-module-select",null;throw new Error("POS Profile selection required")}if(!n.has_access)throw new Error("No POS Profiles configured for your account");if(j)return window.location.href="/app/imogi-module-select",null;throw new Error("Operational context required")}return O&&n.is_privileged&&!n.pos_profile,n},[n]),S=T.useCallback(()=>!!(n&&n.pos_profile),[n]),k=T.useCallback(()=>(n==null?void 0:n.pos_profile)||null,[n]),P=T.useCallback(()=>(n==null?void 0:n.branch)||null,[n]),w=T.useCallback(()=>(n==null?void 0:n.require_selection)||!1,[n]),x=T.useCallback(()=>(n==null?void 0:n.is_privileged)||!1,[n]);return{context:n||{},pos_profile:(n==null?void 0:n.pos_profile)||null,branch:(n==null?void 0:n.branch)||null,available_profiles:(n==null?void 0:n.available_pos_profiles)||[],branches:(n==null?void 0:n.branches)||[],role_class:(n==null?void 0:n.role_class)||null,hasContext:S(),needsSelection:w(),isPrivileged:x(),contextRequired:(n==null?void 0:n.context_required)!==!1,hasAccess:(n==null?void 0:n.has_access)!==!1,serverContextReady:s.ready,serverContextLoading:s.loading,serverContextError:s.error,isLoading:a,error:l,setContext:g,ensureServerContext:y,requireContext:m,refetch:c,getPOSProfile:k,getBranch:P}}const gm=T.createContext(null);function vw(){const e=T.useContext(gm);if(!e)throw new Error("useImogiPOS must be used within ImogiPOSProvider");return e}function sc({children:e,initialState:t={}}){const n=window.location.origin;return u.jsx(ow,{url:n,tokenParams:{useToken:!1,type:"Bearer"},children:u.jsx(ww,{initialState:t,children:e})})}function ww({children:e,initialState:t={}}){const{pos_profile:n,branch:r,available_profiles:s,isLoading:o,setContext:i}=mm(),a=T.useMemo(()=>n&&s.find(p=>p.name===n)||null,[s,n]),l={...t,pos_profile:n||t.pos_profile,branch:r||t.branch,domain:(a==null?void 0:a.pos_domain)||t.domain,mode:(a==null?void 0:a.mode)||t.mode,company:(a==null?void 0:a.company)||t.company},c={posProfile:l.pos_profile,branch:l.branch,domain:l.domain,mode:l.mode,company:l.company,availableProfiles:s,setProfile:async p=>i({pos_profile:p}),isProfileLoading:o,profileData:a,initialState:l};return u.jsx(gm.Provider,{value:c,children:e})}function xw({onReload:e,onBackToLogin:t}){const[n,r]=T.useState(30);return T.useEffect(()=>{if(n<=0){e();return}const s=setTimeout(()=>{r(n-1)},1e3);return()=>clearTimeout(s)},[n,e]),u.jsx("div",{className:"session-expired-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"session-expired-title",children:u.jsxs("div",{className:"session-expired-modal",children:[u.jsx("div",{className:"session-expired-icon",children:u.jsx("i",{className:"fa fa-exclamation-triangle"})}),u.jsx("h2",{id:"session-expired-title",className:"session-expired-title",children:"Session Expired"}),u.jsx("p",{className:"session-expired-message",children:"Your login session has expired. Please log in again to continue."}),u.jsxs("div",{className:"session-expired-details",children:[u.jsxs("div",{className:"session-expired-detail-item",children:[u.jsx("i",{className:"fa fa-info-circle"}),u.jsx("span",{children:"This can happen after being inactive for a while"})]}),u.jsxs("div",{className:"session-expired-detail-item",children:[u.jsx("i",{className:"fa fa-shield-alt"}),u.jsx("span",{children:"Your data is safe and will be restored after login"})]})]}),u.jsxs("div",{className:"session-expired-actions",children:[u.jsxs("button",{className:"btn btn-primary btn-session-reload",onClick:e,children:[u.jsx("i",{className:"fa fa-sync-alt"}),"Reload & Login"]}),u.jsxs("button",{className:"btn btn-secondary btn-session-login",onClick:t,children:[u.jsx("i",{className:"fa fa-sign-in-alt"}),"Back to Login"]})]}),u.jsxs("div",{className:"session-expired-countdown",children:["Auto-reloading in ",n," seconds..."]}),u.jsx("div",{className:"session-expired-help",children:u.jsxs("p",{children:[u.jsx("strong",{children:"Need help?"})," Contact your system administrator if this keeps happening."]})})]})})}function Sw({children:e}){const[t,n]=T.useState(!1);T.useEffect(()=>{const o=i=>{console.error("[SessionExpired] Session expired event received:",i.detail),n(!0)};return window.addEventListener("imogi-session-expired",o),window.frappe&&window.frappe.session&&window.frappe.session.user==="Guest"&&(console.error("[SessionExpired] Already logged out (Guest user)"),n(!0)),()=>{window.removeEventListener("imogi-session-expired",o)}},[]);const r=()=>{console.log("[SessionExpired] Reloading page..."),window.location.reload()},s=()=>{console.log("[SessionExpired] Redirecting to login..."),window.location.pathname.startsWith("/app/"),window.location.href="/login"};return t?u.jsxs(u.Fragment,{children:[e,u.jsx(xw,{onReload:r,onBackToLogin:s})]}):u.jsx(u.Fragment,{children:e})}const fs="/app/imogi-module-select";function _w(e={}){const{requiresOpening:t=!1,autoRedirect:n=!0,targetModule:r=null}=e,{pos_profile:s,branch:o,available_profiles:i,needsSelection:a,contextRequired:l,hasAccess:c,isLoading:p,error:g,refetch:y,serverContextReady:m,serverContextLoading:S,serverContextError:k,ensureServerContext:P}=mm(),[w,x]=T.useState(!1),[_,j]=T.useState("loading"),[O,I]=T.useState(0),[F,L]=T.useState(0),[H,R]=T.useState(!1),U=3,Z=2,A=300,J=500,ee=!!(s&&o&&m),oe=!!(t&&ee),{data:G,isLoading:D,error:W,mutate:X}=Vi("imogi_pos.api.module_select.get_active_pos_opening",void 0,oe?void 0:!1,{revalidateOnFocus:!1,revalidateOnReconnect:!1,shouldRetryOnError:!1,errorRetryCount:0});T.useEffect(()=>{if(!t){j("ok");return}if(!oe||D||S){(_!=="missing"||H)&&j("loading");return}if(k){j("error");return}if(W||G!=null&&G.error_code){j("error");return}if(!G||!G.pos_opening_entry){j("missing");return}j("ok")},[t,oe,D,W,G,S,k,_,H]),T.useEffect(()=>{!D&&H&&R(!1)},[D,H]),T.useEffect(()=>{if(!oe||_!=="error"||!X)return;const fe=(W==null?void 0:W.message)||(G==null?void 0:G.error_message)||"";if(!(fe.includes("Context Required")||fe.includes("Operational context")||(G==null?void 0:G.error_code)==="missing_pos_profile")||F>=Z)return;const $e=setTimeout(()=>{L(Ke=>Ke+1),R(!0),X()},J);return()=>clearTimeout($e)},[oe,_,W,G,F,X]),T.useEffect(()=>{const fe=(G==null?void 0:G.pos_opening_entry)||null;_==="ok"&&fe&&console.info("[POSProfileGuard] openingFound=",fe),_!=="ok"&&console.info("[POSProfileGuard] status=",_,{reason:(W==null?void 0:W.message)||(G==null?void 0:G.error_message)||null})},[_,W,G]),T.useEffect(()=>{_==="ok"&&F>0&&L(0)},[_,F]),T.useEffect(()=>{if(!(p||S||t&&D)){if(k){x(!1);return}if(!m){x(!1);return}if(l&&!s&&i.length===0&&!c){if(x(!1),n){const fe=r?`${fs}?reason=missing_pos_profile&target=${r}`:fs;window.location.href=fe}return}if(l&&!s&&i.length>0&&a){if(x(!1),O<U){const fe=setTimeout(()=>{I(ye=>ye+1),y&&y()},A);return()=>clearTimeout(fe)}if(x(!1),n){const fe=r?`${fs}?reason=missing_pos_profile&target=${r}`:fs;window.location.href=fe}return}if(s&&O>0&&I(0),t&&s){if(!ee){x(!1);return}if(_==="error"){x(!1);return}if(_==="missing"){x(!1);return}}x(!0)}},[s,o,i,p,S,k,m,t,G,W,D,_,n,a,l,c,O,y,r]);const ie=T.useCallback(()=>{P&&P({force:!0}).catch(()=>{})},[P]),me=T.useMemo(()=>s&&i.find(fe=>fe.name===s)||null,[i,s]);return T.useEffect(()=>{const fe=()=>{X&&X()};return window.addEventListener("posSessionOpened",fe),()=>window.removeEventListener("posSessionOpened",fe)},[X]),{isLoading:p||S||t&&D,guardPassed:w,error:g,serverContextReady:m,serverContextError:k,retryServerContext:ie,openingStatus:_,openingError:W,retryOpening:X,posProfile:s,profileData:me,branch:o||null,posOpening:G||null,hasOpening:!!(G&&G.pos_opening_entry),redirectToModuleSelect:()=>{window.location.href=fs}}}let xf=!1;async function Ce(e,t={},n={}){const{freeze:r=!1,silent:s=!1,retry:o=2,timeout:i=3e4,onSessionExpired:a=null}=n;if(Ew())throw Mt("api","Session already expired (Guest user detected)"),$a(a),new Error("Session expired. Please log in again.");Un("api",`Calling ${e}`,t);try{let l;window.frappe&&typeof window.frappe.call=="function"?l=await kw(e,t,{freeze:r,timeout:i}):l=await Cw(e,t,{timeout:i});const c=jw(l);if(Nw(c))throw Mt("api","Login page detected in response"),$a(a),new Error("Session expired. Please log in again.");return Un("api",`Success: ${e}`,c),c}catch(l){if(Mt("api",`Error calling ${e}`,{method:e,args:t,error:l.message,stack:l.stack,httpStatus:l.httpStatus,responseText:l.responseText,exc:l.exc}),ym(l))throw Mt("api",`Authentication error detected: ${l.httpStatus}`,{exc:l.exc,exception:l.exception}),$a(a),new Error("Session expired. Please log in again.");if(bw(l)&&o>0)return uw("api",`Retrying ${e} (${o} attempts left)`),await Pw(1e3),Ce(e,t,{...n,retry:o-1});throw s||Ow(l),l}}function kw(e,t,n){const{freeze:r,timeout:s}=n;return new Promise((o,i)=>{const a=setTimeout(()=>{i(new Error(`Request timeout after ${s}ms`))},s);window.frappe.call({method:e,args:t,freeze:r,callback:l=>{clearTimeout(a),o(l)},error:l=>{clearTimeout(a);const c=new Error(l.exception||l.message||"API call failed");c.httpStatus=l.httpStatus||l.responseJSON&&l.responseJSON.httpStatus,c.responseText=l.responseText,c._frappe_error=l,i(c)}})})}async function Cw(e,t,n){const{timeout:r}=n,s=Tw();if(!s)throw new Error("CSRF token not found. Session may have expired.");const o=new AbortController,i=setTimeout(()=>o.abort(),r);try{const a=await fetch(`/api/method/${e}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Frappe-CSRF-Token":s},credentials:"include",body:JSON.stringify(t),signal:o.signal});if(clearTimeout(i),!a.ok){const c=new Error(`HTTP ${a.status}: ${a.statusText}`);throw c.httpStatus=a.status,c.responseText=await a.text().catch(()=>""),c}const l=await a.json();return{message:l.message,exc:l.exc,exception:l.exception,_exc_source:l._exc_source}}catch(a){throw clearTimeout(i),a.name==="AbortError"?new Error(`Request timeout after ${r}ms`):a}}function jw(e){if(e&&typeof e=="object"){if(e.exc||e.exception){const t=new Error(e.exception||"API returned an exception");throw t.exc=e.exc,t.exception=e.exception,t._exc_source=e._exc_source,t}return e.message}return e}function Ew(){return window.frappe&&window.frappe.session?window.frappe.session.user==="Guest":!1}function Nw(e){return typeof e=="string"?e.includes("<!DOCTYPE html>")&&(e.includes("login")||e.includes("Login")):!1}function ym(e){const t=e.httpStatus;if(t===401||t===403)return _t("api",`Auth error detected: ${t}`),!0;if(t===417){const n=e.exc||e.exception||"",s=["SessionExpired","AuthenticationError","PermissionError","Unauthorized","Forbidden"].some(o=>n.includes(o));return s?_t("api",`417 is auth error: ${n}`):_t("api",`417 is NOT auth error (validation/business logic): ${n}`),s}return!1}function bw(e){return ym(e)?!1:!!(e.message&&(e.message.includes("timeout")||e.message.includes("network")||e.message.includes("Failed to fetch")))}function Tw(){if(window.frappe&&window.frappe.csrf_token)return window.frappe.csrf_token;if(window.FRAPPE_CSRF_TOKEN)return window.FRAPPE_CSRF_TOKEN;const e=document.cookie.split(";");for(let t of e){const[n,r]=t.trim().split("=");if(n==="csrf_token")return r}return null}function $a(e){if(!xf){if(xf=!0,console.error("[imogi-api] Session expired - showing UI"),typeof e=="function"){e();return}window.dispatchEvent(new CustomEvent("imogi-session-expired",{detail:{message:"Your session has expired. Please log in again."}}))}}function Ow(e){const t=Rw(e);if(window.frappe&&window.frappe.msgprint){window.frappe.msgprint({title:"Error",indicator:"red",message:t});return}alert(`Error: ${t}`)}function Rw(e){return e.exception?e.exception:e.message?e.message:"An unexpected error occurred"}function Pw(e){return new Promise(t=>setTimeout(t,e))}function Va(e,t=null,n=null){const r=e!=null;let s=null,o=null;r&&(s={pos_profile:e},t&&(s.branch=t),n&&(s.order_type=n),o=`order-history-${e}-${n||"all"}`);const i=Vi("imogi_pos.api.billing.list_orders_for_cashier",s,o,{revalidateOnFocus:!1,refreshInterval:r?3e4:0}),[a,l]=T.useState(0),c=3,p=400;return T.useEffect(()=>{var S,k,P,w;if(!r||!(i!=null&&i.error)||a>=c)return;const g=((S=i.error)==null?void 0:S.message)||((w=(P=(k=i.error)==null?void 0:k.response)==null?void 0:P.data)==null?void 0:w.message)||"";if(!(g.includes("Context Required")||g.includes("Operational context"))||!i.mutate)return;const m=setTimeout(()=>{l(x=>x+1),i.mutate()},p*(a+1));return()=>clearTimeout(m)},[r,i,a]),T.useEffect(()=>{i!=null&&i.data&&a>0&&l(0)},[i==null?void 0:i.data,a]),i}function Lw(e=null,t=null){return Vi("imogi_pos.api.cashier.get_payment_methods",{pos_profile:e,branch:t},`payment-methods-${e||"all"}`,{revalidateOnFocus:!1,refreshInterval:6e4})}function Vr({message:e="Loading..."}){return u.jsxs("div",{className:"imogi-loading",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:e})]})}function ji({error:e,onRetry:t}){return u.jsxs("div",{className:"imogi-error",children:[u.jsx("h3",{children:" Error"}),u.jsx("p",{children:(e==null?void 0:e.message)||String(e)}),t&&u.jsx("button",{onClick:t,className:"btn-retry",children:"Retry"})]})}const Gl="operational_context_cache";let Qt=null,Sf=0;const Aw=60*1e3;async function _f(){var n,r;if(console.log("[OperationalContext] Resolving context..."),Qt){if(Ha(Qt))return console.log("[OperationalContext] Using in-memory context:",Qt.pos_profile),Qt;console.warn("[OperationalContext] In-memory context invalid, clearing"),Qt=null}const e=Fr.getItem(Gl);if(e&&Ha(e))return console.log("[OperationalContext] Using cached context:",e.pos_profile),Qt=e,e;e&&(console.warn("[OperationalContext] Cached context invalid, clearing"),Fr.removeItem(Gl));const t=Date.now();if(t-Sf<Aw&&Qt){const s=Qt;if(Ha(s))return console.log("[OperationalContext] Using recent fetch:",s.pos_profile),s}try{console.log("[OperationalContext] Fetching from server...");const s=await Ce("imogi_pos.utils.operational_context.get_operational_context",{});if(Sf=t,(n=s.active_context)!=null&&n.pos_profile){const o={pos_profile:s.active_context.pos_profile,branch:s.active_context.branch};return console.log("[OperationalContext] Server has active context:",o.pos_profile),kf(o),Qt=o,o}if(s.current_pos_profile&&s.current_branch){const o={pos_profile:s.current_pos_profile,branch:s.current_branch};return console.log("[OperationalContext] Auto-resolved by server:",o.pos_profile,"method:",s.selection_method),await Fw(o),kf(o),Qt=o,o}throw s.has_access?s.require_selection?new Error("CONTEXT_SELECTION_REQUIRED: Multiple POS Profiles available. Please select one from module selection page."):new Error("CONTEXT_UNAVAILABLE: POS Profile required but could not be resolved."):new Error("CONTEXT_NO_ACCESS: No POS Profiles configured for your account. Contact administrator.")}catch(s){throw console.error("[OperationalContext] Resolution failed:",s),(r=s.message)!=null&&r.startsWith("CONTEXT_")?s:new Error(`CONTEXT_ERROR: Failed to resolve operational context: ${s.message||"Unknown error"}`)}}async function Fw(e){try{await Ce("imogi_pos.utils.operational_context.set_operational_context",{pos_profile:e.pos_profile,branch:e.branch}),console.log("[OperationalContext] Context persisted to server session")}catch(t){console.error("[OperationalContext] Failed to persist to server:",t)}}function Ha(e){return e!==null&&typeof e=="object"&&typeof e.pos_profile=="string"&&e.pos_profile.length>0&&typeof e.branch=="string"&&e.branch.length>0}function kf(e){const t={pos_profile:e.pos_profile,branch:e.branch,timestamp:new Date().toISOString()};Fr.setItem(Gl,t),console.log("[OperationalContext] Saved to cache:",e.pos_profile)}function Iw({orders:e=[],selectedOrder:t,onSelectOrder:n,onClaimOrder:r,claimedOrders:s={},posMode:o,isMultiSession:i=!1}){const[a,l]=T.useState(""),[c,p]=T.useState("All"),[g,y]=T.useState(null),[m,S]=T.useState(null),k={Counter:{label:"Counter",icon:"fa-cash-register",color:"#ff9800"},Table:{label:"Table/Waiter",icon:"fa-utensils",color:"#2196f3"}},P=o||"Counter",w=k[P]||k.Counter,x=w.label,_=w.icon,j=P==="Table",O=e.filter(A=>{var J,ee,oe;if(j&&c!=="All"&&A.status!==c)return!1;if(a){const G=a.toLowerCase();return((J=A.name)==null?void 0:J.toLowerCase().includes(G))||((ee=A.table_name)==null?void 0:ee.toLowerCase().includes(G))||((oe=A.customer)==null?void 0:oe.toLowerCase().includes(G))}return!0}),I=A=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(A||0),F=A=>A?new Date(A).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"",L=async(A,J)=>{if(A.stopPropagation(),!r){console.warn("[OrderListSidebar] onClaimOrder handler not provided");return}y(J.name),S(null);try{await r(J),y(null)}catch(ee){console.error("[OrderListSidebar] Error claiming order:",ee),S(ee.message||"Failed to claim order"),y(null)}},H=()=>{var A;return((A=frappe==null?void 0:frappe.session)==null?void 0:A.user)||"unknown"},R=A=>A.claimed_by&&A.claimed_by!=="",U=A=>A.claimed_by===H(),Z=A=>R(A)&&!U(A);return u.jsxs("div",{className:"cashier-sidebar",children:[u.jsxs("div",{className:"filter-bar",children:[u.jsxs("div",{className:"mode-indicator",children:[u.jsx("i",{className:`fa ${_}`}),u.jsxs("span",{children:[x," Mode"]})]}),u.jsxs("div",{className:"search-container",children:[u.jsx("input",{type:"text",placeholder:"Search orders...",className:"search-input",value:a,onChange:A=>l(A.target.value)}),u.jsx("button",{className:"search-button",children:u.jsx("i",{className:"fa fa-search"})})]}),j&&u.jsx("div",{className:"filter-buttons",children:["Ready","Served","All"].map(A=>u.jsx("button",{className:`filter-button ${c===A?"active":""}`,onClick:()=>p(A),children:A},A))})]}),u.jsx("div",{className:"order-list",children:O.length===0?u.jsxs("div",{className:"empty-state-sidebar",children:[u.jsx("i",{className:"fa fa-inbox"}),u.jsx("p",{children:"No orders found"})]}):O.map(A=>{var G;const J=R(A),ee=U(A),oe=Z(A);return u.jsxs("div",{className:`order-card ${(t==null?void 0:t.name)===A.name?"active":""} ${oe?"order-claimed-other":""}`,onClick:()=>!oe&&n(A),title:oe?`Claimed by ${A.claimed_by}`:"",children:[u.jsxs("div",{className:"order-card-header",children:[u.jsx("span",{className:"order-card-number",children:A.name}),u.jsxs("div",{className:"order-card-badges",children:[i&&J&&u.jsxs("span",{className:`order-card-badge ${ee?"badge-claimed-by-me":"badge-claimed-by-other"}`,children:[u.jsx("i",{className:`fa ${ee?"fa-check-circle":"fa-lock"}`}),ee?"Claimed":"Locked"]}),i&&!J&&u.jsxs("button",{className:"order-card-claim-btn",onClick:D=>L(D,A),disabled:g===A.name,title:"Claim this order for processing",children:[u.jsx("i",{className:`fa ${g===A.name?"fa-spinner fa-spin":"fa-lock-open"}`}),"Claim"]}),A.order_type==="Self Order"&&u.jsxs("span",{className:"order-card-badge badge-self-order",children:[u.jsx("i",{className:"fa fa-mobile-alt"}),"Self Order"]}),A.order_type==="Kiosk"&&u.jsxs("span",{className:"order-card-badge badge-kiosk",children:[u.jsx("i",{className:"fa fa-desktop"}),"Kiosk"]}),A.order_type==="Dine In"&&A.table_name&&u.jsxs("span",{className:"order-card-badge badge-table",children:[u.jsx("i",{className:"fa fa-utensils"}),A.table_name]}),A.order_type==="Counter"&&u.jsxs("span",{className:"order-card-badge badge-counter",children:[u.jsx("i",{className:"fa fa-cash-register"}),"Counter"]})]})]}),u.jsxs("div",{className:"order-card-info",children:[u.jsxs("span",{children:[((G=A.items)==null?void 0:G.length)||0," items"]}),u.jsx("span",{className:"order-card-time",children:F(A.creation)})]}),A.items&&A.items.length>0&&u.jsxs("div",{className:"order-card-items",children:[A.items.slice(0,2).map((D,W)=>u.jsxs("div",{children:[D.qty,"x ",D.item_name]},W)),A.items.length>2&&u.jsxs("div",{className:"order-card-more",children:["+",A.items.length-2," more items"]})]}),u.jsxs("div",{className:"order-card-total",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:I(A.grand_total)})]})]},A.name)})})]})}function Dw({order:e,posMode:t}){var a;if(!e)return u.jsxs("div",{className:"empty-state",children:[u.jsx("i",{className:"fa fa-receipt empty-icon"}),u.jsx("h3",{children:"No Order Selected"}),u.jsx("p",{children:"Select an order from the list or create a new one"})]});const n=t||"Counter",r=n==="Table",s=n==="Counter",o=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l||0),i=l=>l?new Date(l).toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return u.jsxs("div",{className:"order-details",children:[u.jsx("div",{className:"order-details-header",children:u.jsxs("div",{children:[u.jsx("h3",{children:e.name}),u.jsxs("div",{className:"order-meta",children:[r&&e.table_name&&u.jsxs("span",{className:"order-meta-item",children:[u.jsx("i",{className:"fa fa-utensils"}),"Table: ",e.table_name]}),s&&u.jsxs("span",{className:"order-meta-item",children:[u.jsx("i",{className:"fa fa-cash-register"}),"Counter Order"]}),u.jsxs("span",{className:"order-meta-item",children:[u.jsx("i",{className:"fa fa-clock"}),i(e.creation)]}),u.jsx("span",{className:`order-status-badge status-${(a=e.status)==null?void 0:a.toLowerCase()}`,children:e.status})]})]})}),u.jsxs("div",{className:"order-details-body",children:[e.customer&&u.jsx("div",{className:"customer-section",children:u.jsxs("div",{className:"customer-info",children:[u.jsxs("div",{className:"customer-name",children:[u.jsx("i",{className:"fa fa-user"}),e.customer]}),e.customer_phone&&u.jsxs("div",{className:"customer-phone",children:[u.jsx("i",{className:"fa fa-phone"}),e.customer_phone]})]})}),u.jsxs("div",{className:"order-items-section",children:[u.jsx("h4",{children:"Order Items"}),e.items&&e.items.length>0?u.jsx("div",{className:"order-items-list",children:e.items.map((l,c)=>{const p=l.has_variants===1||l.has_variants===!0;return u.jsxs("div",{className:`order-item ${p?"template-item":""}`,children:[u.jsxs("div",{className:"order-item-name",children:[l.item_name,p&&u.jsxs("span",{className:"template-badge",children:[u.jsx("i",{className:"fa fa-list"})," Template"]})]}),u.jsx("div",{className:"order-item-qty",children:l.qty}),u.jsx("div",{className:"order-item-price",children:o(l.rate)}),u.jsx("div",{className:"order-item-total",children:o(l.amount)}),p&&u.jsx("div",{className:"order-item-actions",children:u.jsxs("button",{className:"select-variant-btn",onClick:()=>window.dispatchEvent(new CustomEvent("selectVariant",{detail:{itemRow:l.name,itemCode:l.item_code}})),children:[u.jsx("i",{className:"fa fa-edit"})," Select Variant"]})}),l.notes&&u.jsxs("div",{className:"order-item-notes",children:[u.jsx("i",{className:"fa fa-comment"})," ",l.notes]})]},c)})}):u.jsx("div",{className:"no-items",children:"No items in this order"})]}),u.jsxs("div",{className:"order-totals",children:[u.jsxs("div",{className:"total-row",children:[u.jsx("span",{children:"Subtotal"}),u.jsx("span",{children:o(e.net_total||e.total)})]}),e.total_taxes_and_charges>0&&u.jsxs("div",{className:"total-row",children:[u.jsx("span",{children:"Tax"}),u.jsx("span",{children:o(e.total_taxes_and_charges)})]}),e.discount_amount>0&&u.jsxs("div",{className:"total-row",children:[u.jsx("span",{children:"Discount"}),u.jsxs("span",{children:["-",o(e.discount_amount)]})]}),u.jsxs("div",{className:"total-row grand-total",children:[u.jsx("span",{children:"Grand Total"}),u.jsx("span",{children:o(e.grand_total)})]})]})]})]})}function zw({posMode:e,onModeChange:t,posProfile:n,branch:r,posOpening:s,branding:o,profileData:i,printerStatus:a,onSearchScan:l}){var w,x;const[c,p]=T.useState(!1),[g,y]=T.useState(""),m=(s==null?void 0:s.pos_opening_entry)||(s==null?void 0:s.name),S=((x=(w=s==null?void 0:s.balance_details)==null?void 0:w[0])==null?void 0:x.opening_amount)??(s==null?void 0:s.opening_balance)??0,k=_=>{_.preventDefault(),g.trim()&&(l==null||l(g.trim()),y(""))},P=()=>a!=null&&a.checking?u.jsx("i",{className:"fa fa-spinner fa-spin"}):a!=null&&a.connected?u.jsx("i",{className:"fa fa-check-circle",style:{color:"#10b981"}}):u.jsx("i",{className:"fa fa-exclamation-triangle",style:{color:"#f59e0b"}});return u.jsx("header",{className:"cashier-header",children:u.jsxs("div",{className:"header-container",children:[u.jsxs("div",{className:"header-left",children:[(o==null?void 0:o.logo)&&u.jsx("div",{className:"branding-logo",children:u.jsx("img",{src:o.logo,alt:o.company_name||"Logo"})}),u.jsxs("div",{className:"pos-context",children:[u.jsxs("div",{className:"pos-context-item",children:[u.jsx("i",{className:"fa fa-building"}),u.jsx("span",{children:(r==null?void 0:r.name)||r||"N/A"})]}),u.jsxs("div",{className:"pos-context-item",children:[u.jsx("i",{className:"fa fa-cash-register"}),u.jsx("span",{children:(n==null?void 0:n.name)||n||"N/A"})]})]}),u.jsx("button",{className:"info-button",onClick:()=>p(!c),title:"POS Information","aria-label":"Show POS Information",children:u.jsx("i",{className:"fa fa-info-circle"})}),c&&u.jsxs("div",{className:"pos-info-popup",children:[u.jsxs("div",{className:"pos-info-header",children:[u.jsx("strong",{children:"POS Information"}),u.jsx("button",{onClick:()=>p(!1),className:"close-btn","aria-label":"Close",children:u.jsx("i",{className:"fa fa-times"})})]}),u.jsxs("div",{className:"pos-info-body",children:[u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"POS Profile:"}),u.jsx("span",{className:"info-value",children:(n==null?void 0:n.name)||n||"N/A"})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"Branch:"}),u.jsx("span",{className:"info-value",children:(r==null?void 0:r.name)||r||"N/A"})]}),s&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"Opening Entry:"}),u.jsx("span",{className:"info-value",children:m})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"Opening Balance:"}),u.jsx("span",{className:"info-value",children:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(S)})]})]}),(o==null?void 0:o.company_name)&&u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"Company:"}),u.jsx("span",{className:"info-value",children:o.company_name})]}),u.jsx("div",{className:"info-section-header",children:"Channels"}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"Self Order:"}),u.jsx("span",{className:"info-value",children:(i==null?void 0:i.imogi_enable_self_order)===1?u.jsx("span",{style:{color:"#10b981"},children:" Enabled"}):u.jsx("span",{style:{color:"#6b7280"},children:" Disabled"})})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"info-label",children:"Kiosk:"}),u.jsx("span",{className:"info-value",children:(i==null?void 0:i.imogi_enable_kiosk)===1?u.jsx("span",{style:{color:"#10b981"},children:" Enabled"}):u.jsx("span",{style:{color:"#6b7280"},children:" Disabled"})})]})]})]})]}),u.jsx("div",{className:"header-center",children:u.jsxs("div",{className:"segmented-control",children:[u.jsxs("button",{className:`segment ${e==="Counter"?"active":""}`,onClick:()=>t==null?void 0:t("Counter"),style:{"--active-color":(o==null?void 0:o.primary_color)||"#ff9800"},children:[u.jsx("i",{className:"fa fa-cash-register"}),u.jsx("span",{children:"Counter"})]}),u.jsxs("button",{className:`segment ${e==="Table"?"active":""}`,onClick:()=>t==null?void 0:t("Table"),style:{"--active-color":(o==null?void 0:o.primary_color)||"#2196f3"},children:[u.jsx("i",{className:"fa fa-utensils"}),u.jsx("span",{children:"Dine In"})]})]})}),u.jsxs("div",{className:"header-right",children:[u.jsxs("button",{className:"header-action-btn",onClick:()=>window.dispatchEvent(new CustomEvent("showShiftSummary")),title:"Ringkasan Shift","aria-label":"Show Shift Summary",children:[u.jsx("i",{className:"fa fa-chart-bar"}),u.jsx("span",{className:"action-label",children:"Ringkasan"})]}),u.jsxs("button",{className:"header-action-btn close-shift-btn",onClick:()=>window.dispatchEvent(new CustomEvent("closeShift")),title:"Tutup Shift","aria-label":"Close Shift",children:[u.jsx("i",{className:"fa fa-door-closed"}),u.jsx("span",{className:"action-label",children:"Tutup Shift"})]}),u.jsxs("form",{className:"search-scan-form",onSubmit:k,children:[u.jsx("input",{type:"text",placeholder:"Scan or search...",className:"search-scan-input",value:g,onChange:_=>y(_.target.value)}),u.jsx("button",{type:"submit",className:"search-scan-button","aria-label":"Search",children:u.jsx("i",{className:"fa fa-search"})})]}),u.jsx("div",{className:"printer-status",title:a!=null&&a.connected?"Printer Ready":"Printer Not Connected",children:P()})]})]})})}function Bw({selectedOrder:e,viewMode:t,onViewChange:n,onNewOrder:r,onPrintBill:s,onSplitBill:o,onRequestPayment:i,onHoldOrder:a,onClearOrder:l,posMode:c,selectedTable:p,creatingOrder:g,isCustomerDisplayOpen:y,onOpenCustomerDisplay:m,onCloseCustomerDisplay:S}){const[k,P]=T.useState(!1),w=!!e,x=c==="Counter",_=c==="Table",O=g?{label:"Creating...",icon:"fa-spinner fa-spin",disabled:!0,onClick:null}:_&&!p?{label:"Select Table",icon:"fa-chair",disabled:!1,onClick:r}:w&&t==="catalog"?{label:"Charge",icon:"fa-credit-card",disabled:!1,onClick:i,accent:!0}:{label:x?"New Order":"New Table",icon:"fa-plus",disabled:!1,onClick:r},I=[{label:"Hold Order",icon:"fa-pause",onClick:a,disabled:!w,show:!0},{label:"Clear Order",icon:"fa-trash",onClick:l,disabled:!w,show:!0,danger:!0}];return u.jsx("div",{className:"cashier-action-bar",children:u.jsxs("div",{className:"action-bar-container",children:[u.jsxs("div",{className:"view-controls-mobile",children:[u.jsxs("button",{className:`view-tab ${t==="orders"?"active":""}`,onClick:()=>n("orders"),"aria-label":"View Orders",children:[u.jsx("i",{className:"fa fa-list"}),u.jsx("span",{className:"view-tab-label",children:"Orders"})]}),u.jsxs("button",{className:`view-tab ${t==="catalog"?"active":""}`,onClick:()=>n("catalog"),disabled:!w,"aria-label":"View Catalog",children:[u.jsx("i",{className:"fa fa-shopping-cart"}),u.jsx("span",{className:"view-tab-label",children:"Catalog"})]})]}),u.jsxs("div",{className:"quick-actions",children:[u.jsx("button",{className:"action-btn icon-btn",onClick:s,disabled:!w,title:"Print Bill","aria-label":"Print Bill",children:u.jsx("i",{className:"fa fa-print"})}),u.jsx("button",{className:"action-btn icon-btn",onClick:o,disabled:!w,title:"Split Bill","aria-label":"Split Bill",children:u.jsx("i",{className:"fa fa-cut"})}),u.jsx("button",{className:`action-btn icon-btn ${y?"active":""}`,onClick:y?S:m,title:y?"Close Customer Display":"Open Customer Display","aria-label":"Customer Display",children:u.jsx("i",{className:`fa ${y?"fa-eye-slash":"fa-desktop"}`})}),u.jsxs("div",{className:"more-actions-container",children:[u.jsx("button",{className:"action-btn icon-btn more-btn",onClick:()=>P(!k),title:"More Actions","aria-label":"More Actions",children:u.jsx("i",{className:"fa fa-ellipsis-v"})}),k&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"more-actions-overlay",onClick:()=>P(!1)}),u.jsx("div",{className:"more-actions-menu",children:I.filter(F=>F.show).map((F,L)=>u.jsxs("button",{className:`more-action-item ${F.danger?"danger":""}`,onClick:()=>{var H;(H=F.onClick)==null||H.call(F),P(!1)},disabled:F.disabled,children:[u.jsx("i",{className:`fa ${F.icon}`}),u.jsx("span",{children:F.label})]},L))})]})]})]}),u.jsxs("button",{className:`action-btn primary-cta ${O.accent?"accent":""}`,onClick:O.onClick,disabled:O.disabled,children:[u.jsx("i",{className:`fa ${O.icon}`}),u.jsx("span",{children:O.label})]})]})})}function Mw({order:e,onClose:t,onPaymentComplete:n,posProfile:r}){const[s,o]=T.useState(null),[i,a]=T.useState(""),[l,c]=T.useState(!1),[p,g]=T.useState(!1),[y,m]=T.useState(null),{data:S,isLoading:k}=Lw(r),P=(S==null?void 0:S.payment_methods)||[],w=R=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(R||0),x=R=>{m(null),o(R),R.mode_of_payment==="Cash"?c(!0):_(R)},_=async R=>{g(!0),m(null);try{await O(R.mode_of_payment,e.grand_total,e.grand_total)}catch(U){console.error("[Payment] Non-cash payment error:",U),m(U.message||"Payment processing failed")}finally{g(!1)}},j=async()=>{const R=parseFloat(i),U=(e==null?void 0:e.grand_total)||0;if(R<U){m("Insufficient cash amount");return}g(!0),m(null);try{await O("Cash",R,U),c(!1)}catch(Z){console.error("[Payment] Cash payment error:",Z),m(Z.message||"Payment processing failed")}finally{g(!1)}},O=async(R,U,Z)=>{var G;console.log("[Payment] Checking POS opening...");const A=await Ce("imogi_pos.api.cashier.get_active_opening");if(!(A!=null&&A.has_opening))throw console.error("[Payment] No active POS Opening:",A),new Error("Tidak ada POS Opening aktif. Silakan buka POS terlebih dulu.");console.log("[Payment] Active opening found:",(G=A.opening)==null?void 0:G.name),console.log("[Payment] Creating invoice from order:",e.name);const J=await Ce("imogi_pos.api.cashier.create_invoice_from_order",{order_name:e.name,customer:e.customer,customer_name:e.customer_name});if(!(J!=null&&J.success))throw console.error("[Payment] Create invoice failed:",J),new Error((J==null?void 0:J.error)||"Failed to create invoice");console.log("[Payment] Invoice created:",J.invoice),console.log("[Payment] Processing payment for invoice:",J.invoice);const ee=await Ce("imogi_pos.api.cashier.process_payment",{invoice_name:J.invoice,payments:[{mode_of_payment:R,amount:U}],cash_received:R==="Cash"?U:Z});if(!(ee!=null&&ee.success))throw console.error("[Payment] Process payment failed:",ee),new Error((ee==null?void 0:ee.error)||"Failed to process payment");console.log("[Payment] Payment successful:",ee),console.log("[Payment] Completing order:",e.name);const oe=await Ce("imogi_pos.api.cashier.complete_order",{order_name:e.name});oe!=null&&oe.success||console.warn("[Payment] Complete order warning:",oe),n&&n({method:R,amount:U,change:ee.change_amount||(R==="Cash"?U-Z:0),invoice:J.invoice,session:J.session})},I=R=>{a(U=>U+R)},F=()=>{a("")},L=R=>{a(R.toString())},H=()=>{const R=parseFloat(i)||0,U=(e==null?void 0:e.grand_total)||0;return R-U};return e?u.jsxs("div",{className:"payment-panel",children:[u.jsxs("div",{className:"payment-container",children:[u.jsxs("div",{className:"payment-header",children:[u.jsx("h3",{children:"Payment Request"}),u.jsx("button",{onClick:t,className:"btn-close",disabled:p,children:u.jsx("i",{className:"fa fa-times"})})]}),y&&u.jsxs("div",{className:"payment-error",style:{padding:"12px",margin:"12px 16px",backgroundColor:"#fee",border:"1px solid #fcc",borderRadius:"4px",color:"#c33"},children:[u.jsx("i",{className:"fa fa-exclamation-triangle",style:{marginRight:"8px"}}),y]}),u.jsxs("div",{className:"payment-content",children:[u.jsxs("div",{className:"payment-info",children:[u.jsxs("div",{className:"payment-info-row",children:[u.jsx("div",{className:"payment-info-label",children:"Order Number"}),u.jsx("div",{className:"payment-info-value",children:e.name})]}),u.jsxs("div",{className:"payment-info-row",children:[u.jsx("div",{className:"payment-info-label",children:"Total Amount"}),u.jsx("div",{className:"payment-info-value grand-total",children:w(e.grand_total)})]}),e.table_name&&u.jsxs("div",{className:"payment-info-row",children:[u.jsx("div",{className:"payment-info-label",children:"Table"}),u.jsx("div",{className:"payment-info-value",children:e.table_name})]})]}),u.jsxs("div",{className:"payment-actions",children:[u.jsx("h4",{style:{margin:"16px 0 12px",fontSize:"14px",color:"#666"},children:"Select Payment Method"}),k?u.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:[u.jsx("i",{className:"fa fa-spinner fa-spin"})," Loading payment methods..."]}):P.length===0?u.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:"No payment methods configured in POS Profile"}):u.jsx("div",{className:"payment-method-buttons",children:P.map(R=>u.jsxs("button",{className:"payment-method-button",onClick:()=>x(R),disabled:p,children:[u.jsx("i",{className:`fa ${R.mode_of_payment==="Cash"?"fa-money-bill":R.mode_of_payment==="Card"?"fa-credit-card":R.mode_of_payment==="Bank Transfer"?"fa-university":"fa-wallet"}`}),R.mode_of_payment]},R.mode_of_payment))})]})]})]}),l&&u.jsx("div",{className:"modal-overlay",onClick:()=>!p&&c(!1),children:u.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:"Cash Payment"}),u.jsx("button",{className:"modal-close",onClick:()=>{c(!1),m(null)},disabled:p,children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"payment-amount-display",children:[u.jsx("div",{className:"amount-label",children:"Total Amount"}),u.jsx("div",{className:"amount-value",children:w(e.grand_total)})]}),u.jsxs("div",{className:"cash-payment-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Cash Received"}),u.jsx("input",{type:"text",className:"payment-amount-input",value:i,onChange:R=>a(R.target.value.replace(/[^0-9]/g,"")),placeholder:"0",disabled:p})]}),u.jsx("div",{className:"quick-amounts",children:[5e4,1e5,2e5,5e5].map(R=>u.jsx("button",{className:"quick-amount-btn",onClick:()=>L(R),disabled:p,children:w(R)},R))}),u.jsx("div",{className:"payment-keypad",children:[1,2,3,4,5,6,7,8,9,"000",0,"C"].map(R=>u.jsx("button",{className:`keypad-btn ${R==="C"?"clear":""}`,onClick:()=>R==="C"?F():I(R.toString()),disabled:p,children:R},R))}),i&&u.jsxs("div",{className:"change-display",children:[u.jsx("div",{className:"change-label",children:"Change"}),u.jsx("div",{className:`change-value ${H()<0?"insufficient":""}`,children:w(H())})]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"btn-secondary",onClick:()=>{c(!1),m(null)},disabled:p,children:"Cancel"}),u.jsx("button",{className:"btn-primary",onClick:j,disabled:!i||H()<0||p,children:p?u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa fa-spinner fa-spin",style:{marginRight:"8px"}}),"Processing..."]}):"Confirm Payment"})]})]})})]}):null}function oc({title:e,message:t,actions:n=[],error:r=null}){return u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"max-w-md w-full mx-4 bg-white rounded-lg shadow-lg border border-gray-200 p-8",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 text-center mb-2",children:e}),u.jsx("p",{className:"text-gray-600 text-center mb-6",children:t}),r&&u.jsx("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded text-sm",children:u.jsx("div",{className:"font-mono text-red-800 break-words",children:typeof r=="string"?r:r.message||JSON.stringify(r)})}),n.length>0&&u.jsx("div",{className:"space-y-3",children:n.map((s,o)=>{const i=o===0;return u.jsx("a",{href:s.href,className:`
                    block w-full py-3 px-4 rounded-md text-center font-medium
                    transition-colors duration-200
                    ${i?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}
                  `,onClick:s.onClick,children:s.label},o)})}),u.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:u.jsx("p",{className:"text-xs text-gray-500 text-center",children:" Tip: Buka browser console (F12) untuk lihat error details"})})]})})}function Uw({posProfile:e,posOpening:t,onClose:n}){const[r,s]=T.useState(!0),[o,i]=T.useState(null),[a,l]=T.useState(null),[c,p]=T.useState(!0),[g,y]=T.useState(!1);T.useEffect(()=>{m()},[]);const m=async()=>{try{p(!0);const j=await Ce("imogi_pos.api.cashier.get_active_opening");if(!(j!=null&&j.success)||!(j!=null&&j.has_opening)){console.error("[ShiftSummary] No active opening found"),y(!1),p(!1);return}y(!0),p(!1),s(!0);const O=await Ce("imogi_pos.api.cashier.get_opening_summary");if(!(O!=null&&O.success))throw new Error((O==null?void 0:O.error)||"Failed to load summary");l(O),i(null)}catch(j){console.error("[ShiftSummary] Load failed:",j),i(j.message||"Failed to load shift summary")}finally{s(!1)}},S=j=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(j||0),k=()=>{m()},P=()=>{window.print()};if(c)return u.jsx(Vr,{message:"Checking POS opening..."});if(!g)return u.jsx(oc,{title:"Tidak ada POS Opening aktif",message:"Silakan buat POS Opening Entry lalu klik Open POS untuk memulai shift.",actions:[{label:"Buat POS Opening Entry",href:`/app/pos-opening-entry/new-pos-opening-entry-1?pos_profile=${encodeURIComponent(e||"")}`},{label:"Kembali",onClick:n}]});if(r)return u.jsx(Vr,{message:"Loading shift summary..."});if(o)return u.jsx(ji,{error:o,onRetry:k});const w=(a==null?void 0:a.totals_by_mode)||[],x=(a==null?void 0:a.grand_total)||0,_=(a==null?void 0:a.opening)||(t==null?void 0:t.name)||"N/A";return u.jsxs("div",{className:"shift-summary-view",children:[u.jsxs("div",{className:"summary-header",children:[u.jsxs("div",{className:"summary-title",children:[u.jsx("h2",{children:"Ringkasan Shift"}),u.jsxs("p",{className:"summary-subtitle",children:["Opening: ",_]})]}),u.jsxs("div",{className:"summary-actions",children:[u.jsxs("button",{onClick:k,className:"btn-secondary",children:[u.jsx("i",{className:"fa fa-sync"})," Refresh"]}),u.jsxs("button",{onClick:P,className:"btn-secondary",children:[u.jsx("i",{className:"fa fa-print"})," Print"]}),u.jsxs("button",{onClick:n,className:"btn-secondary",children:[u.jsx("i",{className:"fa fa-times"})," Tutup"]})]})]}),u.jsx("div",{className:"summary-content",children:w.length===0?u.jsxs("div",{className:"empty-summary",children:[u.jsx("i",{className:"fa fa-inbox fa-3x"}),u.jsx("p",{children:"Belum ada pembayaran pada shift ini"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"summary-table",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Metode Pembayaran"}),u.jsx("th",{className:"text-center",children:"Jumlah Transaksi"}),u.jsx("th",{className:"text-right",children:"Total"})]})}),u.jsx("tbody",{children:w.map((j,O)=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("strong",{children:j.mode_of_payment})}),u.jsx("td",{className:"text-center",children:j.invoice_count}),u.jsx("td",{className:"text-right",children:S(j.total)})]},O))}),u.jsx("tfoot",{children:u.jsxs("tr",{className:"grand-total-row",children:[u.jsx("td",{children:u.jsx("strong",{children:"Total Keseluruhan"})}),u.jsx("td",{className:"text-center",children:u.jsx("strong",{children:w.reduce((j,O)=>j+(O.invoice_count||0),0)})}),u.jsx("td",{className:"text-right",children:u.jsx("strong",{children:S(x)})})]})})]})}),u.jsxs("div",{className:"summary-chart",children:[u.jsx("h3",{children:"Distribusi Pembayaran"}),u.jsx("div",{className:"chart-bars",children:w.map((j,O)=>{const I=x>0?j.total/x*100:0;return u.jsxs("div",{className:"chart-bar-item",children:[u.jsxs("div",{className:"chart-bar-label",children:[u.jsx("span",{children:j.mode_of_payment}),u.jsxs("span",{children:[I.toFixed(1),"%"]})]}),u.jsx("div",{className:"chart-bar-track",children:u.jsx("div",{className:"chart-bar-fill",style:{width:`${I}%`}})}),u.jsx("div",{className:"chart-bar-amount",children:S(j.total)})]},O)})})]})]})}),u.jsx("style",{jsx:!0,children:`
        .shift-summary-view {
          padding: 1.5rem;
          max-width: 1200px;
          margin: 0 auto;
        }

        .summary-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
          padding-bottom: 1rem;
          border-bottom: 2px solid #e5e7eb;
        }

        .summary-title h2 {
          margin: 0;
          font-size: 1.75rem;
          color: #111827;
        }

        .summary-subtitle {
          margin: 0.25rem 0 0 0;
          color: #6b7280;
          font-size: 0.875rem;
        }

        .summary-actions {
          display: flex;
          gap: 0.75rem;
        }

        .btn-secondary {
          padding: 0.5rem 1rem;
          background: white;
          border: 1px solid #d1d5db;
          border-radius: 0.375rem;
          cursor: pointer;
          font-size: 0.875rem;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          transition: all 0.2s;
        }

        .btn-secondary:hover {
          background: #f9fafb;
          border-color: #9ca3af;
        }

        .empty-summary {
          text-align: center;
          padding: 4rem 2rem;
          color: #6b7280;
        }

        .empty-summary i {
          color: #d1d5db;
          margin-bottom: 1rem;
        }

        .summary-table {
          background: white;
          border-radius: 0.5rem;
          box-shadow: 0 1px 3px rgba(0,0,0,0.1);
          overflow: hidden;
          margin-bottom: 2rem;
        }

        .summary-table table {
          width: 100%;
          border-collapse: collapse;
        }

        .summary-table th {
          background: #f9fafb;
          padding: 0.75rem 1rem;
          text-align: left;
          font-weight: 600;
          color: #374151;
          font-size: 0.875rem;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .summary-table td {
          padding: 1rem;
          border-top: 1px solid #e5e7eb;
        }

        .text-center {
          text-align: center;
        }

        .text-right {
          text-align: right;
        }

        .grand-total-row {
          background: #f9fafb;
          font-size: 1.125rem;
        }

        .grand-total-row td {
          padding: 1.25rem 1rem;
          border-top: 2px solid #d1d5db;
        }

        .summary-chart {
          background: white;
          padding: 1.5rem;
          border-radius: 0.5rem;
          box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .summary-chart h3 {
          margin: 0 0 1.5rem 0;
          font-size: 1.125rem;
          color: #111827;
        }

        .chart-bars {
          display: flex;
          flex-direction: column;
          gap: 1.25rem;
        }

        .chart-bar-item {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }

        .chart-bar-label {
          display: flex;
          justify-content: space-between;
          font-size: 0.875rem;
          font-weight: 500;
          color: #374151;
        }

        .chart-bar-track {
          height: 2rem;
          background: #f3f4f6;
          border-radius: 0.375rem;
          overflow: hidden;
        }

        .chart-bar-fill {
          height: 100%;
          background: linear-gradient(90deg, #3b82f6, #2563eb);
          transition: width 0.5s ease;
        }

        .chart-bar-amount {
          font-size: 0.875rem;
          color: #6b7280;
          text-align: right;
        }

        @media print {
          .summary-actions {
            display: none;
          }
          
          .summary-chart {
            page-break-before: always;
          }
        }
      `})]})}function $w({posProfile:e,posOpening:t,onClose:n,onShiftClosed:r}){const[s,o]=T.useState(!0),[i,a]=T.useState(null),[l,c]=T.useState(!0),[p,g]=T.useState(!1),[y,m]=T.useState(null),[S,k]=T.useState({}),[P,w]=T.useState(!1),[x,_]=T.useState(null);T.useEffect(()=>{j()},[]);const j=async()=>{var U;try{c(!0);const Z=await Ce("imogi_pos.api.cashier.get_active_opening");if(!(Z!=null&&Z.success)||!(Z!=null&&Z.has_opening)){console.error("[CloseShift] No active opening found"),g(!1),c(!1);return}g(!0),c(!1),o(!0);const A=await Ce("imogi_pos.api.cashier.get_opening_summary");if(!(A!=null&&A.success))throw new Error((A==null?void 0:A.error)||"Failed to load summary");m(A);const J={};(U=A.totals_by_mode)==null||U.forEach(ee=>{J[ee.mode_of_payment]=ee.total||0}),k(J),a(null)}catch(Z){console.error("[CloseShift] Load failed:",Z),a(Z.message||"Failed to load shift data")}finally{o(!1)}},O=(U,Z)=>{k(A=>({...A,[U]:parseFloat(Z)||0}))},I=async()=>{try{w(!0),a(null);const U=Object.entries(S).map(([J,ee])=>({mode_of_payment:J,closing_amount:ee})),Z=(y==null?void 0:y.opening)||(t==null?void 0:t.name);if(!Z)throw new Error("Opening name not found");const A=await Ce("imogi_pos.api.cashier.close_pos_opening",{opening_name:Z,counted_balances:U});if(!(A!=null&&A.success))throw new Error((A==null?void 0:A.error)||"Failed to close shift");_(A),r&&r(A)}catch(U){console.error("[CloseShift] Submit failed:",U),a(U.message||"Failed to close shift")}finally{w(!1)}},F=()=>{window.print()},L=U=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(U||0);if(l)return u.jsx(Vr,{message:"Checking POS opening..."});if(!p)return u.jsx(oc,{title:"Tidak ada POS Opening aktif",message:"Buat POS Opening Entry dulu dari ERPNext (POS  POS Opening Entry  Open POS). Setelah itu refresh halaman ini.",actions:[{label:"Open POS Opening Entry",href:"/app/pos-opening-entry"},{label:"Refresh",onClick:()=>window.location.reload()},{label:"Kembali",onClick:n}]});if(s)return u.jsx(Vr,{message:"Loading shift data..."});if(i&&!x)return u.jsx(ji,{error:i,onRetry:j});if(x){const U=x.reconciliation_summary||[],Z=U.reduce((A,J)=>A+(J.difference||0),0);return u.jsxs("div",{className:"close-shift-result",children:[u.jsxs("div",{className:"result-header",children:[u.jsx("div",{className:"success-icon",children:u.jsx("i",{className:"fa fa-check-circle"})}),u.jsx("h2",{children:"Shift Ditutup"}),u.jsxs("p",{className:"result-subtitle",children:["Closing: ",x.closing]}),u.jsxs("p",{className:"result-subtitle",children:["Opening: ",x.opening]})]}),u.jsxs("div",{className:"reconciliation-table",children:[u.jsx("h3",{children:"Rekonsiliasi"}),u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Metode Pembayaran"}),u.jsx("th",{className:"text-right",children:"Expected"}),u.jsx("th",{className:"text-right",children:"Counted"}),u.jsx("th",{className:"text-right",children:"Selisih"})]})}),u.jsx("tbody",{children:U.map((A,J)=>u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("strong",{children:A.mode_of_payment})}),u.jsx("td",{className:"text-right",children:L(A.expected)}),u.jsx("td",{className:"text-right",children:L(A.counted)}),u.jsx("td",{className:`text-right ${A.difference>0?"surplus":A.difference<0?"shortage":""}`,children:L(A.difference)})]},J))}),u.jsx("tfoot",{children:u.jsxs("tr",{children:[u.jsx("td",{children:u.jsx("strong",{children:"Total Selisih"})}),u.jsx("td",{}),u.jsx("td",{}),u.jsx("td",{className:`text-right ${Z>0?"surplus":Z<0?"shortage":""}`,children:u.jsx("strong",{children:L(Z)})})]})})]})]}),u.jsxs("div",{className:"result-actions",children:[u.jsxs("button",{onClick:F,className:"btn-secondary",children:[u.jsx("i",{className:"fa fa-print"})," Print Closing"]}),u.jsxs("button",{onClick:n,className:"btn-primary",children:[u.jsx("i",{className:"fa fa-arrow-left"})," Back to Orders"]})]}),u.jsx("style",{jsx:!0,children:`
          .close-shift-result {
            padding: 2rem;
            max-width: 900px;
            margin: 0 auto;
          }

          .result-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid #e5e7eb;
          }

          .success-icon {
            margin-bottom: 1rem;
          }

          .success-icon i {
            font-size: 4rem;
            color: #10b981;
          }

          .result-header h2 {
            margin: 0.5rem 0;
            font-size: 1.75rem;
            color: #111827;
          }

          .result-subtitle {
            margin: 0.25rem 0;
            color: #6b7280;
            font-size: 0.875rem;
          }

          .reconciliation-table {
            background: white;
            padding: 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
          }

          .reconciliation-table h3 {
            margin: 0 0 1rem 0;
            font-size: 1.125rem;
            color: #111827;
          }

          .reconciliation-table table {
            width: 100%;
            border-collapse: collapse;
          }

          .reconciliation-table th {
            background: #f9fafb;
            padding: 0.75rem;
            text-align: left;
            font-weight: 600;
            color: #374151;
            font-size: 0.875rem;
            text-transform: uppercase;
            border-bottom: 2px solid #e5e7eb;
          }

          .reconciliation-table td {
            padding: 1rem 0.75rem;
            border-bottom: 1px solid #e5e7eb;
          }

          .text-right {
            text-align: right;
          }

          .surplus {
            color: #10b981;
            font-weight: 600;
          }

          .shortage {
            color: #ef4444;
            font-weight: 600;
          }

          .reconciliation-table tfoot td {
            padding: 1rem 0.75rem;
            border-top: 2px solid #d1d5db;
            font-size: 1.125rem;
          }

          .result-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
          }

          .btn-secondary,
          .btn-primary {
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border: none;
          }

          .btn-secondary {
            background: white;
            color: #374151;
            border: 1px solid #d1d5db;
          }

          .btn-secondary:hover {
            background: #f9fafb;
          }

          .btn-primary {
            background: #3b82f6;
            color: white;
          }

          .btn-primary:hover {
            background: #2563eb;
          }

          @media print {
            .result-actions {
              display: none;
            }
          }
        `})]})}const H=(y==null?void 0:y.totals_by_mode)||[],R=(y==null?void 0:y.opening)||(t==null?void 0:t.name);return u.jsxs("div",{className:"close-shift-view",children:[u.jsxs("div",{className:"close-header",children:[u.jsx("h2",{children:"Tutup Shift"}),u.jsxs("p",{className:"close-subtitle",children:["Opening: ",R]})]}),i&&u.jsxs("div",{className:"error-banner",children:[u.jsx("i",{className:"fa fa-exclamation-triangle"}),u.jsx("span",{children:i})]}),u.jsxs("div",{className:"close-content",children:[u.jsxs("div",{className:"instructions",children:[u.jsx("i",{className:"fa fa-info-circle"}),u.jsx("p",{children:"Masukkan jumlah uang yang dihitung untuk setiap metode pembayaran. Sistem akan menghitung selisih antara expected dan counted."})]}),u.jsx("div",{className:"balance-form",children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Metode Pembayaran"}),u.jsx("th",{className:"text-right",children:"Expected"}),u.jsx("th",{className:"text-right",children:"Counted"}),u.jsx("th",{className:"text-right",children:"Selisih"})]})}),u.jsx("tbody",{children:H.map((U,Z)=>{const A=U.total||0,J=S[U.mode_of_payment]||0,ee=J-A;return u.jsxs("tr",{children:[u.jsxs("td",{children:[u.jsx("strong",{children:U.mode_of_payment}),u.jsxs("div",{className:"invoice-count",children:[U.invoice_count," transaksi"]})]}),u.jsx("td",{className:"text-right",children:L(A)}),u.jsx("td",{className:"input-cell",children:u.jsx("input",{type:"number",step:"1000",value:J,onChange:oe=>O(U.mode_of_payment,oe.target.value),className:"counted-input"})}),u.jsx("td",{className:`text-right ${ee>0?"surplus":ee<0?"shortage":""}`,children:L(ee)})]},Z)})})]})}),u.jsxs("div",{className:"close-actions",children:[u.jsxs("button",{onClick:n,className:"btn-secondary",disabled:P,children:[u.jsx("i",{className:"fa fa-times"})," Batal"]}),u.jsx("button",{onClick:I,className:"btn-primary",disabled:P,children:P?u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa fa-spinner fa-spin"})," Menutup Shift..."]}):u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa fa-check"})," Tutup Shift"]})})]})]}),u.jsx("style",{jsx:!0,children:`
        .close-shift-view {
          padding: 1.5rem;
          max-width: 1000px;
          margin: 0 auto;
        }

        .close-header {
          margin-bottom: 2rem;
          padding-bottom: 1rem;
          border-bottom: 2px solid #e5e7eb;
        }

        .close-header h2 {
          margin: 0;
          font-size: 1.75rem;
          color: #111827;
        }

        .close-subtitle {
          margin: 0.5rem 0 0 0;
          color: #6b7280;
          font-size: 0.875rem;
        }

        .error-banner {
          background: #fee2e2;
          border: 1px solid #fecaca;
          color: #991b1b;
          padding: 1rem;
          border-radius: 0.375rem;
          display: flex;
          align-items: center;
          gap: 0.75rem;
          margin-bottom: 1.5rem;
        }

        .instructions {
          background: #dbeafe;
          border: 1px solid #bfdbfe;
          color: #1e40af;
          padding: 1rem;
          border-radius: 0.375rem;
          display: flex;
          align-items: flex-start;
          gap: 0.75rem;
          margin-bottom: 1.5rem;
        }

        .instructions i {
          margin-top: 0.125rem;
          font-size: 1.125rem;
        }

        .instructions p {
          margin: 0;
          font-size: 0.875rem;
          line-height: 1.5;
        }

        .balance-form {
          background: white;
          border-radius: 0.5rem;
          box-shadow: 0 1px 3px rgba(0,0,0,0.1);
          overflow: hidden;
          margin-bottom: 2rem;
        }

        .balance-form table {
          width: 100%;
          border-collapse: collapse;
        }

        .balance-form th {
          background: #f9fafb;
          padding: 0.75rem 1rem;
          text-align: left;
          font-weight: 600;
          color: #374151;
          font-size: 0.875rem;
          text-transform: uppercase;
          border-bottom: 2px solid #e5e7eb;
        }

        .balance-form td {
          padding: 1rem;
          border-bottom: 1px solid #e5e7eb;
        }

        .invoice-count {
          font-size: 0.75rem;
          color: #6b7280;
          margin-top: 0.25rem;
        }

        .text-right {
          text-align: right;
        }

        .input-cell {
          text-align: right;
        }

        .counted-input {
          width: 100%;
          max-width: 180px;
          padding: 0.5rem 0.75rem;
          border: 1px solid #d1d5db;
          border-radius: 0.375rem;
          font-size: 1rem;
          text-align: right;
          transition: all 0.2s;
        }

        .counted-input:focus {
          outline: none;
          border-color: #3b82f6;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .surplus {
          color: #10b981;
          font-weight: 600;
        }

        .shortage {
          color: #ef4444;
          font-weight: 600;
        }

        .close-actions {
          display: flex;
          justify-content: flex-end;
          gap: 1rem;
        }

        .btn-secondary,
        .btn-primary {
          padding: 0.75rem 1.5rem;
          border-radius: 0.375rem;
          font-size: 1rem;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s;
          display: flex;
          align-items: center;
          gap: 0.5rem;
          border: none;
        }

        .btn-secondary {
          background: white;
          color: #374151;
          border: 1px solid #d1d5db;
        }

        .btn-secondary:hover:not(:disabled) {
          background: #f9fafb;
        }

        .btn-primary {
          background: #3b82f6;
          color: white;
        }

        .btn-primary:hover:not(:disabled) {
          background: #2563eb;
        }

        .btn-secondary:disabled,
        .btn-primary:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `})]})}function Vw({order:e,onClose:t,onSplitConfirm:n}){const[r,s]=T.useState("equal"),[o,i]=T.useState(2),[a,l]=T.useState([]),c=S=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(S||0),p=()=>{if(!e)return[];const S=e.grand_total/o,k=[];for(let P=0;P<o;P++)k.push({number:P+1,items:e.items||[],total:S});return k},g=S=>{s(S),S==="equal"&&l(p())},y=S=>{const k=Math.max(2,Math.min(10,o+S));if(i(k),r==="equal"){const P=e.grand_total/k,w=[];for(let x=0;x<k;x++)w.push({number:x+1,items:e.items||[],total:P});l(w)}},m=()=>{n&&n(a,r)};return T.useState(()=>{e&&a.length===0&&l(p())},[e]),e?u.jsx("div",{className:"split-bill-panel",children:u.jsxs("div",{className:"split-container",children:[u.jsxs("div",{className:"split-header",children:[u.jsxs("h3",{children:["Split Bill - ",e.name]}),u.jsxs("div",{className:"split-controls",children:[u.jsx("button",{onClick:t,className:"split-button",children:"Cancel"}),u.jsx("button",{onClick:m,className:"split-button primary",children:"Confirm Split"})]})]}),u.jsxs("div",{className:"split-content",children:[u.jsxs("div",{className:"split-options",children:[u.jsxs("div",{className:"split-option-group",children:[u.jsx("label",{children:"Split Method"}),u.jsxs("div",{className:"split-option-buttons",children:[u.jsx("button",{className:`split-option-button ${r==="equal"?"active":""}`,onClick:()=>g("equal"),children:"Equal"}),u.jsx("button",{className:`split-option-button ${r==="item"?"active":""}`,onClick:()=>g("item"),children:"By Item"}),u.jsx("button",{className:`split-option-button ${r==="amount"?"active":""}`,onClick:()=>g("amount"),children:"By Amount"})]})]}),u.jsxs("div",{className:"split-option-group",children:[u.jsx("label",{children:"Number of Bills"}),u.jsxs("div",{className:"split-number-selector",children:[u.jsx("button",{className:"split-number-btn",onClick:()=>y(-1),disabled:o<=2,children:"-"}),u.jsx("input",{type:"number",className:"split-number-input",value:o,min:"2",max:"10",readOnly:!0}),u.jsx("button",{className:"split-number-btn",onClick:()=>y(1),disabled:o>=10,children:"+"})]})]})]}),u.jsx("div",{className:"split-bills-container",children:a.map((S,k)=>{var P;return u.jsxs("div",{className:"split-col",children:[u.jsx("div",{className:"split-col-header",children:u.jsxs("span",{className:"split-col-title",children:["Bill ",S.number]})}),u.jsx("div",{className:"split-col-body",children:r==="equal"?u.jsxs("div",{className:"split-equal-info",children:[u.jsx("p",{children:"Equal split of total amount"}),u.jsxs("p",{className:"split-item-count",children:[((P=e.items)==null?void 0:P.length)||0," items included"]})]}):u.jsx("div",{className:"split-items-list",children:S.items.map((w,x)=>u.jsxs("div",{className:"split-item",children:[u.jsxs("div",{className:"split-item-details",children:[u.jsx("div",{className:"split-item-name",children:w.item_name}),u.jsx("div",{className:"split-item-price",children:c(w.rate)})]}),u.jsxs("div",{className:"split-item-qty",children:["x",w.qty]})]},x))})}),u.jsx("div",{className:"split-col-footer",children:u.jsxs("div",{className:"split-total",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:c(S.total)})]})})]},k)})})]})]})}):null}function Hw({isOpen:e,onClose:t,templateName:n,mode:r="add",onSelectVariant:s}){const[o,i]=T.useState([]),[a,l]=T.useState([]),[c,p]=T.useState({}),[g,y]=T.useState(!0),[m,S]=T.useState(null);T.useEffect(()=>{e&&n&&k()},[e,n]);const k=async()=>{y(!0),S(null);try{const L=await Ce("imogi_pos.api.variants.get_item_variants",{template:n});i(L.variants||[]),l(L.attributes||[])}catch(L){S("Failed to load variants"),console.error("[imogi][variants] Error loading variants:",L)}finally{y(!1)}},P=(L,H)=>{p(R=>({...R,[L]:H}))},w=()=>{p({})},x=()=>Object.keys(c).length===0?o:o.filter(L=>{const H=L.attributes||{};return Object.entries(c).every(([R,U])=>U?H[R]===U:!0)}),_=L=>{s&&s(L.name,r),t()},j=L=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(L||0),O=L=>{const H=new Set;return o.forEach(R=>{const U=R.attributes||{};U[L]&&H.add(U[L])}),Array.from(H).sort()};if(!e)return null;const I=x(),F=r==="convert"?"Select Variant to Replace Template":"Select Variant";return u.jsx("div",{className:"modal-overlay",onClick:t,children:u.jsxs("div",{className:"modal-content variant-picker-modal",onClick:L=>L.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:F}),u.jsx("button",{className:"modal-close",onClick:t,children:""})]}),u.jsxs("div",{className:"modal-body",children:[g&&u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading variants..."})]}),m&&u.jsxs("div",{className:"error-message",children:[u.jsx("p",{children:m}),u.jsx("button",{onClick:k,className:"btn-retry",children:"Retry"})]}),!g&&!m&&u.jsxs(u.Fragment,{children:[a.length>0&&u.jsxs("div",{className:"variant-filters",children:[u.jsxs("div",{className:"filter-header",children:[u.jsx("h4",{children:"Filter by Attributes"}),Object.keys(c).length>0&&u.jsx("button",{onClick:w,className:"btn-clear-filters",children:"Clear All"})]}),u.jsx("div",{className:"filter-grid",children:a.map(L=>{const H=L.name||L.attribute,R=O(H);return u.jsxs("div",{className:"variant-filter",children:[u.jsx("label",{children:H}),u.jsxs("select",{value:c[H]||"",onChange:U=>P(H,U.target.value),className:"variant-attribute-select",children:[u.jsxs("option",{value:"",children:["All ",H]}),R.map(U=>u.jsx("option",{value:U,children:U},U))]})]},H)})})]}),u.jsx("div",{className:"variant-list",children:I.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("i",{className:"fa fa-inbox"}),u.jsx("p",{children:"No variants found"}),Object.keys(c).length>0&&u.jsx("button",{onClick:w,className:"btn-secondary",children:"Clear Filters"})]}):u.jsx("div",{className:"variant-grid",children:I.map(L=>{const H=L.attributes||{},R=L.rate||L.standard_rate||0;return u.jsxs("div",{className:"variant-card",onClick:()=>_(L),children:[L.image&&u.jsx("div",{className:"variant-image",children:u.jsx("img",{src:L.image,alt:L.item_name})}),u.jsxs("div",{className:"variant-info",children:[u.jsx("div",{className:"variant-name",children:L.item_name}),Object.keys(H).length>0&&u.jsx("div",{className:"variant-attrs",children:Object.entries(H).map(([U,Z])=>u.jsx("span",{className:"variant-attr-badge",children:Z},U))}),u.jsx("div",{className:"variant-price",children:j(R)})]})]},L.name)})})}),I.length>0&&u.jsxs("div",{className:"variant-count",children:["Showing ",I.length," of ",o.length," variants"]})]})]})]})})}function qw({posProfile:e,onSelectItem:t}){const[n,r]=T.useState([]),[s,o]=T.useState([]),[i,a]=T.useState("all"),[l,c]=T.useState(!0),[p,g]=T.useState(null);T.useEffect(()=>{y()},[e]),T.useEffect(()=>{i&&m()},[i,e]);const y=async()=>{try{const P=await Ce("imogi_pos.api.variants.get_item_groups",{pos_profile:e});r(P||[])}catch(P){console.error("[imogi][catalog] Error loading item groups:",P)}},m=async()=>{c(!0),g(null);try{const P=await Ce("imogi_pos.api.variants.get_template_items",{pos_profile:e,item_group:i==="all"?null:i});o(P||[])}catch(P){g("Failed to load items"),console.error("[imogi][catalog] Error loading items:",P)}finally{c(!1)}},S=P=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(P||0),k=P=>{t&&t(P)};return u.jsx("div",{className:"catalog-panel",children:u.jsxs("div",{className:"catalog-container",children:[u.jsx("div",{className:"catalog-sidebar",children:u.jsxs("div",{className:"item-group-list",children:[u.jsxs("button",{className:`item-group-btn ${i==="all"?"active":""}`,onClick:()=>a("all"),children:[u.jsx("i",{className:"fa fa-th"}),"All Items"]}),n.map(P=>u.jsx("button",{className:`item-group-btn ${i===P.name?"active":""}`,onClick:()=>a(P.name),children:P.name},P.name))]})}),u.jsxs("div",{className:"catalog-main",children:[l&&u.jsxs("div",{className:"loading-container",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading items..."})]}),p&&u.jsxs("div",{className:"error-message",children:[u.jsx("p",{children:p}),u.jsx("button",{onClick:m,className:"btn-retry",children:"Retry"})]}),!l&&!p&&u.jsx("div",{className:"catalog-items",children:s.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("i",{className:"fa fa-shopping-cart empty-icon"}),u.jsx("p",{children:"No items found in this category"})]}):u.jsx("div",{className:"catalog-grid",children:s.map(P=>{const w=P.has_variants===1||P.has_variants===!0,x=w&&P.price_display?P.price_display:S(P.standard_rate||0);return u.jsxs("div",{className:`catalog-item ${w?"has-variants":""}`,onClick:()=>k(P),children:[P.image&&u.jsx("div",{className:"item-image",children:u.jsx("img",{src:P.image,alt:P.item_name})}),u.jsxs("div",{className:"item-details",children:[u.jsxs("div",{className:"item-name",children:[P.item_name,w&&u.jsx("i",{className:"fa fa-list variant-icon",title:"Has variants"})]}),u.jsx("div",{className:"item-price",children:x}),P.description&&u.jsx("div",{className:"item-description",children:P.description})]})]},P.name)})})})]})]})})}function Ww({branch:e,onSelectTable:t,onClose:n}){const[r,s]=T.useState([]),[o,i]=T.useState(!0),[a,l]=T.useState(null),[c,p]=T.useState("Available");T.useEffect(()=>{g()},[e]);const g=async()=>{i(!0),l(null);try{const k=await Ce("imogi_pos.api.table.get_tables",{branch:e});s(k||[])}catch(k){l("Failed to load tables"),console.error("[TableSelector] Error loading tables:",k)}finally{i(!1)}},y=r.filter(k=>c==="All"?!0:k.status===c),m=k=>{switch(k){case"Available":return"#10b981";case"Occupied":return"#f59e0b";case"Reserved":return"#3b82f6";case"Inactive":return"#6b7280";default:return"#6b7280"}},S=k=>{k.status==="Available"&&t(k)};return u.jsx("div",{className:"modal-overlay",onClick:n,children:u.jsxs("div",{className:"modal-content table-selector-modal",onClick:k=>k.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h3",{children:"Select Table"}),u.jsx("button",{onClick:n,className:"btn-close",children:u.jsx("i",{className:"fa fa-times"})})]}),u.jsx("div",{className:"table-selector-filters",children:["Available","Occupied","Reserved","All"].map(k=>u.jsx("button",{className:`filter-btn ${c===k?"active":""}`,onClick:()=>p(k),children:k},k))}),u.jsxs("div",{className:"table-selector-content",children:[o&&u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading tables..."})]}),a&&u.jsxs("div",{className:"error-state",children:[u.jsx("i",{className:"fa fa-exclamation-circle"}),u.jsx("p",{children:a}),u.jsx("button",{className:"btn-retry",onClick:g,children:"Retry"})]}),!o&&!a&&y.length===0&&u.jsxs("div",{className:"empty-state",children:[u.jsx("i",{className:"fa fa-chair"}),u.jsx("p",{children:"No tables found"})]}),!o&&!a&&y.length>0&&u.jsx("div",{className:"table-grid",children:y.map(k=>u.jsxs("div",{className:`table-card ${k.status.toLowerCase()}`,onClick:()=>S(k),style:{borderColor:m(k.status),cursor:k.status==="Available"?"pointer":"not-allowed",opacity:k.status==="Available"?1:.6},children:[u.jsxs("div",{className:"table-card-header",children:[u.jsxs("div",{className:"table-name",children:[u.jsx("i",{className:"fa fa-utensils"}),k.table_name]}),u.jsx("div",{className:"table-status",style:{backgroundColor:m(k.status)},children:k.status})]}),k.capacity&&u.jsxs("div",{className:"table-capacity",children:[u.jsx("i",{className:"fa fa-users"}),"Capacity: ",k.capacity]}),k.current_order&&u.jsx("div",{className:"table-order-info",children:u.jsxs("small",{children:["Order: ",k.current_order]})})]},k.name))})]}),u.jsx("div",{className:"modal-footer",children:u.jsx("button",{className:"btn-secondary",onClick:n,children:"Cancel"})})]})})}function Kw(e,t){const[n,r]=T.useState(null),[s,o]=T.useState(!1),i=()=>{if(n&&!n.closed){n.focus();return}const l=800,c=600,p=window.screen.width-l,y=window.open("","CustomerDisplay",`width=${l},height=${c},left=${p},top=0`);if(y){y.document.title="Customer Display",y.document.body.innerHTML='<div id="customer-display-root"></div>';const m=Array.from(document.styleSheets).map(k=>{try{return Array.from(k.cssRules).map(P=>P.cssText).join(`
`)}catch{return""}}).join(`
`),S=y.document.createElement("style");S.textContent=m,y.document.head.appendChild(S),r(y),o(!0),y.addEventListener("beforeunload",()=>{o(!1),r(null)})}},a=()=>{n&&!n.closed&&n.close(),o(!1),r(null)};return T.useEffect(()=>{if(n&&!n.closed&&e){const l=n.document.getElementById("customer-display-root");l&&(l.innerHTML=`
          <div class="customer-display-container">
            <div class="customer-display-header">
              ${t!=null&&t.logo?`<img src="${t.logo}" class="customer-display-logo" />`:""}
              <h1>${(t==null?void 0:t.company_name)||"IMOGI POS"}</h1>
            </div>
            <div class="customer-display-content">
              ${e.items&&e.items.length>0?`
                <div class="customer-display-items">
                  ${e.items.map(c=>`
                    <div class="customer-display-item">
                      <span>${c.qty}x</span>
                      <span>${c.item_name}</span>
                      <span>${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(c.amount||c.rate*c.qty)}</span>
                    </div>
                  `).join("")}
                </div>
                <div class="customer-display-totals">
                  <div class="total-row grand-total">
                    <span>Total</span>
                    <span>${new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e.grand_total)}</span>
                  </div>
                </div>
              `:'<div class="customer-display-welcome"><h2>Welcome!</h2></div>'}
            </div>
          </div>
        `)}},[e,n,t]),{isOpen:s,openDisplay:i,closeDisplay:a}}const qa=e=>Array.isArray(e)?e:[];function Qw({initialState:e}){const{isLoading:t,guardPassed:n,posProfile:r,profileData:s,branch:o,posOpening:i,openingStatus:a,openingError:l,retryOpening:c,serverContextError:p,retryServerContext:g}=_w({requiresOpening:!0,targetModule:"imogi-cashier"}),{mode:y}=vw(),m=o||e.branch||null;if(!t&&!n&&a==="missing")return console.error("[CashierConsole] Blocked: No active POS Opening Entry",{posProfile:r,openingStatus:a,openingError:l,posOpening:i}),u.jsx(oc,{title:"POS Opening belum ada",message:"Silakan buat POS Opening Entry via ERPNext. Setelah itu refresh halaman ini.",error:(l==null?void 0:l.message)||l,actions:[{label:"Buat POS Opening Entry",href:`/app/pos-opening-entry/new-pos-opening-entry-1?pos_profile=${encodeURIComponent(r||"")}`},{label:"Kembali ke Module Select",href:"/app/imogi-module-select"}]});const S=r||e.pos_profile||null,k=["Counter","Table"],P=(s==null?void 0:s.mode)||y,w=k.includes(P)?P:k.includes(e.pos_mode)?e.pos_mode:"Counter",{data:x,error:_,isLoading:j}=Va(shouldFetchOrders?S:null,shouldFetchOrders?m:null,shouldFetchOrders?orderType:null),O=shouldFetchOrders&&(s==null?void 0:s.imogi_enable_self_order)===1,{data:I}=Va(O?S:null,O?m:null,O?"Self Order":null),F=shouldFetchOrders&&(s==null?void 0:s.imogi_enable_kiosk)===1,{data:L}=Va(F?S:null,F?m:null,F?"Kiosk":null),H=[...qa(x),...qa(I),...qa(L)],[R,U]=T.useState(null),[Z,A]=T.useState("orders"),[J,ee]=T.useState(!1),[oe,G]=T.useState(!1),[D,W]=T.useState(!1),[X,ie]=T.useState(!1),[me,fe]=T.useState(!1),[ye,$e]=T.useState(null),[Ke,dt]=T.useState(!1),[Yr,Jr]=T.useState(null),[tn,nn]=T.useState(!1),[ae,ve]=T.useState(null),[ke,ce]=T.useState({connected:!1,checking:!0}),{isOpen:Nt,openDisplay:bt,closeDisplay:Be}=Kw(R,ae);T.useEffect(()=>{S&&(Fe(),vt())},[S]);const Fe=async()=>{try{const Y=await Ce("imogi_pos.api.public.get_branding");Y&&(ve(Y),console.log("[Cashier] Branding loaded:",Y))}catch(Y){console.warn("[Cashier] Failed to load branding:",Y)}},vt=async()=>{try{if(window.escposPrint&&typeof window.escposPrint.getStatus=="function"){const Y=await window.escposPrint.getStatus();ce({connected:Y.connected||!1,checking:!1})}else ce({connected:!1,checking:!1})}catch(Y){console.warn("[Cashier] Printer status check failed:",Y),ce({connected:!1,checking:!1})}};if(T.useEffect(()=>{const Y=de=>{const{itemRow:le,itemCode:ot}=de.detail;$e({mode:"convert",templateName:ot,orderItemRow:le}),fe(!0)};return window.addEventListener("selectVariant",Y),()=>window.removeEventListener("selectVariant",Y)},[R]),T.useEffect(()=>{const Y=()=>{W(!0),ee(!1),ie(!1),A("summary")};return window.addEventListener("showShiftSummary",Y),()=>window.removeEventListener("showShiftSummary",Y)},[]),T.useEffect(()=>{const Y=()=>{ie(!0),ee(!1),G(!1),W(!1),A("close")};return window.addEventListener("closeShift",Y),()=>window.removeEventListener("closeShift",Y)},[]),T.useEffect(()=>{if(!t&&!n){const Y=setTimeout(()=>{console.warn("[Cashier Console] Guard timeout - redirecting to module selection"),window.location.href="/app/imogi-module-select?reason=timeout&target=imogi-cashier"},1e4);return()=>clearTimeout(Y)}},[t,n]),t)return u.jsx(Vr,{message:"Loading Cashier Console..."});if(p)return u.jsx(ji,{error:(p==null?void 0:p.message)||"Failed to sync operational context.",onRetry:()=>g&&g()});if(a==="error")return u.jsx(ji,{error:(l==null?void 0:l.message)||(i==null?void 0:i.error_message)||"Failed to verify POS opening.",onRetry:()=>c&&c()});if(!n)return u.jsx(Vr,{message:"Verifying POS opening..."});const rn=Y=>{U(Y),A("orders"),ee(!1),G(!1)},ur=async Y=>{if(!Y||!Y.name)throw console.error("[Cashier] Invalid order for claim",Y),new Error("Invalid order");try{console.log("[Cashier] Claiming order:",Y.name);const de=i==null?void 0:i.pos_opening_entry;if(!de){console.warn("[Cashier] No active opening available (should not happen after guard passed)"),rn(Y);return}const le=await Ce("imogi_pos.api.order_concurrency.claim_order",{order_name:Y.name,opening_entry:de});if(!le||!le.success)throw new Error((le==null?void 0:le.message)||(le==null?void 0:le.error)||"Failed to claim order");console.log("[Cashier] Order claimed successfully:",le),rn({...Y,claimed_by:frappe.session.user})}catch(de){console.error("[Cashier] Error claiming order:",de),frappe.msgprint({title:"Claim Error",message:de.message||"Failed to claim order. You may still process it.",indicator:"orange"}),rn(Y)}},qn=()=>{console.log("[Cashier] New Order clicked, mode:",w),w==="Counter"?Qe():dt(!0),ee(!1),G(!1)},Qe=async()=>{var Y;nn(!0);try{const de=await _f();if(!de.pos_profile||!de.branch){alert("POS Profile & Branch wajib dipilih. Silakan pilih dari module select."),console.error("[Cashier] Context not resolved:",de);return}console.log("[Cashier] Creating counter order with context:",de.pos_profile,de.branch);const le=await Ce("imogi_pos.api.orders.create_order",{pos_profile:de.pos_profile,branch:de.branch,order_type:"Counter",items:[]});if(le!=null&&le.order_name){console.log("[Cashier] Counter order created:",le.order_name);const ot=await Ce("imogi_pos.api.orders.get_order",{order_name:le.order_name});ot&&(U(ot),console.log("[Cashier] Order selected:",ot)),A("catalog")}}catch(de){console.error("[Cashier] Failed to create counter order:",de),(Y=de.message)!=null&&Y.includes("CONTEXT_")?(alert("Context Error: "+de.message.split(": ")[1]),window.location.href="/app/imogi-module-select"):alert("Failed to create order: "+(de.message||"Unknown error"))}finally{nn(!1)}},b=async Y=>{var de;nn(!0),dt(!1);try{const le=await _f();if(!le.pos_profile||!le.branch){alert("POS Profile & Branch wajib dipilih. Silakan pilih dari module select."),console.error("[Cashier] Context not resolved:",le);return}console.log("[Cashier] Creating table order with context:",le.pos_profile,le.branch);const ot=await Ce("imogi_pos.api.orders.create_order",{pos_profile:le.pos_profile,branch:le.branch,order_type:"Dine In",table:Y.name,items:[]});if(ot!=null&&ot.order_name){console.log("[Cashier] Table order created:",ot.order_name);const Zr=await Ce("imogi_pos.api.orders.get_order",{order_name:ot.order_name});Zr&&(U(Zr),Jr(Y),console.log("[Cashier] Order selected:",Zr)),A("catalog")}}catch(le){console.error("[Cashier] Failed to create table order:",le),(de=le.message)!=null&&de.includes("CONTEXT_")?(alert("Context Error: "+le.message.split(": ")[1]),window.location.href="/app/imogi-module-select"):alert("Failed to create order: "+(le.message||"Unknown error"))}finally{nn(!1)}},te=Y=>{Y.has_variants===1||Y.has_variants===!0?($e({mode:"add",templateName:Y.name,orderItemRow:null}),fe(!0)):sn(Y.name)},cr=async(Y,de)=>{de==="convert"&&(ye!=null&&ye.orderItemRow)?await Hi(ye.orderItemRow,Y):await sn(Y),fe(!1),$e(null)},sn=async Y=>{if(!R){alert("Please select an order first or create a new one");return}try{await Ce("imogi_pos.api.orders.add_item_to_order",{order_name:R.name,item_code:Y,qty:1}),alert("Item added to order successfully")}catch(de){alert("Failed to add item: "+(de.message||"Unknown error"))}},Hi=async(Y,de)=>{if(R)try{await Ce("imogi_pos.api.variants.choose_variant_for_order_item",{pos_order:R.name,order_item_row:Y,variant_item:de}),alert("Template converted to variant successfully")}catch(le){alert("Failed to convert: "+(le.message||"Unknown error"))}},Xr=()=>{R&&alert(`Printing bill for order: ${R.name}`)},Gs=()=>{R&&(G(!0),ee(!1),W(!1),A("split"))},Zs=()=>{R&&(ee(!0),G(!1),A("payment"))},qi=Y=>{console.log("Payment completed:",Y),alert(`Payment successful!
Change: ${Y.change}`),ee(!1),A("orders")},Wi=(Y,de)=>{console.log("Split confirmed:",{splits:Y,method:de}),aleShowSummary(!1),A("orders")},dr=()=>{W(!1),setrt(`Split bill confirmed: ${splits.length} bills using ${method} method`),G(!1),A("orders")},eo=Y=>{console.log("[Cashier] Mode change requested:",Y),alert(`Mode switching to ${Y} - This would update POS Profile configuration`)},Gr=Y=>{console.log("[Cashier] Search/Scan:",Y),alert(`Searching for: ${Y}`)},to=()=>{R&&(console.log("[Cashier] Hold order:",R.name),alert(`Order ${R.name} put on hold`))},Ki=()=>{if(!R)return;confirm(`Are you sure you want to clear order ${R.name}?`)&&(console.log("[Cashier] Clear order:",R.name),U(null))};return u.jsxs("div",{className:"cashier-console","data-pos-mode":P,children:[u.jsx(zw,{posMode:w,onModeChange:eo,posProfile:S,branch:m,posOpening:i,branding:ae,profileData:s,printerStatus:ke,onSearchScan:Gr}),u.jsxs("div",{className:"cashier-console-layout",children:[u.jsx(Iw,{orders:H||[],selectedOrder:R,onSelectOrder:rn,onClaimOrder:ur,posMode:P,isMultiSession:!!validatedOpening||!!urlOpeningEntry}),u.jsx("div",{className:"cashier-console-main",children:u.jsxs("div",{className:"cashier-console-content",children:[Z==="orders"&&!J&&!oe&&!D&&!X&&u.jsx(Dw,{order:R,posMode:P}),Z==="catalog"&&u.jsx(qw,{posProfile:r,onSelectItem:te}),J&&u.jsx(Mw,{order:R,posProfile:S,onClose:()=>{ee(!1),A("orders")},onPaymentComplete:qi}),D&&u.jsx(Uw,{posProfile:S,posOpening:i,onClose:dr}),X&&u.jsx($w,{posProfile:S,posOpening:i,onClose:handleCloseShiftView,onShiftClosed:handleShiftClosed}),oe&&u.jsx(Vw,{order:R,onClose:()=>{G(!1),A("orders")},onSplitConfirm:Wi})]})})]}),u.jsx(Bw,{selectedOrder:R,viewMode:Z,onViewChange:A,onNewOrder:qn,onPrintBill:Xr,onSplitBill:Gs,onRequestPayment:Zs,onHoldOrder:to,onClearOrder:Ki,posMode:w,selectedTable:Yr,creatingOrder:tn,isCustomerDisplayOpen:Nt,onOpenCustomerDisplay:bt,onCloseCustomerDisplay:Be}),u.jsx(Hw,{isOpen:me,onClose:()=>{fe(!1),$e(null)},templateName:ye==null?void 0:ye.templateName,mode:(ye==null?void 0:ye.mode)||"add",onSelectVariant:cr}),Ke&&u.jsx(Ww,{branch:m,onSelectTable:b,onClose:()=>dt(!1)})]})}function vm({initialState:e}){return u.jsx(Sw,{children:u.jsx(sc,{initialState:e,children:u.jsx(Qw,{initialState:e})})})}const Cf=window.__INITIAL_STATE__||{},jf=document.getElementById("root");jf&&Zo.createRoot(jf).render(u.jsx(qr.StrictMode,{children:u.jsx(sc,{initialState:Cf,children:u.jsx(vm,{initialState:Cf})})}));window.imogiCashierMount=function(e,t={}){const n=t.initialState||window.__INITIAL_STATE__||{},r=Zo.createRoot(e);return r.render(u.jsx(qr.StrictMode,{children:u.jsx(sc,{initialState:n,children:u.jsx(vm,{initialState:n})})})),e._reactRoot=r,r};window.imogiCashierUnmount=function(e){e._reactRoot&&(e._reactRoot.unmount(),e._reactRoot=null)};
