{
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Default",
  "format_data": null,
  "html": "<div class=\"payment-receipt\">\n    {% set branch_address = \"\" %}\n    {% if doc.branch %}\n        {% set branch = frappe.get_cached_doc(\"Branch\", doc.branch) %}\n        {% if branch %}\n            {% set branch_address_candidate = branch.get(\"branch_address\") %}\n            {% if branch_address_candidate %}\n                {% if frappe.db.exists(\"Address\", branch_address_candidate) %}\n                    {% set branch_address_doc = frappe.get_cached_doc(\"Address\", branch_address_candidate).as_dict() %}\n                    {% set branch_address = frappe.utils.get_address_display(branch_address_doc) or branch_address_candidate %}\n                {% else %}\n                    {% set branch_address = branch_address_candidate %}\n                {% endif %}\n            {% endif %}\n            {% if not branch_address %}\n                {% set branch_address_candidate = branch.get(\"address\") %}\n                {% if branch_address_candidate %}\n                    {% if frappe.db.exists(\"Address\", branch_address_candidate) %}\n                        {% set branch_address_doc = frappe.get_cached_doc(\"Address\", branch_address_candidate).as_dict() %}\n                        {% set branch_address = frappe.utils.get_address_display(branch_address_doc) or branch_address_candidate %}\n                    {% else %}\n                        {% set branch_address = branch_address_candidate %}\n                    {% endif %}\n                {% endif %}\n            {% endif %}\n            {% if not branch_address %}\n                {% set branch_address_candidate = branch.get(\"default_address\") %}\n                {% if branch_address_candidate and frappe.db.exists(\"Address\", branch_address_candidate) %}\n                    {% set branch_address_doc = frappe.get_cached_doc(\"Address\", branch_address_candidate).as_dict() %}\n                    {% set branch_address = frappe.utils.get_address_display(branch_address_doc) or branch_address_candidate %}\n                {% endif %}\n            {% endif %}\n        {% endif %}\n    {% endif %}\n    {% if not branch_address %}\n        {% set company = frappe.get_cached_doc(\"Company\", doc.company) %}\n        {% if company %}\n            {% set company_address_candidate = company.get(\"default_address\") %}\n            {% if company_address_candidate and frappe.db.exists(\"Address\", company_address_candidate) %}\n                {% set company_address_doc = frappe.get_cached_doc(\"Address\", company_address_candidate).as_dict() %}\n                {% set branch_address = frappe.utils.get_address_display(company_address_doc) or company_address_candidate %}\n            {% endif %}\n            {% if not branch_address %}\n                {% set company_address_candidate = company.get(\"company_address\") %}\n                {% if company_address_candidate %}\n                    {% if frappe.db.exists(\"Address\", company_address_candidate) %}\n                        {% set company_address_doc = frappe.get_cached_doc(\"Address\", company_address_candidate).as_dict() %}\n                        {% set branch_address = frappe.utils.get_address_display(company_address_doc) or company_address_candidate %}\n                    {% else %}\n                        {% set branch_address = company_address_candidate %}\n                    {% endif %}\n                {% endif %}\n            {% endif %}\n            {% if not branch_address %}\n                {% set company_address_candidate = company.get(\"address\") %}\n                {% if company_address_candidate %}\n                    {% if frappe.db.exists(\"Address\", company_address_candidate) %}\n                        {% set company_address_doc = frappe.get_cached_doc(\"Address\", company_address_candidate).as_dict() %}\n                        {% set branch_address = frappe.utils.get_address_display(company_address_doc) or company_address_candidate %}\n                    {% else %}\n                        {% set branch_address = company_address_candidate %}\n                    {% endif %}\n                {% endif %}\n            {% endif %}\n        {% endif %}\n    {% endif %}\n    <div class=\"receipt-header\">\n        <h2>{{ doc.company }}</h2>\n        <p>{{ branch_address }}</p>\n        <h3>PAYMENT RECEIPT</h3>\n        <p>Receipt #: {{ doc.name }}</p>\n        <p>Date: {{ frappe.utils.formatdate(doc.posting_date) }}</p>\n        <p>Time: {{ frappe.utils.formatdate(doc.posting_time, \"hh:mm:ss\") }}</p>\n        {% if doc.customer_name %}\n        <p>Customer: {{ doc.customer_name }}</p>\n        {% endif %}\n    </div>\n    <div class=\"receipt-items\">\n        <table class=\"table table-condensed\">\n            <thead>\n                <tr>\n                    <th>Item</th>\n                    <th>Qty</th>\n                    <th>Amount</th>\n                </tr>\n            </thead>\n            <tbody>\n                {% for item in doc.items %}\n                <tr>\n                    <td>{{ item.item_name }}\n                    {% if item.description and \"Counter\" in doc.pos_profile or \"Kiosk\" in doc.pos_profile %}\n                    <br><small>{{ item.description }}</small>\n                    {% endif %}\n                    </td>\n                    <td>{{ item.qty }}</td>\n                    <td>{{ frappe.utils.fmt_money(item.amount, currency=doc.currency) }}</td>\n                </tr>\n                {% endfor %}\n            </tbody>\n        </table>\n    </div>\n    <div class=\"receipt-summary\">\n        <table class=\"table table-condensed\">\n            <tr>\n                <td>Subtotal</td>\n                <td>{{ frappe.utils.fmt_money(doc.total, currency=doc.currency) }}</td>\n            </tr>\n            <tr>\n                <td>PB1</td>\n                <td>{{ frappe.utils.fmt_money(doc.total * 0.11, currency=doc.currency) }}</td>\n            </tr>\n            <tr>\n                <td>Diskon</td>\n                <td>{{ frappe.utils.fmt_money(doc.discount_amount or 0, currency=doc.currency) }}</td>\n            </tr>\n            <tr>\n                <td><strong>Total</strong></td>\n                <td><strong>{{ frappe.utils.fmt_money(doc.total + (doc.total * 0.11) - (doc.discount_amount or 0), currency=doc.currency) }}</strong></td>\n            </tr>\n        </table>\n    </div>\n    <div class=\"payment-details\">\n        <h4>Payment Details</h4>\n        <table class=\"table table-condensed\">\n            {% for payment in doc.payments %}\n            <tr>\n                <td>{{ payment.mode_of_payment }}</td>\n                <td>{{ frappe.utils.fmt_money(payment.amount, currency=doc.currency) }}</td>\n            </tr>\n            {% endfor %}\n        <tr>\n                <td><strong>Paid Amount</strong></td>\n                <td><strong>{{ frappe.utils.fmt_money(doc.paid_amount, currency=doc.currency) }}</strong></td>\n            </tr>\n            {% if doc.change_amount %}\n            <tr>\n                <td>Change</td>\n                <td>{{ frappe.utils.fmt_money(doc.change_amount, currency=doc.currency) }}</td>\n            </tr>\n            {% endif %}\n        </table>\n    </div>\n    <div class=\"receipt-footer\">\n        <p>Thank you for your purchase!</p>\n        <p>POS Session: {{ doc.pos_session or \"\" }}</p>\n        <p>Cashier: {{ frappe.db.get_value(\"User\", doc.owner, \"full_name\") }}</p>\n    </div>\n</div>",
  "line_breaks": 0,
  "margin_bottom": 15,
  "margin_left": 15,
  "margin_right": 15,
  "margin_top": 15,
  "modified": "2025-09-22 12:45:01.669513",
  "module": "IMOGI POS",
  "name": "Payment Receipt",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_printing": 1,
  "show_section_headings": 0,
  "standard": "Yes"
}